<?php

class CommonModel extends CI_Model {
	function __construct() {
		parent::__construct();
	}
	function checkAPIWebUser(){
		$userID=$this->session->userdata('UserID');
		if(empty($userID)){ 
			return FALSE;
		} else { 
			return TRUE;
		}
	}
	function checkUser(){
		$userID=$this->session->userdata('UserID');
		if(empty($userID)){ 
			redirect('/');
		} else { 
			return TRUE;
		}
	}
	function checkAppRequest($dataHeader){
		include_once(APPPATH.'libraries/cryptojs-aes.php');
		$check=false;
		if(!empty($dataHeader['token'])){
			$tokenCheck=cryptoJsAesDecrypt(API_SALT,$dataHeader['token']);
			//$tokenCheck=encryptor($dataHeader['token'],'decrypt');
			if(empty($tokenCheck)){
				return false;
			} else {
				$tokenData=explode('_', $tokenCheck);
				$this->db->select('usertoken.UsertokenID,usertoken.LastActive,usertoken.Origin,role.RoleName,role.RoleID');
				$this->db->from('usertoken');
				$this->db->join('userrole', 'usertoken.UserID = userrole.UserID AND userrole.IsActive="1"', 'inner');
				$this->db->join('role', 'userrole.RoleID = role.RoleID AND role.IsActive="1"', 'inner');
				$this->db->where('usertoken.UserID',$tokenData[1]);
				$this->db->where('usertoken.LoginhistoryID',$tokenData[0]);
				$queryToken = $this->db->get();
				if($queryToken -> num_rows()>=1){
					$result_set = $queryToken->result();
					//echo date('Y-m-d H:i:s').' <-> '.$result_set[0]->LastActive.'  -> ';
					$start_date = new DateTime($result_set[0]->LastActive);
					$since_start = $start_date->diff(new DateTime(date('Y-m-d H:i:s')));
					$timeElapsed=explode(':',$since_start->format("%a:%H:%I:%S"));
					/*echo $since_start->i."<br>";
					echo $since_start->h."<br>";
					echo $since_start->days."<br>";
					echo date('Y-m-d H:i:s')."<br>";
					echo $result_set[0]->LastActive."<br>";*/
					if($since_start->i<30 && $since_start->h=='0' && $since_start->days=='0'){
						// same prev hit time cond removed $result_set[0]->LastActive==$tokenData[3] &&
						if($result_set[0]->Origin==$tokenData[2]){
							//$origin=$_SERVER['HTTP_ORIGIN'];
							$callTime=date('Y-m-d H:i:s');
							$APIKey= cryptoJsAesEncrypt(API_SALT, $tokenData[0].'_'.$tokenData[1].'_'.$tokenData[2].'_'.$callTime);
							$updateToken=array(
								'LastActive'=>$callTime,
								'Token'=>$APIKey
							);
						  	$sqlState="SELECT GROUP_CONCAT(DISTINCT StateID) as mappedStates FROM `usermapping` WHERE `UserID`='".trim($tokenData[1])."' and IsActive='1'";
						    $queryState = $this->db->query($sqlState, NULL);
						    $resultState=$queryState->row_array();
						    if(isset($resultState['mappedStates'])){
						    	$MappedState=$resultState['mappedStates'];
						    } else {
						    	$MappedState='';
						    }
						  	$sqlDistrict="SELECT GROUP_CONCAT(DISTINCT DistrictID) as mappedDis FROM `usermapping` WHERE `UserID`='".trim($tokenData[1])."' and IsActive='1'";
						    $queryDistrict = $this->db->query($sqlDistrict, NULL);
						    $resultDistrict=$queryDistrict->row_array();
						    if(isset($resultDistrict['mappedDis'])){
						    	$MappedDistrict=$resultDistrict['mappedDis'];
						    } else {
						    	$MappedDistrict='';
						    }
						  	$sqlFacility="SELECT GROUP_CONCAT(DISTINCT AssignedFacilities) as mappedFacilities FROM `usermapping` WHERE `UserID`='".trim($tokenData[1])."' and IsActive='1'";
						    $queryFacility = $this->db->query($sqlFacility, NULL);
						    $resultFacility=$queryFacility->row_array();
						    if(isset($resultFacility['mappedFacilities'])){
						    	$AssignedFacilities=$resultFacility['mappedFacilities'];
						    } else {
						    	$AssignedFacilities='';
						    }

							$this->db->where('UsertokenID', $result_set[0]->UsertokenID);
							$this->db->update('usertoken', $updateToken);
							$this->session->set_userdata('MappedState', $MappedState);
							$this->session->set_userdata('MappedDistrict', $MappedDistrict);
							$this->session->set_userdata('AssignedFacilities', $AssignedFacilities);
							$this->session->set_userdata('UserID', trim($tokenData[1]));
							$this->session->set_userdata('APIKey', $APIKey);
							$this->session->set_userdata('RoleName', $result_set[0]->RoleName);
							$this->session->set_userdata('RoleID', $result_set[0]->RoleID);
							$this->session->set_userdata('accessData', $this->CommonModel->getMenu());
							return true;
						} else {
							return false;
						}
					} else {
						return false;
					}

				} else {
					return false;
				}
			}
		} else {
			return false;
		}
	}
	function getApiData(){
		if(!empty($this->input->post())){
		    $data = $this->input->post();
		} else {
		    $data = json_decode(file_get_contents('php://input'), true);
		}
		if(empty($data)){
            $response['code'] = '13';
            $response['msg'] = $this->config->item('errCodes')[13].' raw';
		} else {
			return $data;			
		}

	}
 	function facilitySearchData($userId){
	    $this->db->select('usermapping.UserID,facilities.FacilityName,states.StateName,states.StateID,district.DistrictID,district.DistrictName,typedetail.TypeDetailID,typedetail.TypeDetailCode');
	    $this->db->from('usermapping');
	    $this->db->join('facilities', 'usermapping.FacilityID=facilities.FacilityID', 'inner');
	    $this->db->join('states', 'facilities.StateID=states.StateID', 'left');
	    $this->db->join('district', 'facilities.DistrictID=district.DistrictID', 'left');
	    $this->db->join('typedetail', 'facilities.FacilityTypeDetailID=typedetail.TypeDetailID', 'left');
	    $this->db->where('usermapping.UserID',$userId);
	    $this->db->where('usermapping.FacilityID >','0');
	    $this->db->limit('1');
	    $result = $this->db->get();
	    if($result -> num_rows()>=1){
	    	$dataFacility=$result->result_array();
	    } else {
	    	$dataFacility=array();
	    }
		return $dataFacility; 		
 	}
 	function dashboard_data($search){
		if ($search['RoleName'] == 'District') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.DistrictID';
            $mappedCatField='f.DistrictID';
            $showField='d.DistrictName as catName';
            $showFieldMap='d.DistrictName as catName';
            $tblJoin='district d';
            $tblCond='f.DistrictID=d.DistrictID';
        } else if ($search['RoleName'] == 'State') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.StateID';
            $mappedCatField='f.DistrictID';
            $showField='d.DistrictName as catName';
            $showFieldMap='s.StateName as catName';
            $tblJoin='district d';
            $tblCond='f.DistrictID=d.DistrictID';
        } else {
            $mappedData = explode(",", $search['mapped']);
        	$mappedField='f.StateID';
        	$mappedCatField='f.StateID';
        	$showField='s.StateName as catName';
        	$showFieldMap='s.StateName as catName';
        	$tblJoin='states s';
        	$tblCond='f.StateID=s.StateID';
        }
	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
	    $query = $this->db->get();
	    $data['totalLaQshya']=$query->num_rows();

	  	$this->db->select('f.FacilityID');
	    //$this->db->from('facilities f');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->where('f.LrQualified','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
	    $query = $this->db->get();
	    $data['totalQfLaQshyaLR']=$query->num_rows();

	  	$this->db->select('f.FacilityID');
	    //$this->db->from('facilities f');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->where('f.OtQualified','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
	    $query = $this->db->get();
	    $data['totalQfLaQshyaOT']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('answer a', 'a.UserID=um.UserID AND um.FacilityID>0 AND a.IsActive=1 AND a.SurveyStatus=1 AND a.Sequence="1" AND a.SurveyID=1', 'inner');
	    $this->db->where('f.Islaqshya','1');   
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
	    $this->db->group_by('um.UserID');
	    $query = $this->db->get();
	    $data['totalBaseLaQshyaLR']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('answer a', 'a.UserID=um.UserID AND um.FacilityID>0 AND a.IsActive=1 AND a.SurveyStatus=1 AND a.Sequence="1" AND a.SurveyID=2', 'inner');
	    $this->db->where('f.Islaqshya','1');   
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
	    $this->db->group_by('um.UserID');
	    $query = $this->db->get();
	    $data['totalBaseLaQshyaOT']=$query->num_rows();
 
	  	$this->db->select($showField.',count(f.FacilityID) as facilities,sum(LrQualified) as LrQualified,sum(OtQualified) as OtQualified');
	    //$this->db->from('facilities f');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join($tblJoin, $tblCond.' AND f.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
	    $this->db->group_by($mappedCatField);
	    $query = $this->db->get();
	    $data['dataChart']=$query->result_array();


	  	$this->db->select($showFieldMap.',count(f.FacilityID) as facilities,sum(LrQualified) as LrQualified,sum(OtQualified) as OtQualified,s.mapCode,s.StateName,sum(aLR.Sequence) as LrBaseLine,sum(aOT.Sequence) as OtbaseLine');
	    //$this->db->from('facilities f');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    if($search['RoleName'] == 'District'){
			$this->db->join($tblJoin, $tblCond.' AND f.IsActive=1', 'inner');
	    }
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('answer aLR','um.UserID=aLR.UserID AND aLR.IsActive=1 AND aLR.SurveyStatus=1 AND aLR.Sequence=1 AND aLR.SurveyID=1', 'left');
	    $this->db->join('answer aOT','um.UserID=aOT.UserID AND aOT.IsActive=1 AND aOT.SurveyStatus=1 AND aOT.Sequence=1 AND aOT.SurveyID=2', 'left');
	    //$this->db->where('f.LrQualified','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);
	    }
	    $this->db->group_by($mappedCatField);
	    $query = $this->db->get();
	    $keys=array('injs1','injs2','injs3','injs4','injs5','injs6','injs7','injs8','injs9','injs10','injs11','injs12','injs13','injs14','injs15','injs16','injs17','injs18','injs19','injs20','injs21','injs22','injs23','injs24','injs25','injs26','injs27','injs28','injs29','injs30','injs31','injs32','injs33','injs34','injs35','injs36');
	    $result_chart=array_fill_keys($keys, array());
	    foreach ($query->result_array() as $key => $value) {
	    	if(empty($result_chart[$value['mapCode']])){
	    		$result_chart[$value['mapCode']]=$value;
	    	} else {
	    		$result_chart[$value['mapCode']]['facilities']+=$value['facilities'];
	    		$result_chart[$value['mapCode']]['LrQualified']+=$value['LrQualified'];
	    		$result_chart[$value['mapCode']]['OtQualified']+=$value['OtQualified'];
	    		$result_chart[$value['mapCode']]['LrBaseLine']+=$value['LrBaseLine'];
	    		$result_chart[$value['mapCode']]['OtbaseLine']+=$value['OtbaseLine'];
	    	}

	    }
	    $data['dataMap']=$result_chart;


 		return $data;

 	}
	function createRandamPassword()
	{
		$length = 10;
		$chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
		$password = substr( str_shuffle( $chars ), 0, $length );
		return $password;		
	}
	function checkPassword($pwd){
		$error='';
		if( !preg_match("#[0-9]+#", $pwd) ) {
			$error = "Password must include at least one number! ";
		}
		if( !preg_match("#[a-z]+#", $pwd) ) {
			$error = "Password must include at least one letter! ";
		}
		if( !preg_match("#[A-Z]+#", $pwd) ) {
			$error = "Password must include at least one CAPS! ";
		}
		if( !preg_match("#\W+#", $pwd) ) {
			$error = "Password must include at least one symbol! ";
		}
		if( strlen($pwd)< 8 ) {
			$error = "Password length shold be at least 8 character! ";
		}
		if( strlen($pwd) > 16 ) {
			$error = "Password length should not exceed 16 character ";
		}
		return $error;
	}
 	function getlaqshyaFacilityData($data,$search){
		if ($search['RoleName'] == 'District') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.DistrictID';
        } else if ($search['RoleName'] == 'State') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.StateID';
        } else {
            $mappedData = explode(",", $search['mapped']);
        	$mappedField='f.StateID';
        }        
        $col = array(
            0 => 's.StateName',
            1 => 'd.DistrictName',
            2 => 'f.FacilityName',
            3 => 't.TypeDetailCode',
            4 => 'f.FacilityNumber',
        );
	  	$this->db->select('f.FacilityName,f.FacilityNumber,d.DistrictName,s.StateName,t.TypeDetailCode');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s', 'f.StateID=s.StateID AND s.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID', 'left');
	    $this->db->where('f.Islaqshya','1');
	    if(!empty($data['search_param1']) && $data['search_param1']!='Others'){
	    	$searchText=implode(' ', explode('_',trim($data['search_param1'])));
	    	$this->db->where('t.TypeDetailCode',$searchText);
	    	$this->db->where('t.TypeMasterID','4');
	    }
	    if(!empty($data['search_param1']) && $data['search_param1']=='Others'){
	    	$idsType=array('107','105','64','103','440');
		    $this->db->where_not_in('t.TypeDetailID', $idsType);
		    $this->db->where('t.TypeMasterID','4');
	    }
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
        if(!empty($data['search']['value'])){
            $searchString=trim($data['search']['value']);
            $this->db->where("(s.StateName like '%".$searchString."%' OR d.DistrictName like '%".$searchString."%' OR f.FacilityName like '%".$searchString."%' OR t.TypeDetailCode like '%".$searchString."%' OR f.FacilityNumber like '%".$searchString."%')", NULL, FALSE);
        }
	    if(!empty($data['search_state'])){
	    	$this->db->where('s.StateID',$data['search_state']);	    	
	    }
	    if(!empty($data['search_district'])){
	    	$this->db->where('d.DistrictID',$data['search_district']);	    	
	    }
	    $queryTot = $this->db->get();

	    // data query
	  	$this->db->select('f.FacilityName,f.FacilityNumber,d.DistrictName,s.StateName,t.TypeDetailCode');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s', 'f.StateID=s.StateID AND s.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID', 'left');
	    $this->db->where('f.Islaqshya','1');
	    if(!empty($data['search_param1']) && $data['search_param1']!='Others'){
	    	$searchText=implode(' ', explode('_',trim($data['search_param1'])));
	    	$this->db->where('t.TypeDetailCode',$searchText);
	    	$this->db->where('t.TypeMasterID','4');
	    }
	    if(!empty($data['search_param1']) && $data['search_param1']=='Others'){
	    	$idsType=array('107','105','64','103','440');
		    $this->db->where_not_in('t.TypeDetailID', $idsType);
		    $this->db->where('t.TypeMasterID','4');
	    }
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
        if(!empty($data['search']['value'])){
            $searchString=trim($data['search']['value']);
            $this->db->where("(s.StateName like '%".$searchString."%' OR d.DistrictName like '%".$searchString."%' OR f.FacilityName like '%".$searchString."%' OR t.TypeDetailCode like '%".$searchString."%' OR f.FacilityNumber like '%".$searchString."%')", NULL, FALSE);
        }
	    if(!empty($data['search_state'])){
	    	$this->db->where('s.StateID',$data['search_state']);	    	
	    }
	    if(!empty($data['search_district'])){
	    	$this->db->where('d.DistrictID',$data['search_district']);	    	
	    }
	    $this->db->order_by($col[$data['order'][0]['column']], $data['order'][0]['dir']);
	    $this->db->limit($data['length'],$data['start']);
	    $query = $this->db->get();
		$data1=array();
		foreach ($query->result() as $key => $value) {
		    $subdata=array();
		    $subdata[]=$value->StateName;
		    $subdata[]=$value->DistrictName;
		    $subdata[]=$value->FacilityName;
		    $subdata[]=$value->FacilityNumber;
		    $subdata[]=$value->TypeDetailCode;		     
		    $data1[]=$subdata;
		}
		$json_data=array(
		    "draw"              =>  intval($data['draw']),
		    "recordsTotal"      =>  intval($queryTot->num_rows()),
		    "recordsFiltered"   =>  intval($queryTot->num_rows()),
		    "data"              =>  $data1
		);
 		return $json_data;

 	}
 	function getlaqshyabaselrData($data,$search){
		if ($search['RoleName'] == 'District') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.DistrictID';
        } else if ($search['RoleName'] == 'State') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.StateID';
        } else {
            $mappedData = explode(",", $search['mapped']);
        	$mappedField='f.StateID';
        }        
        if($data['aspirational']=='aspirational'){
        	$condAspir=' AND d.IsHighPriority="1" ';
        } else {
        	$condAspir='';
        }
        $col = array(
            0 => 's.StateName',
            1 => 'd.DistrictName',
            2 => 'f.FacilityName',
            3 => 't.TypeDetailCode',
            3 => 'f.FacilityNumber',
        );
	  	$this->db->select('f.FacilityName,f.FacilityNumber,d.DistrictName,s.StateName,t.TypeDetailCode');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s', 'f.StateID=s.StateID AND s.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsActive=1 '.$condAspir, 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID', 'left');
	    $this->db->join('answer a', 'a.UserID=um.UserID AND um.FacilityID>0 AND a.IsActive=1 AND a.SurveyStatus=1 AND a.Sequence="1" AND a.SurveyID=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
        if(!empty($searchData['search']['value'])){
            $searchString=trim($searchData['search']['value']);
            $this->db->where("(s.StateName like '%".$searchString."%' OR d.DistrictName like '%".$searchString."%' OR f.FacilityName like '%".$searchString."%' OR t.TypeDetailCode like '%".$searchString."%' OR f.FacilityNumber like '%".$searchString."%')", NULL, FALSE);
        }
	    if(!empty($data['search_state'])){
	    	$this->db->where('s.StateID',$data['search_state']);	    	
	    }
	    if(!empty($data['search_district'])){
	    	$this->db->where('d.DistrictID',$data['search_district']);	    	
	    }
	    $queryTot = $this->db->get();

	    // data query
	  	$this->db->select('f.FacilityName,f.FacilityNumber,d.DistrictName,s.StateName,t.TypeDetailCode');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s', 'f.StateID=s.StateID AND s.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsActive=1 '.$condAspir, 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID', 'left');
	    $this->db->join('answer a', 'a.UserID=um.UserID AND um.FacilityID>0 AND a.IsActive=1 AND a.SurveyStatus=1 AND a.Sequence="1" AND a.SurveyID=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
        if(!empty($data['search']['value'])){
            $searchString=trim($data['search']['value']);
            $this->db->where("(s.StateName like '%".$searchString."%' OR d.DistrictName like '%".$searchString."%' OR f.FacilityName like '%".$searchString."%' OR t.TypeDetailCode like '%".$searchString."%' OR f.FacilityNumber like '%".$searchString."%')", NULL, FALSE);
        }
	    if(!empty($data['search_state'])){
	    	$this->db->where('s.StateID',$data['search_state']);	    	
	    }
	    if(!empty($data['search_district'])){
	    	$this->db->where('d.DistrictID',$data['search_district']);	    	
	    }
	    $this->db->order_by($col[$data['order'][0]['column']], $data['order'][0]['dir']);
	    $this->db->limit($data['length'],$data['start']);
	    $query = $this->db->get();
		$data1=array();
		foreach ($query->result() as $key => $value) {
		    $subdata=array();
		    $subdata[]=$value->StateName;
		    $subdata[]=$value->DistrictName;
		    $subdata[]=$value->FacilityName;
		    $subdata[]=$value->FacilityNumber;
		    $subdata[]=$value->TypeDetailCode;		     
		    $data1[]=$subdata;
		}
		$json_data=array(
		    "draw"              =>  intval($data['draw']),
		    "recordsTotal"      =>  intval($queryTot->num_rows()),
		    "recordsFiltered"   =>  intval($queryTot->num_rows()),
		    "data"              =>  $data1
		);
 		return $json_data;

 	}
 	function getlaqshyabaseotData($data,$search){
		if ($search['RoleName'] == 'District') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.DistrictID';
        } else if ($search['RoleName'] == 'State') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.StateID';
        } else {
            $mappedData = explode(",", $search['mapped']);
        	$mappedField='f.StateID';
        }        
        if($data['aspirational']=='aspirational'){
        	$condAspir=' AND d.IsHighPriority="1" ';
        } else {
        	$condAspir='';
        }
        $col = array(
            0 => 's.StateName',
            1 => 'd.DistrictName',
            2 => 'f.FacilityName',
            3 => 't.TypeDetailCode',
            3 => 'f.FacilityNumber',
        );
	  	$this->db->select('f.FacilityName,f.FacilityNumber,d.DistrictName,s.StateName,t.TypeDetailCode');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s', 'f.StateID=s.StateID AND s.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsActive=1 '.$condAspir, 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID', 'left');
	    $this->db->join('answer a', 'a.UserID=um.UserID AND um.FacilityID>0 AND a.IsActive=1 AND a.SurveyStatus=1 AND a.Sequence="1" AND a.SurveyID=2', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
        if(!empty($searchData['search']['value'])){
            $searchString=trim($searchData['search']['value']);
            $this->db->where("(s.StateName like '%".$searchString."%' OR d.DistrictName like '%".$searchString."%' OR f.FacilityName like '%".$searchString."%' OR t.TypeDetailCode like '%".$searchString."%' OR f.FacilityNumber like '%".$searchString."%')", NULL, FALSE);
        }
	    if(!empty($data['search_state'])){
	    	$this->db->where('s.StateID',$data['search_state']);	    	
	    }
	    if(!empty($data['search_district'])){
	    	$this->db->where('d.DistrictID',$data['search_district']);	    	
	    }
	    $queryTot = $this->db->get();

	    // data query
	  	$this->db->select('f.FacilityName,f.FacilityNumber,d.DistrictName,s.StateName,t.TypeDetailCode');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s', 'f.StateID=s.StateID AND s.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsActive=1 '.$condAspir, 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID', 'left');
	    $this->db->join('answer a', 'a.UserID=um.UserID AND um.FacilityID>0 AND a.IsActive=1 AND a.SurveyStatus=1 AND a.Sequence="1" AND a.SurveyID=2', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
        if(!empty($data['search']['value'])){
            $searchString=trim($data['search']['value']);
            $this->db->where("(s.StateName like '%".$searchString."%' OR d.DistrictName like '%".$searchString."%' OR f.FacilityName like '%".$searchString."%' OR t.TypeDetailCode like '%".$searchString."%' OR f.FacilityNumber like '%".$searchString."%')", NULL, FALSE);
        }
	    if(!empty($data['search_state'])){
	    	$this->db->where('s.StateID',$data['search_state']);	    	
	    }
	    if(!empty($data['search_district'])){
	    	$this->db->where('d.DistrictID',$data['search_district']);	    	
	    }
	    $this->db->order_by($col[$data['order'][0]['column']], $data['order'][0]['dir']);
	    $this->db->limit($data['length'],$data['start']);
	    $query = $this->db->get();
		$data1=array();
		foreach ($query->result() as $key => $value) {
		    $subdata=array();
		    $subdata[]=$value->StateName;
		    $subdata[]=$value->DistrictName;
		    $subdata[]=$value->FacilityName;
		    $subdata[]=$value->FacilityNumber;
		    $subdata[]=$value->TypeDetailCode;		     
		    $data1[]=$subdata;
		}
		$json_data=array(
		    "draw"              =>  intval($data['draw']),
		    "recordsTotal"      =>  intval($queryTot->num_rows()),
		    "recordsFiltered"   =>  intval($queryTot->num_rows()),
		    "data"              =>  $data1
		);
 		return $json_data;

 	}
 	function getlaqshyalrData($data,$search){
		if ($search['RoleName'] == 'District') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.DistrictID';
        } else if ($search['RoleName'] == 'State') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.StateID';
        } else {
            $mappedData = explode(",", $search['mapped']);
        	$mappedField='f.StateID';
        }        
        $col = array(
            0 => 's.StateName',
            1 => 'd.DistrictName',
            2 => 'f.FacilityName',
            3 => 't.TypeDetailCode',
            3 => 'f.FacilityNumber',
        );
	  	$this->db->select('f.FacilityName,f.FacilityNumber,d.DistrictName,s.StateName,t.TypeDetailCode');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s', 'f.StateID=s.StateID AND s.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID', 'left');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('f.LrQualified','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
        if(!empty($searchData['search']['value'])){
            $searchString=trim($searchData['search']['value']);
            $this->db->where("(s.StateName like '%".$searchString."%' OR d.DistrictName like '%".$searchString."%' OR f.FacilityName like '%".$searchString."%' OR t.TypeDetailCode like '%".$searchString."%' OR f.FacilityNumber like '%".$searchString."%')", NULL, FALSE);
        }
	    if(!empty($data['search_state'])){
	    	$this->db->where('s.StateID',$data['search_state']);	    	
	    }
	    if(!empty($data['search_district'])){
	    	$this->db->where('d.DistrictID',$data['search_district']);	    	
	    }
	    $queryTot = $this->db->get();

	    // data query
	  	$this->db->select('f.FacilityName,f.FacilityNumber,d.DistrictName,s.StateName,t.TypeDetailCode');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s', 'f.StateID=s.StateID AND s.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID', 'left');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('f.LrQualified','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
        if(!empty($data['search']['value'])){
            $searchString=trim($data['search']['value']);
            $this->db->where("(s.StateName like '%".$searchString."%' OR d.DistrictName like '%".$searchString."%' OR f.FacilityName like '%".$searchString."%' OR t.TypeDetailCode like '%".$searchString."%' OR f.FacilityNumber like '%".$searchString."%')", NULL, FALSE);
        }
	    if(!empty($data['search_state'])){
	    	$this->db->where('s.StateID',$data['search_state']);	    	
	    }
	    if(!empty($data['search_district'])){
	    	$this->db->where('d.DistrictID',$data['search_district']);	    	
	    }
	    $this->db->order_by($col[$data['order'][0]['column']], $data['order'][0]['dir']);
	    $this->db->limit($data['length'],$data['start']);
	    $query = $this->db->get();
		$data1=array();
		foreach ($query->result() as $key => $value) {
		    $subdata=array();
		    $subdata[]=$value->StateName;
		    $subdata[]=$value->DistrictName;
		    $subdata[]=$value->FacilityName;
		    $subdata[]=$value->FacilityNumber;
		    $subdata[]=$value->TypeDetailCode;		     
		    $data1[]=$subdata;
		}
		$json_data=array(
		    "draw"              =>  intval($data['draw']),
		    "recordsTotal"      =>  intval($queryTot->num_rows()),
		    "recordsFiltered"   =>  intval($queryTot->num_rows()),
		    "data"              =>  $data1
		);
 		return $json_data;

 	}
 	function getlaqshyaotData($data,$search){
		if ($search['RoleName'] == 'District') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.DistrictID';
        } else if ($search['RoleName'] == 'State') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.StateID';
        } else {
            $mappedData = explode(",", $search['mapped']);
        	$mappedField='f.StateID';
        }        
        $col = array(
            0 => 's.StateName',
            1 => 'd.DistrictName',
            2 => 'f.FacilityName',
            3 => 't.TypeDetailCode',
            3 => 'f.FacilityNumber',
        );
	  	$this->db->select('f.FacilityName,f.FacilityNumber,d.DistrictName,s.StateName,t.TypeDetailCode');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s', 'f.StateID=s.StateID AND s.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID', 'left');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('f.OtQualified','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
        if(!empty($searchData['search']['value'])){
            $searchString=trim($searchData['search']['value']);
            $this->db->where("(s.StateName like '%".$searchString."%' OR d.DistrictName like '%".$searchString."%' OR f.FacilityName like '%".$searchString."%' OR t.TypeDetailCode like '%".$searchString."%' OR f.FacilityNumber like '%".$searchString."%')", NULL, FALSE);
        }
	    if(!empty($data['search_state'])){
	    	$this->db->where('s.StateID',$data['search_state']);	    	
	    }
	    if(!empty($data['search_district'])){
	    	$this->db->where('d.DistrictID',$data['search_district']);	    	
	    }
	    $queryTot = $this->db->get();

	    // data query
	  	$this->db->select('f.FacilityName,f.FacilityNumber,d.DistrictName,s.StateName,t.TypeDetailCode');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s', 'f.StateID=s.StateID AND s.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID', 'left');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('f.OtQualified','1');
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
        if(!empty($data['search']['value'])){
            $searchString=trim($data['search']['value']);
            $this->db->where("(s.StateName like '%".$searchString."%' OR d.DistrictName like '%".$searchString."%' OR f.FacilityName like '%".$searchString."%' OR t.TypeDetailCode like '%".$searchString."%' OR f.FacilityNumber like '%".$searchString."%')", NULL, FALSE);
        }
	    if(!empty($data['search_state'])){
	    	$this->db->where('s.StateID',$data['search_state']);	    	
	    }
	    if(!empty($data['search_district'])){
	    	$this->db->where('d.DistrictID',$data['search_district']);	    	
	    }
	    $this->db->order_by($col[$data['order'][0]['column']], $data['order'][0]['dir']);
	    $this->db->limit($data['length'],$data['start']);
	    $query = $this->db->get();
		$data1=array();
		foreach ($query->result() as $key => $value) {
		    $subdata=array();
		    $subdata[]=$value->StateName;
		    $subdata[]=$value->DistrictName;
		    $subdata[]=$value->FacilityName;
		    $subdata[]=$value->FacilityNumber;
		    $subdata[]=$value->TypeDetailCode;		     
		    $data1[]=$subdata;
		}
		$json_data=array(
		    "draw"              =>  intval($data['draw']),
		    "recordsTotal"      =>  intval($queryTot->num_rows()),
		    "recordsFiltered"   =>  intval($queryTot->num_rows()),
		    "data"              =>  $data1
		);
 		return $json_data;

 	}
 	function dashboard_facility_data($data){
 		$dataFacility=array();
	    $this->db->select('facilities.FacilityID,facilities.services');
	    $this->db->from('usermapping');
	    $this->db->join('facilities', 'usermapping.FacilityID=facilities.FacilityID AND usermapping.FacilityID>0', 'inner');
	    $this->db->where('usermapping.UserID',$data['userID']);
	    $this->db->where('usermapping.IsActive','1');
	    $query = $this->db->get();
		$facilityData=$query->row_array();
		if($facilityData['FacilityID']>0){
			$dataFacility['facilityType']='lr';
		    $this->db->select('answer.AnswerID,answer.AssessmentDate,answer.SurveyStatus,answer.SurveyID,answer.Sequence');
		    $this->db->from('answer');
		    $this->db->where('answer.UserID',$data['userID']);
		    $this->db->where('answer.SurveyID','1');
		    $this->db->where('answer.IsActive','1');
		    $this->db->order_by('answer.AnswerID', 'DESC');
		    $this->db->limit('1');
		    $resultLR = $this->db->get();
		    if($resultLR ->num_rows()>0){
		    	$dataFacility['LR']=$resultLR->row_array();
		    }
			if($facilityData['services']=='both'){
				$dataFacility['facilityType']='both';
			    $this->db->select('answer.AnswerID,answer.AssessmentDate,answer.SurveyStatus,answer.SurveyID,answer.Sequence');
			    $this->db->from('answer');
			    $this->db->where('answer.UserID',$data['userID']);
			    $this->db->where('answer.SurveyID','2');
			    $this->db->where('answer.IsActive','1');
			    $this->db->order_by('answer.AnswerID', 'DESC');
			    $this->db->limit('1');
			    $resultOT = $this->db->get();
			    if($resultOT ->num_rows()>0){
			    	$dataFacility['OT']=$resultOT->row_array();
			    }
			}
		    $this->db->select('monthly.MonthlyID,monthly.ReportMonth,monthly.MonthlyStatus');
		    $this->db->from('monthly');
		    $this->db->where('monthly.UserID',$data['userID']);
		    $this->db->order_by('monthly.ReportMonth', 'DESC');
		    $this->db->limit('1');
		    $resultMonth = $this->db->get();
		    if($resultMonth ->num_rows()>0){
		    	$dataFacility['monthly']=$resultMonth->row_array();
		    }

		    // Certificate Status started
		    $this->db->select('stateOr.CertificationID,stateOr.status');
		    $this->db->from('certification stateOr');
		    $this->db->where('stateOr.UserID',$data['userID']);
		    $this->db->where('stateOr.certification_type','so');
		    $this->db->where('stateOr.level','3');
		    $this->db->where('stateOr.IsCurrent','1');
		    $this->db->where('stateOr.IsActive','1');
		    $this->db->order_by('stateOr.CertificationID', 'DESC');
		    $this->db->limit('1');
		    $result = $this->db->get();
		    if($result ->num_rows()>0){
		    	$dataFacility['stateOr']=$result->row_array();
		    }
		    
		    $this->db->select('StatecLR.CertificationID,StatecLR.status');
		    $this->db->from('certification StatecLR');
		    $this->db->where('StatecLR.UserID',$data['userID']);
		    $this->db->where('StatecLR.certification_type','lr');
		    $this->db->where('StatecLR.level','2');
		    $this->db->where('StatecLR.IsCurrent','1');
		    $this->db->where('StatecLR.IsActive','1');
		    $this->db->order_by('StatecLR.CertificationID', 'DESC');
		    $this->db->limit('1');
		    $result = $this->db->get();
		    if($result ->num_rows()>0){
		    	$dataFacility['StatecLR']=$result->row_array();
		    }

		    $this->db->select('StatecOT.CertificationID,StatecOT.status');
		    $this->db->from('certification StatecOT');
		    $this->db->where('StatecOT.UserID',$data['userID']);
		    $this->db->where('StatecOT.certification_type','ot');
		    $this->db->where('StatecOT.level','2');
		    $this->db->where('StatecOT.IsCurrent','1');
		    $this->db->where('StatecOT.IsActive','1');
		    $this->db->order_by('StatecOT.CertificationID', 'DESC');
		    $this->db->limit('1');
		    $result = $this->db->get();
		    if($result ->num_rows()>0){
		    	$dataFacility['StatecOT']=$result->row_array();
		    }
		    
		    $this->db->select('cLR.CertificationID,cLR.status');
		    $this->db->from('certification cLR');
		    $this->db->where('cLR.UserID',$data['userID']);
		    $this->db->where('cLR.certification_type','lr');
		    $this->db->where('cLR.level','1');
		    $this->db->where('cLR.IsCurrent','1');
		    $this->db->where('cLR.IsActive','1');
		    $this->db->order_by('cLR.CertificationID', 'DESC');
		    $this->db->limit('1');
		    $result = $this->db->get();
		    if($result ->num_rows()>0){
		    	$dataFacility['cLR']=$result->row_array();
		    }

		    $this->db->select('cOT.CertificationID,cOT.status');
		    $this->db->from('certification cOT');
		    $this->db->where('cOT.UserID',$data['userID']);
		    $this->db->where('cOT.certification_type','ot');
		    $this->db->where('cOT.level','1');
		    $this->db->where('cOT.IsCurrent','1');
		    $this->db->where('cOT.IsActive','1');
		    $this->db->order_by('cOT.CertificationID', 'DESC');
		    $this->db->limit('1');
		    $result = $this->db->get();
		    if($result ->num_rows()>0){
		    	$dataFacility['cOT']=$result->row_array();
		    }


		    $this->db->select('answer.AnswerID,answer.AssessmentDate,answer.SurveyStatus,answer.SurveyID,answer.Sequence');
		    $this->db->from('answer');
		    $this->db->where('answer.UserID',$data['userID']);
		    $this->db->where('answer.SurveyID','1');
		    $this->db->where('answer.Sequence','1');
		    $this->db->where('answer.IsActive','1');
		    $this->db->order_by('answer.AnswerID', 'DESC');
		    $this->db->limit('1');
		    $resultLR = $this->db->get();
		    if($resultLR ->num_rows()>0){
		    	$dataFacility['BaselineLR']=$resultLR->row_array();
		    }
			if($facilityData['services']=='both'){
				$dataFacility['facilityType']='both';
			    $this->db->select('answer.AnswerID,answer.AssessmentDate,answer.SurveyStatus,answer.SurveyID,answer.Sequence');
			    $this->db->from('answer');
			    $this->db->where('answer.UserID',$data['userID']);
			    $this->db->where('answer.SurveyID','2');
			    $this->db->where('answer.Sequence','1');
			    $this->db->where('answer.IsActive','1');
			    $this->db->order_by('answer.AnswerID', 'DESC');
			    $this->db->limit('1');
			    $resultOT = $this->db->get();
			    if($resultOT ->num_rows()>0){
			    	$dataFacility['BaselineOT']=$resultOT->row_array();
			    }
			}
		    // Certificate Status ended
		}
		return $dataFacility;
 	}
 	function checkFacilityAssessment($searchType,$UserID){
 		$respone=array('code'=>'0');
 		if($searchType=='lr'){
		    $this->db->select('answer.AnswerID,facilities.services');
		    $this->db->from('usermapping');
		    $this->db->join('facilities', 'usermapping.FacilityID=facilities.FacilityID AND usermapping.FacilityID>0', 'inner');
		    $this->db->join('answer', 'usermapping.UserID=answer.UserID AND answer.IsActive="1" AND answer.SurveyID="2" ', 'left');
		    $this->db->where('usermapping.UserID',$UserID);
		    $this->db->limit('1');
		    $resultOT = $this->db->get();
		    $dataFacilityOT=$resultOT->row_array();
		    if(!empty($dataFacilityOT['AnswerID'])){
		    	$respone['code']='16';
		    	$respone['type']=$dataFacilityOT['services'];
		    	$respone['msg']='OT Assessment already filled, So services provided can not be changed';
		    }
 		}
 		if($searchType=='both'){
		    $this->db->select('answer.AnswerID,facilities.services');
		    $this->db->from('usermapping');
		    $this->db->join('facilities', 'usermapping.FacilityID=facilities.FacilityID AND usermapping.FacilityID>0', 'inner');
		    $this->db->join('answer', 'usermapping.UserID=answer.UserID AND answer.IsActive="1" AND answer.SurveyID="1" AND answer.Sequence="2" ', 'left');
		    $this->db->where('usermapping.UserID',$UserID);
		    $this->db->limit('1');
		    $resultOT = $this->db->get();
		    $dataFacilityOT=$resultOT->row_array();
		    if(!empty($dataFacilityOT['AnswerID'])){
		    	$respone['code']='16';
		    	$respone['type']=$dataFacilityOT['services'];
		    	$respone['msg']='LR OtherLine Assessment already filled, So services provided can not be changed';
		    }
 		}
	    return $respone;
 	}
 	function dashboard_ministry_data($search){
	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('answer a', 'a.UserID=um.UserID AND um.FacilityID>0 AND a.IsActive=1 AND a.SurveyStatus=1 AND a.Sequence="1" ', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->group_by('um.UserID');
	    $query = $this->db->get();
	    $data['totalBaseLaQshya']=$query->num_rows();

	  	$this->db->select('f.FacilityID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->where('f.LrQualified','1');
	    $this->db->where('f.OtQualified','1');
	    $query = $this->db->get();
	    $data['totalQfLaQshya']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsHighPriority=1', 'inner');
	    $this->db->join('answer a', 'a.UserID=um.UserID AND um.FacilityID>0 AND a.IsActive=1 AND a.SurveyStatus=1 AND a.Sequence="1" ', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->group_by('um.UserID');
	    $query = $this->db->get();
	    $data['totalBaseLaQshyaDh']=$query->num_rows();


	  	$this->db->select('sum(m.BirthCompanionNos) as BirthCompanionNos,sum(m.SafeBirthChecklist) as SafeBirthChecklist,sum(m.CSectionOTSafeChecklist) as CSectionOTSafeChecklist, sum(m.RealTimePartograph) as RealTimePartograph');
	    $this->db->from('monthly m');
	    $this->db->where('m.ReportMonth',date('Y-m-01'));
	    $resultDeliveryQualityPie = $this->db->get();
	    $dataDeliveryQualityPie=$resultDeliveryQualityPie->row_array();

	    $data['deliveryQualityPie']=array(
	    	'deliveries are attended by a birth companion'=>$dataDeliveryQualityPie['BirthCompanionNos']>0?$dataDeliveryQualityPie['BirthCompanionNos']:0,
	    	'deliveries are conducted using safe birth checklist in Labour Room'=>$dataDeliveryQualityPie['SafeBirthChecklist']>0?$dataDeliveryQualityPie['SafeBirthChecklist']:0,
	    	'deliveries are conducted using  Safe Surgery checklist in Maternity OT'=>$dataDeliveryQualityPie['CSectionOTSafeChecklist']>0?$dataDeliveryQualityPie['CSectionOTSafeChecklist']:0,
	    	'deliveries for which Partograph is generated using real-time information in at least'=>$dataDeliveryQualityPie['RealTimePartograph']>0?$dataDeliveryQualityPie['RealTimePartograph']:0
	    );	    


 		return $data;

 	}
 	function getAllStates(){
	    $this->db->select('states.StateID,states.StateName');
	    $this->db->from('states');
	    $this->db->where('states.IsActive','1');		
	    $this->db->order_by('states.StateName', 'ASC');
	    $query = $this->db->get();
		$dataget=array();
		foreach ($query->result() as $key => $value) {
		    $subdata=array();
		    $subdata['StateID'] = $value->StateID;
		    $subdata['StateName'] = $value->StateName;
		    $dataget[]=$subdata;
		}
		$respone=array();
		$respone['totalData']=$query -> num_rows();
		$respone['data']=$dataget;
		$respone['code']='10';
		$respone['msg']='data get';
		return $respone;
	

 	}
 	function ministry_dashboard_new($search){
 		// box start
	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $query = $this->db->get();
	    $data['totalLaQshya']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','107');
	    $query = $this->db->get();
	    $data['totalCHC']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','105');
	    $query = $this->db->get();
	    $data['totalFRU']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','64');
	    $query = $this->db->get();
	    $data['totalDisFacility']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','103');
	    $query = $this->db->get();
	    $data['totalMedFacility']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','440');
	    $query = $this->db->get();
	    $data['totalSubDivFacility']=$query->num_rows();

		$idsType=array('107','105','64','103','440');
		$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where_not_in('t.TypeDetailID', $idsType);
	    $this->db->where('t.TypeMasterID','4');
	    $query = $this->db->get();
	    $data['totalOtherFacility']=$query->num_rows();

      $dashboardInsert=array(
        'type_data'=>'boxtop',
        'field_1'=>'2235',
        'field_2'=>'179',
        'field_3'=>'527',
        'field_4'=>'451',
        'field_5'=>'542',
        'field_6'=>'128',
        'field_7'=>'408'
      );
      //$this->db->insert('dashboard_data_laqshya', $dashboardInsert);

	    // box end

	    // map start
	  	/*$this->db->select('s.StateName as catName,s.FacilityNum as facilitiesNew,count(f.FacilityID) as facilities,s.mapCode,
				IFNULL(sum(aLR.Sequence),0) as LrBaseLine, 
				IFNULL(sum(aOT.Sequence),0) as OtbaseLine,
				IFNULL(sum(cLR.IsActive),0) as certifiedLR,
				IFNULL(sum(cOT.IsActive),0) as certifiedOT
	  		');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('answer aLR','um.UserID=aLR.UserID AND aLR.IsActive=1 AND aLR.SurveyStatus=1 AND aLR.Sequence=1 AND aLR.SurveyID=1', 'left');
	    $this->db->join('answer aOT','um.UserID=aOT.UserID AND aOT.IsActive=1 AND aOT.SurveyStatus=1 AND aOT.Sequence=1 AND aOT.SurveyID=2', 'left');
	    $this->db->join('certification cLR','um.UserID=cLR.userID AND cLR.certification_type="lr" AND cLR.level=1 AND cLR.status=3 AND cLR.IsCurrent=1 AND cLR.IsActive=1', 'left');
	    $this->db->join('certification cOT','um.UserID=cOT.userID AND cOT.certification_type="ot" AND cOT.level=1 AND cOT.status=3 AND cOT.IsCurrent=1 AND cOT.IsActive=1', 'left');
	    $this->db->group_by('f.StateID');
	    $query = $this->db->get();

	    $keys=array('injs1','injs2','injs3','injs4','injs5','injs6','injs7','injs8','injs9','injs10','injs11','injs12','injs13','injs14','injs15','injs16','injs17','injs18','injs19','injs20','injs21','injs22','injs23','injs24','injs25','injs26','injs27','injs28','injs29','injs30','injs31','injs32','injs33','injs34','injs35','injs36');
	    $result_chart=array_fill_keys($keys, array());
	    foreach ($query->result_array() as $key => $value) {
	    	if(empty($result_chart[$value['mapCode']])){
	    		$result_chart[$value['mapCode']]=$value;
	    	} else {
	    		$result_chart[$value['mapCode']]['facilities']+=$value['facilities'];
	    		$result_chart[$value['mapCode']]['certifiedLR']+=$value['certifiedLR'];
	    		$result_chart[$value['mapCode']]['certifiedOT']+=$value['certifiedOT'];
	    		$result_chart[$value['mapCode']]['LrBaseLine']+=$value['LrBaseLine'];
	    		$result_chart[$value['mapCode']]['OtbaseLine']+=$value['OtbaseLine'];
	    	}

	    }
	    $data['dataMap']=$result_chart;*/
	
	    $qryMap='SELECT s.`StateName` as catName,s.FacilityNum as facilitiesNew,s.FacilityNum as facilities,s.mapCode,IF(sd.baseline>0,sd.baseline,"NA") as LrBaseLine,IF(sd.baseline>0,sd.baseline,"NA") as OtbaseLine,IF(sd.national_lr>0,sd.national_lr,"NA") as certifiedLR,IF(sd.national_ot>0,sd.national_ot,"NA") as certifiedOT,IF(sd.state_lr>0,sd.state_lr,"NA") as stateCertifiedLR,IF(sd.state_ot>0,sd.state_ot,"NA") as stateCertifiedOT 
FROM `states` s
INNER JOIN state_static_data sd on(s.StateID=sd.state_id)
WHERE s.CountryID=1 AND s.IsActive=1 ORDER BY `StateID` ASC';
	    $query = $this->db->query($qryMap);
	    $keys=array('injs1','injs2','injs3','injs4','injs5','injs6','injs7','injs8','injs9','injs10','injs11','injs12','injs13','injs14','injs15','injs16','injs17','injs18','injs19','injs20','injs21','injs22','injs23','injs24','injs25','injs26','injs27','injs28','injs29','injs30','injs31','injs32','injs33','injs34','injs35','injs36');
	    $result_chart=array_fill_keys($keys, array());
	    foreach ($query->result_array() as $key => $value) {
	    	if(empty($result_chart[$value['mapCode']])){
	    		$result_chart[$value['mapCode']]=$value;
	    	} else {
	    		$result_chart[$value['mapCode']]['facilities']=$value['facilities'];
	    		$result_chart[$value['mapCode']]['certifiedLR']=$value['certifiedLR'];
	    		$result_chart[$value['mapCode']]['certifiedOT']=$value['certifiedOT'];
	    		$result_chart[$value['mapCode']]['stateCertifiedLR']=$value['stateCertifiedLR'];
	    		$result_chart[$value['mapCode']]['stateCertifiedOT']=$value['stateCertifiedOT'];
	    		$result_chart[$value['mapCode']]['LrBaseLine']=$value['LrBaseLine'];
	    		$result_chart[$value['mapCode']]['OtbaseLine']=$value['OtbaseLine'];
	    	}

	    }
	    $data['dataMap']=$result_chart;

      foreach ($result_chart as $key => $value) {
        $dashboardInsert=array(
          'type_data'=>'mapInd',
          'field_1'=>$value['catName'],
          'field_2'=>$value['facilitiesNew'],
          'field_3'=>$value['mapCode'],
          'field_4'=>$value['LrBaseLine'],
          'field_5'=>$value['OtbaseLine'],
          'field_6'=>$value['certifiedLR'],
          'field_7'=>$value['certifiedOT'],
          'field_8'=>$value['stateCertifiedLR'],
          'field_9'=>$value['stateCertifiedOT']
        );
        //$this->db->insert('dashboard_data_laqshya', $dashboardInsert);        
      }
      $dashboardInsert=array(
        'type_data'=>'top5',
        'field_1'=>'Delhi',
        'field_2'=>'Arunachal Pradesh',
        'field_3'=>'Gujarat',
        'field_4'=>'Jharkhand',
        'field_5'=>'Maharashtra',
      );
      //$this->db->insert('dashboard_data_laqshya', $dashboardInsert);

      $dashboardInsert=array(
        'type_data'=>'mapBox',
        'field_1'=>'2235',
        'field_2'=>'2084',
        'field_3'=>'2084',
        'field_4'=>'135',
        'field_5'=>'123',
        'field_6'=>'38',
        'field_7'=>'26',
        'field_8'=>'99',
        'field_9'=>'86',
      );
      //$this->db->insert('dashboard_data_laqshya', $dashboardInsert);

      $dashboardInsert=array(
        'type_data'=>'mapBox_aspd',
        'field_1'=>'417',
        'field_2'=>'415',
        'field_3'=>'415',
        'field_4'=>'32',
        'field_5'=>'27',
        'field_6'=>'17',
        'field_7'=>'9',
        'field_8'=>'NA',
        'field_9'=>'NA',
        'field_10'=>'NA',
        'field_11'=>'NA',
      );
      //$this->db->insert('dashboard_data_laqshya', $dashboardInsert);

	    // map end

      $dashboardInsert=array(
        'type_data'=>'laqshya_sts',
        'field_1'=>'2235',
        'field_2'=>'2235',
        'field_3'=>'0',
        'field_4'=>'0',
        'field_5'=>'99',
        'field_6'=>'86',
        'field_7'=>'135',
        'field_8'=>'123',
        'field_9'=>'38',
        'field_10'=>'26',
      );
      //$this->db->insert('dashboard_data_laqshya', $dashboardInsert);

      $dashboardInsert=array(
        'type_data'=>'laqshya_aspd',
        'field_1'=>'NA',
        'field_2'=>'NA',
        'field_3'=>'NA'
      );
      $this->db->insert('dashboard_data_laqshya', $dashboardInsert);

      $dashboardInsert=array(
        'type_data'=>'laqshya_aspd_nt_cert',
        'field_1'=>'NA',
        'field_2'=>'NA',
        'field_3'=>'NA',
        'field_4'=>'NA',
      );
      $this->db->insert('dashboard_data_laqshya', $dashboardInsert);

      $dashboardInsert=array(
        'type_data'=>'laqshya_aspd_st_cert',
        'field_1'=>'NA',
        'field_2'=>'NA',
        'field_3'=>'NA',
        'field_4'=>'NA',
      );
      $this->db->insert('dashboard_data_laqshya', $dashboardInsert);


	    //LaQshya Status
	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(stateOr.IsActive), 0) as stateOrFac');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification stateOr','um.UserID=stateOr.userID AND stateOr.certification_type="so" AND stateOr.level=3 AND stateOr.status=3 AND stateOr.IsCurrent=1 AND stateOr.IsActive=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['stateOr']=$query->row_array();*/
	    $data['box']['stateOr']=array(
	    	'Facilities'=>'2218',
	    	'stateOrFac'=>'2218'
	    );

	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StateApLR.IsActive), 0) as StateappliedLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StateApLR','um.UserID=StateApLR.userID AND StateApLR.certification_type="lr" AND StateApLR.level=2 AND StateApLR.status=1 AND StateApLR.IsActive=1 AND StateApLR.IsCurrent=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['StateApLR']=$query->row_array();*/
	    $data['box']['StateApLR']=array(
	    	'Facilities'=>'2218',
	    	'StateappliedLR'=>'0'
	    );

	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StateApOT.IsActive), 0) as StateappliedOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StateApOT','um.UserID=StateApOT.userID AND StateApOT.certification_type="ot" AND StateApOT.level=2 AND StateApOT.status=1 AND StateApOT.IsActive=1 AND StateApOT.IsCurrent=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['StateApOT']=$query->row_array();*/
	    $data['box']['StateApOT']=array(
	    	'Facilities'=>'2218',
	    	'StateappliedOT'=>'0'
	    );

	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StateIpLR.IsActive), 0) as StateInprocessLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StateIpLR','um.UserID=StateIpLR.userID AND StateIpLR.certification_type="lr" AND StateIpLR.level=2 AND StateIpLR.status=2 AND StateIpLR.IsActive=1 AND StateIpLR.IsCurrent=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['StateIpLR']=$query->row_array();*/
	    $data['box']['StateIpLR']=array(
	    	'Facilities'=>'2218',
	    	'StateInprocessLR'=>'0'
	    );

	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StateIpOT.IsActive), 0) as StateInprocessOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StateIpOT','um.UserID=StateIpOT.userID AND StateIpOT.certification_type="ot" AND StateIpOT.level=2 AND StateIpOT.status=2 AND StateIpOT.IsActive=1 AND StateIpOT.IsCurrent=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['StateIpOT']=$query->row_array();*/
	    $data['box']['StateIpOT']=array(
	    	'Facilities'=>'2218',
	    	'StateInprocessOT'=>'0'
	    );

	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StatecLR.IsActive), 0) as StatecertifiedLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StatecLR','um.UserID=StatecLR.userID AND StatecLR.certification_type="lr" AND StatecLR.level=2 AND StatecLR.status=3 AND StatecLR.IsActive=1 AND StatecLR.IsCurrent=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['StatecLR']=$query->row_array();*/
	    $data['box']['StatecLR']=array(
	    	'Facilities'=>'2218',
	    	'StatecertifiedLR'=>'99'
	    );

	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StatecOT.IsActive), 0) as StatecertifiedOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StatecOT','um.UserID=StatecOT.userID AND StatecOT.certification_type="ot" AND StatecOT.level=2 AND StatecOT.status=3 AND StatecOT.IsActive=1 AND StatecOT.IsCurrent=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['StatecOT']=$query->row_array();*/
	    $data['box']['StatecOT']=array(
	    	'Facilities'=>'2218',
	    	'StatecertifiedOT'=>'86'
	    );

	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(ApLR.IsActive), 0) as AppliedLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification ApLR','um.UserID=ApLR.userID AND ApLR.certification_type="lr" AND ApLR.level=1 AND ApLR.status=1 AND ApLR.IsActive=1 AND ApLR.IsCurrent=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['ApLR']=$query->row_array();*/
	    $data['box']['ApLR']=array(
	    	'Facilities'=>'2218',
	    	'AppliedLR'=>'135'
	    );

	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(ApOT.IsActive), 0) as AppliedOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification ApOT','um.UserID=ApOT.userID AND ApOT.certification_type="ot" AND ApOT.level=1 AND ApOT.status=1 AND ApOT.IsActive=1 AND ApOT.IsCurrent=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['ApOT']=$query->row_array();*/
	    $data['box']['ApOT']=array(
	    	'Facilities'=>'2218',
	    	'AppliedOT'=>'123'
	    );

	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(IpLR.IsActive), 0) as InprocessLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification IpLR','um.UserID=IpLR.userID AND IpLR.certification_type="lr" AND IpLR.level=1 AND IpLR.status=2 AND IpLR.IsActive=1 AND IpLR.IsCurrent=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['IpLR']=$query->row_array();*/
	    $data['box']['IpLR']=array(
	    	'Facilities'=>'2218',
	    	'InprocessLR'=>'0'
	    );

	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(IpOT.IsActive), 0) as InprocessOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification IpOT','um.UserID=IpOT.userID AND IpOT.certification_type="ot" AND IpOT.level=1 AND IpOT.status=2 AND IpOT.IsActive=1 AND IpOT.IsCurrent=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['IpOT']=$query->row_array();*/
	    $data['box']['IpOT']=array(
	    	'Facilities'=>'2218',
	    	'InprocessOT'=>'0'
	    );

	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(cLR.IsActive), 0) as CertifiedLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification cLR','um.UserID=cLR.userID AND cLR.certification_type="lr" AND cLR.level=1 AND cLR.status=3 AND cLR.IsActive=1 AND cLR.IsCurrent=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['cLR']=$query->row_array();*/
	    $data['box']['cLR']=array(
	    	'Facilities'=>'2218',
	    	'CertifiedLR'=>'38'
	    );

	  	/*$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(cOT.IsActive), 0) as CertifiedOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification cOT','um.UserID=cOT.userID AND cOT.certification_type="ot" AND cOT.level=1 AND cOT.status=3 AND cOT.IsActive=1 AND cOT.IsCurrent=1', 'left');	    
	    $query = $this->db->get();
	    $data['box']['cOT']=$query->row_array();*/
	    $data['box']['cOT']=array(
	    	'Facilities'=>'2218',
	    	'CertifiedOT'=>'26'
	    );
	    // box ended

	    $month=date('Y').'-'.date('m').'-01';

	  	$this->db->select('DATE_FORMAT(`m`.`ReportMonth`,"%b %Y") as ReportMonth,IFNULL(sum(m.TotalStillBirths), 0) as TotalStillBirths, IFNULL(sum(m.TotalLiveBirths), 0) as TotalLiveBirths');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1', 'left');
	    //$this->db->where('usertoken.UserID',$tokenData[1]);
	    $where = "m.ReportMonth !=null OR m.ReportMonth !='0000-00-00' ";
	    $this->db->where($where, NULL, FALSE);
	    $this->db->group_by('m.ReportMonth');
	    $query = $this->db->get();
	    foreach ($query->result_array() as $key => $value) {
	    	$data['chart']['LiveVSStill'][]=$value;
	    }

        $this->db->select('s.StateID,s.StateName');
        $this->db->from('states s');
        if(!empty($mappedData)){
            $this->db->where_in('s.StateID',$mappedData);
        }
        $this->db->order_by('s.StateName', 'ASC');
        $query = $this->db->get();
        foreach ($query->result() as $key => $value) {
            $data['state'][$value->StateID]=$value->StateName;
        }

		// top 5 states
		$this->db->select('count(f.StateID) as Facilities, s.StateName');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification c','um.UserID=c.userID AND c.status=3 AND c.IsActive=1 AND c.IsCurrent=1', 'inner');
	    $this->db->group_by('f.StateID');
	    $this->db->order_by('count(f.StateID)','DESC');
	    $this->db->limit('5');
	    $query = $this->db->get();
	    $top=$query->result_array();
	    $data['top']=$top;

 		return $data;

 	}
 	function getDashboardData($data){
 		$cond='';
 		if(!empty($data['state'])){
 			$cond=' AND s.mapCode="'.$data['state'].'" ';
 		} else {
 			$cond='';
 		}
 		if(!empty($data['mappedData']) && !empty($data['mappedField'])){
 			$facCond=' AND '.$data['mappedField'].' IN ("'.$data['mappedData'].'") ';
 		} else {
 			$facCond='';
 		}
	  	$sql='SELECT "all" as qryType,s.StateName,s.FacilityNum as FacilitiesNew,
count(f.FacilityID) as Facilities, 
IF(sd.baseline>0,sd.baseline,"NA") as LrBaseLine, 
IF(sd.baseline>0,sd.baseline,"NA") as OtbaseLine,  
IF(sd.national_ap_lr>0,sd.national_ap_lr,"NA") as AppliedLR,
IF(sd.national_ap_ot>0,sd.national_ap_ot,"NA") as AppliedOT,
"NA" as InprocessLR,
"NA" as InprocessOT,
IF(sd.national_lr>0,sd.national_lr,"NA") as CertifiedLR,
IF(sd.national_ot>0,sd.national_ot,"NA") as CertifiedOT,  
"NA" as StateappliedLR,
"NA" as StateappliedOT,
"NA" as StateInprocessLR,
"NA" as StateInprocessOT,
IF(sd.state_lr>0,sd.state_lr,"NA") as StatecertifiedLR,
IF(sd.state_ot>0,sd.state_ot,"NA") as StatecertifiedOT 
FROM `usermapping` `um` 
INNER JOIN `facilities` `f` ON `f`.`FacilityID`=`um`.`FacilityID` AND `um`.`FacilityID`>0 AND `f`.`IsActive`=1 '.$facCond.'  
INNER JOIN `states` `s` ON `f`.`StateID`=`s`.`StateID` AND `f`.`IsActive`=1 '.$cond.' 
INNER JOIN state_static_data sd on(s.StateID=sd.state_id) 
UNION
SELECT "aspirational" as qryType,s.StateName,sd.total_asp as FacilitiesNew,
count(f.FacilityID) as Facilities, 
IF(sd.total_asp_baseline>0,sd.total_asp_baseline,"NA") as LrBaseLine, 
IF(sd.total_asp_baseline>0,sd.total_asp_baseline,"NA") as OtbaseLine,  
IF(sd.asp_national_ap_lr>0,sd.asp_national_ap_lr,"NA") as AppliedLR,
IF(sd.asp_national_ap_ot>0,sd.asp_national_ap_ot,"NA") as AppliedOT,
"NA" as InprocessLR,
"NA" as InprocessOT,
IF(sd.asp_national_cr_lr>0,sd.asp_national_cr_lr,"NA") as CertifiedLR,
IF(sd.asp_national_cr_ot>0,sd.asp_national_cr_ot,"NA") as CertifiedOT,  
"NA" as StateappliedLR,
"NA" as StateappliedOT,
"NA" as StateInprocessLR,
"NA" as StateInprocessOT,
"NA" as StatecertifiedLR,
"NA" as StatecertifiedOT 
FROM `usermapping` `um` 
INNER JOIN `facilities` `f` ON `f`.`FacilityID`=`um`.`FacilityID` AND `um`.`FacilityID`>0 AND `f`.`IsActive`=1 '.$facCond.' 
INNER JOIN `states` `s` ON `f`.`StateID`=`s`.`StateID` AND `f`.`IsActive`=1 '.$cond.'  
INNER JOIN state_static_data sd on(s.StateID=sd.state_id) 
INNER JOIN district d on `f`.`DistrictID`=d.DistrictID AND d.IsHighPriority=1
';
		$result = $this->db->query($sql, NULL);

	    foreach ($result->result_array() as $key => $value) {
	    	$data[$value['qryType']]=$value; 
	    	//$data[$value['qryType']]=array_map(function($val) { return rand(10,10000); }, $value);
	    }
 		return $data;


 	}
 	function getDashboardData_dynamic($data){
 		// get map data dynamicaly, use when need to show real time data in ministry and state map
 		$cond='';
 		if(!empty($data['state'])){
 			$cond=' AND s.mapCode="'.$data['state'].'" ';
 		} else {
 			$cond='';
 		}
 		if(!empty($data['mappedData']) && !empty($data['mappedField'])){
 			$facCond=' AND '.$data['mappedField'].' IN ("'.$data['mappedData'].'") ';
 		} else {
 			$facCond='';
 		}
	  	$sql='SELECT "all" as qryType,s.StateName,s.FacilityNum as FacilitiesNew,
count(f.FacilityID) as Facilities, 
IFNULL(sum(aLR.Sequence), 0) as LrBaseLine, 
IFNULL(sum(aOT.Sequence), 0) as OtbaseLine,  
IFNULL(sum(ApLR.IsActive), 0) as AppliedLR,
IFNULL(sum(ApOT.IsActive), 0) as AppliedOT,
IFNULL(sum(IpLR.IsActive), 0) as InprocessLR,
IFNULL(sum(IpOT.IsActive), 0) as InprocessOT,
IFNULL(sum(cLR.IsActive), 0) as CertifiedLR,
IFNULL(sum(cOT.IsActive), 0) as CertifiedOT,  
IFNULL(sum(StateApLR.IsActive), 0) as StateappliedLR,
IFNULL(sum(StateApOT.IsActive), 0) as StateappliedOT,
IFNULL(sum(StateIpLR.IsActive), 0) as StateInprocessLR,
IFNULL(sum(StateIpOT.IsActive), 0) as StateInprocessOT,
IFNULL(sum(StatecLR.IsActive), 0) as StatecertifiedLR,
IFNULL(sum(StatecOT.IsActive), 0) as StatecertifiedOT 
FROM `usermapping` `um` 
INNER JOIN `facilities` `f` ON `f`.`FacilityID`=`um`.`FacilityID` AND `um`.`FacilityID`>0 AND `f`.`IsActive`=1 '.$facCond.'  
INNER JOIN `states` `s` ON `f`.`StateID`=`s`.`StateID` AND `f`.`IsActive`=1 '.$cond.' 
LEFT JOIN `answer` `aLR` ON `um`.`UserID`=`aLR`.`UserID` AND `aLR`.`IsActive`=1 AND `aLR`.`SurveyStatus`=1 AND `aLR`.`Sequence`=1 AND `aLR`.`SurveyID`=1 
LEFT JOIN `answer` `aOT` ON `um`.`UserID`=`aOT`.`UserID` AND `aOT`.`IsActive`=1 AND `aOT`.`SurveyStatus`=1 AND `aOT`.`Sequence`=1 AND `aOT`.`SurveyID`=2 
LEFT JOIN `certification` `ApLR` ON `um`.`UserID`=`ApLR`.`userID` AND `ApLR`.`certification_type`="lr" AND `ApLR`.`level`=1 AND `ApLR`.`status`=1 AND `ApLR`.`IsCurrent`=1 AND `ApLR`.`IsActive`=1 
LEFT JOIN `certification` `ApOT` ON `um`.`UserID`=`ApOT`.`userID` AND `ApOT`.`certification_type`="ot" AND `ApOT`.`level`=1 AND `ApOT`.`status`=1 AND `ApOT`.`IsCurrent`=1 AND `ApOT`.`IsActive`=1 
LEFT JOIN `certification` `IpLR` ON `um`.`UserID`=`IpLR`.`userID` AND `IpLR`.`certification_type`="lr" AND `IpLR`.`level`=1 AND `IpLR`.`status`=2 AND `IpLR`.`IsCurrent`=1 AND `IpLR`.`IsActive`=1  
LEFT JOIN `certification` `IpOT` ON `um`.`UserID`=`IpOT`.`userID` AND `IpOT`.`certification_type`="ot" AND `IpOT`.`level`=1 AND `IpOT`.`status`=2 AND `IpOT`.`IsCurrent`=1 AND `IpOT`.`IsActive`=1 
LEFT JOIN `certification` `cLR` ON `um`.`UserID`=`cLR`.`userID` AND `cLR`.`certification_type`="lr" AND `cLR`.`level`=1 AND `cLR`.`status`=3 AND `cLR`.`IsCurrent`=1 AND `cLR`.`IsActive`=1  
LEFT JOIN `certification` `cOT` ON `um`.`UserID`=`cOT`.`userID` AND `cOT`.`certification_type`="ot" AND `cOT`.`level`=1 AND `cOT`.`status`=3 AND `cOT`.`IsCurrent`=1 AND `cOT`.`IsActive`=1 
LEFT JOIN `certification` `StateApLR` ON `um`.`UserID`=`StateApLR`.`userID` AND `StateApLR`.`certification_type`="lr" AND `StateApLR`.`level`=2 AND `StateApLR`.`status`=1 AND `StateApLR`.`IsCurrent`=1 AND `StateApLR`.`IsActive`=1 
LEFT JOIN `certification` `StateApOT` ON `um`.`UserID`=`StateApOT`.`userID` AND `StateApOT`.`certification_type`="ot" AND `StateApOT`.`level`=2 AND `StateApOT`.`status`=1 AND `StateApOT`.`IsCurrent`=1 AND `StateApOT`.`IsActive`=1 
LEFT JOIN `certification` `StateIpLR` ON `um`.`UserID`=`StateIpLR`.`userID` AND `StateIpLR`.`certification_type`="lr" AND `StateIpLR`.`level`=2 AND `StateIpLR`.`status`=2 AND `StateIpLR`.`IsCurrent`=1 AND `StateIpLR`.`IsActive`=1 
LEFT JOIN `certification` `StateIpOT` ON `um`.`UserID`=`StateIpOT`.`userID` AND `StateIpOT`.`certification_type`="ot" AND `StateIpOT`.`level`=2 AND `StateIpOT`.`status`=2 AND `StateIpOT`.`IsCurrent`=1 AND `StateIpOT`.`IsActive`=1
LEFT JOIN `certification` `StatecLR` ON `um`.`UserID`=`StatecLR`.`userID` AND `StatecLR`.`certification_type`="lr" AND `StatecLR`.`level`=2 AND `StatecLR`.`status`=3 AND `StatecLR`.`IsCurrent`=1 AND `StatecLR`.`IsActive`=1 
LEFT JOIN `certification` `StatecOT` ON `um`.`UserID`=`StatecOT`.`userID` AND `StatecOT`.`certification_type`="ot" AND `StatecOT`.`level`=2 AND `StatecOT`.`status`=3 AND `StatecOT`.`IsCurrent`=1 AND `StatecOT`.`IsActive`=1
UNION
SELECT "aspirational" as qryType,s.StateName,count(f.FacilityID) as FacilitiesNew,
count(f.FacilityID) as Facilities, 
IFNULL(sum(aLR.Sequence), 0) as LrBaseLine, 
IFNULL(sum(aOT.Sequence), 0) as OtbaseLine,  
IFNULL(sum(ApLR.IsActive), 0) as AppliedLR,
IFNULL(sum(ApOT.IsActive), 0) as AppliedOT,
IFNULL(sum(IpLR.IsActive), 0) as InprocessLR,
IFNULL(sum(IpOT.IsActive), 0) as InprocessOT,
IFNULL(sum(cLR.IsActive), 0) as CertifiedLR,
IFNULL(sum(cOT.IsActive), 0) as CertifiedOT,  
IFNULL(sum(StateApLR.IsActive), 0) as StateappliedLR,
IFNULL(sum(StateApOT.IsActive), 0) as StateappliedOT,
IFNULL(sum(StateIpLR.IsActive), 0) as StateInprocessLR,
IFNULL(sum(StateIpOT.IsActive), 0) as StateInprocessOT,
IFNULL(sum(StatecLR.IsActive), 0) as StatecertifiedLR,
IFNULL(sum(StatecOT.IsActive), 0) as StatecertifiedOT 
FROM `usermapping` `um` 
INNER JOIN `facilities` `f` ON `f`.`FacilityID`=`um`.`FacilityID` AND `um`.`FacilityID`>0 AND `f`.`IsActive`=1 '.$facCond.' 
INNER JOIN `states` `s` ON `f`.`StateID`=`s`.`StateID` AND `f`.`IsActive`=1 '.$cond.'  
INNER JOIN district d on `f`.`DistrictID`=d.DistrictID AND d.IsHighPriority=1
LEFT JOIN `answer` `aLR` ON `um`.`UserID`=`aLR`.`UserID` AND `aLR`.`IsActive`=1 AND `aLR`.`SurveyStatus`=1 AND `aLR`.`Sequence`=1 AND `aLR`.`SurveyID`=1 
LEFT JOIN `answer` `aOT` ON `um`.`UserID`=`aOT`.`UserID` AND `aOT`.`IsActive`=1 AND `aOT`.`SurveyStatus`=1 AND `aOT`.`Sequence`=1 AND `aOT`.`SurveyID`=2 
LEFT JOIN `certification` `ApLR` ON `um`.`UserID`=`ApLR`.`userID` AND `ApLR`.`certification_type`="lr" AND `ApLR`.`level`=1 AND `ApLR`.`status`=1 AND `ApLR`.`IsCurrent`=1 AND `ApLR`.`IsActive`=1
LEFT JOIN `certification` `ApOT` ON `um`.`UserID`=`ApOT`.`userID` AND `ApOT`.`certification_type`="ot" AND `ApOT`.`level`=1 AND `ApOT`.`status`=1 AND `ApOT`.`IsCurrent`=1 AND `ApOT`.`IsActive`=1
LEFT JOIN `certification` `IpLR` ON `um`.`UserID`=`IpLR`.`userID` AND `IpLR`.`certification_type`="lr" AND `IpLR`.`level`=1 AND `IpLR`.`status`=2 AND `IpLR`.`IsCurrent`=1 AND `IpLR`.`IsActive`=1
LEFT JOIN `certification` `IpOT` ON `um`.`UserID`=`IpOT`.`userID` AND `IpOT`.`certification_type`="ot" AND `IpOT`.`level`=1 AND `IpOT`.`status`=2 AND `IpOT`.`IsCurrent`=1 AND `IpOT`.`IsActive`=1
LEFT JOIN `certification` `cLR` ON `um`.`UserID`=`cLR`.`userID` AND `cLR`.`certification_type`="lr" AND `cLR`.`level`=1 AND `cLR`.`status`=3 AND `cLR`.`IsCurrent`=1 AND `cLR`.`IsActive`=1 
LEFT JOIN `certification` `cOT` ON `um`.`UserID`=`cOT`.`userID` AND `cOT`.`certification_type`="ot" AND `cOT`.`level`=1 AND `cOT`.`status`=3 AND `cOT`.`IsCurrent`=1 AND `cOT`.`IsActive`=1
LEFT JOIN `certification` `StateApLR` ON `um`.`UserID`=`StateApLR`.`userID` AND `StateApLR`.`certification_type`="lr" AND `StateApLR`.`level`=2 AND `StateApLR`.`status`=1 AND `StateApLR`.`IsCurrent`=1 AND `StateApLR`.`IsActive`=1
LEFT JOIN `certification` `StateApOT` ON `um`.`UserID`=`StateApOT`.`userID` AND `StateApOT`.`certification_type`="ot" AND `StateApOT`.`level`=2 AND `StateApOT`.`status`=1 AND `StateApOT`.`IsCurrent`=1 AND `StateApOT`.`IsActive`=1
LEFT JOIN `certification` `StateIpLR` ON `um`.`UserID`=`StateIpLR`.`userID` AND `StateIpLR`.`certification_type`="lr" AND `StateIpLR`.`level`=2 AND `StateIpLR`.`status`=2 AND `StateIpLR`.`IsCurrent`=1 AND `StateIpLR`.`IsActive`=1
LEFT JOIN `certification` `StateIpOT` ON `um`.`UserID`=`StateIpOT`.`userID` AND `StateIpOT`.`certification_type`="ot" AND `StateIpOT`.`level`=2 AND `StateIpOT`.`status`=2 AND `StateIpOT`.`IsCurrent`=1 AND `StateIpOT`.`IsActive`=1
LEFT JOIN `certification` `StatecLR` ON `um`.`UserID`=`StatecLR`.`userID` AND `StatecLR`.`certification_type`="lr" AND `StatecLR`.`level`=2 AND `StatecLR`.`status`=3 AND `StatecLR`.`IsCurrent`=1 AND `StatecLR`.`IsActive`=1 
LEFT JOIN `certification` `StatecOT` ON `um`.`UserID`=`StatecOT`.`userID` AND `StatecOT`.`certification_type`="ot" AND `StatecOT`.`level`=2 AND `StatecOT`.`status`=3 AND `StatecOT`.`IsCurrent`=1 AND `StatecOT`.`IsActive`=1
';
		$result = $this->db->query($sql, NULL);

	    foreach ($result->result_array() as $key => $value) {
	    	$data[$value['qryType']]=$value; 
	    	//$data[$value['qryType']]=array_map(function($val) { return rand(10,10000); }, $value);
	    }
 		return $data;


 	}

 	function getMinistryDashboardData($data,$search){
		if ($search['RoleName'] == 'District') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.DistrictID';
        } else if ($search['RoleName'] == 'State') {
            $mappedData = explode(",", $search['mapped']);
            $mappedField='f.StateID';
        } else {
            $mappedData = explode(",", $search['mapped']);
        	$mappedField='f.StateID';
        }        

        if($data['aspirational']=='yes'){
        	$condAspir=' AND d.IsHighPriority="1" ';
        } else {
        	$condAspir='';
        }
        $level=array('1'=>'national','2'=>'state','3'=>'so');
        $stage=array('1'=>'applied','2'=>'inprocess','3'=>'received','4'=>'rejected');
        $types=array('lr','ot','so');
        $col = array(
            0 => 's.StateName',
            1 => 'd.DistrictName',
            2 => 'f.FacilityName',
            3 => 't.TypeDetailCode',
            3 => 'f.FacilityNumber',
        );
        $condCertification='';
        if(isset($data['types'])){
        	if(in_array(strtolower($data['types']), $types)){
        		$condCertification.=' AND certification.certification_type="'.strtolower($data['types']).'"';        		
        	}
        }
        if(isset($data['level'])){
        	if(in_array(strtolower($data['level']), $level)){
        		$condCertification.=' AND certification.level="'.array_search(strtolower($data['level']), $level).'"';
        	}
        }
        if(isset($data['stage'])){
        	if(in_array(strtolower($data['stage']), $stage)){
        		$condCertification.=' AND certification.status="'.array_search(strtolower($data['stage']), $stage).'"';
        	}
        }

	  	$this->db->select('f.FacilityName,f.FacilityNumber,d.DistrictName,s.StateName,t.TypeDetailCode');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s', 'f.StateID=s.StateID AND s.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsActive=1 '.$condAspir, 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID', 'left');
	    if(!empty($data['types'])){
	    	$this->db->join('certification', 'um.UserID=certification.userID AND certification.IsCurrent=1 AND certification.IsActive=1 '.$condCertification, 'inner');
	    }
	    $this->db->where('f.Islaqshya','1');
	    
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
        if(!empty($searchData['search']['value'])){
            $searchString=trim($searchData['search']['value']);
            $this->db->where("(s.StateName like '%".$searchString."%' OR d.DistrictName like '%".$searchString."%' OR f.FacilityName like '%".$searchString."%' OR t.TypeDetailCode like '%".$searchString."%' OR f.FacilityNumber like '%".$searchString."%')", NULL, FALSE);
        }
	    if(!empty($data['search_state'])){
	    	$this->db->where('s.StateID',$data['search_state']);	    	
	    }
	    if(!empty($data['search_district'])){
	    	$this->db->where('d.DistrictID',$data['search_district']);	    	
	    }
	    $queryTot = $this->db->get();

	    // data query
	  	$this->db->select('f.FacilityName,f.FacilityNumber,d.DistrictName,s.StateName,t.TypeDetailCode');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s', 'f.StateID=s.StateID AND s.IsActive=1', 'inner');
	    $this->db->join('district d', 'f.DistrictID=d.DistrictID AND d.IsActive=1'.$condAspir, 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID', 'left');
	    if(!empty($data['types'])){
	    	$this->db->join('certification', 'um.UserID=certification.userID AND certification.IsCurrent=1 AND certification.IsActive=1 '.$condCertification, 'inner');
	    }
	    $this->db->where('f.Islaqshya','1');
	    
	    if(!empty($search['mapped'])){
	    	$this->db->where_in($mappedField,$mappedData);	    	
	    }
        if(!empty($data['search']['value'])){
            $searchString=trim($data['search']['value']);
            $this->db->where("(s.StateName like '%".$searchString."%' OR d.DistrictName like '%".$searchString."%' OR f.FacilityName like '%".$searchString."%' OR t.TypeDetailCode like '%".$searchString."%' OR f.FacilityNumber like '%".$searchString."%')", NULL, FALSE);
        }
	    if(!empty($data['search_state'])){
	    	$this->db->where('s.StateID',$data['search_state']);	    	
	    }
	    if(!empty($data['search_district'])){
	    	$this->db->where('d.DistrictID',$data['search_district']);	    	
	    }
	    $this->db->order_by($col[$data['order'][0]['column']], $data['order'][0]['dir']);
	    $this->db->limit($data['length'],$data['start']);
	    $query = $this->db->get();
		$data1=array();
		foreach ($query->result() as $key => $value) {
		    $subdata=array();
		    $subdata[]=$value->StateName;
		    $subdata[]=$value->DistrictName;
		    $subdata[]=$value->FacilityName;
		    $subdata[]=$value->FacilityNumber;
		    $subdata[]=$value->TypeDetailCode;
		    $data1[]=$subdata;
		}
		$json_data=array(
		    "draw"              =>  intval($data['draw']),
		    "recordsTotal"      =>  intval($queryTot->num_rows()),
		    "recordsFiltered"   =>  intval($queryTot->num_rows()),
		    "data"              =>  $data1
		);
 		return $json_data;

 	}
 	function state_dashboard_new($search){
 		$mappedData = explode(",", $search['mapped']);
 		// box start
 		// static data start
	  	$this->db->select('state_static_data.*');
	    $this->db->from('state_static_data');
	    if(!empty($mappedData)){
	    	$this->db->where_in('state_static_data.state_id',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['state_static_data']=$query->row_array();
	    // static data end

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalLaQshya']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','107');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalCHC']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','105');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalFRU']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','64');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalDisFacility']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','103');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalMedFacility']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','440');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalSubDivFacility']=$query->num_rows();

		$idsType=array('107','105','64','103','440');
		$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where_not_in('t.TypeDetailID', $idsType);
	    $this->db->where('t.TypeMasterID','4');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalOtherFacility']=$query->num_rows();

	    // box end

	    // map start
	  	/*$this->db->select('s.StateName as catName,s.FacilityNum as facilitiesNew,count(f.FacilityID) as facilities,s.mapCode,
				IFNULL(sum(aLR.Sequence),0) as LrBaseLine, 
				IFNULL(sum(aOT.Sequence),0) as OtbaseLine,
				IFNULL(sum(cLR.IsActive),0) as certifiedLR,
				IFNULL(sum(cOT.IsActive),0) as certifiedOT
	  		');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('answer aLR','um.UserID=aLR.UserID AND aLR.IsActive=1 AND aLR.SurveyStatus=1 AND aLR.Sequence=1 AND aLR.SurveyID=1', 'left');
	    $this->db->join('answer aOT','um.UserID=aOT.UserID AND aOT.IsActive=1 AND aOT.SurveyStatus=1 AND aOT.Sequence=1 AND aOT.SurveyID=2', 'left');
	    $this->db->join('certification cLR','um.UserID=cLR.userID AND cLR.certification_type="lr" AND cLR.level=1 AND cLR.status=3 AND cLR.IsCurrent=1 AND cLR.IsActive=1', 'left');
	    $this->db->join('certification cOT','um.UserID=cOT.userID AND cOT.certification_type="ot" AND cOT.level=1 AND cOT.status=3 AND cOT.IsCurrent=1 AND cOT.IsActive=1', 'left');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }	    
	    $this->db->group_by('f.StateID');
	    $query = $this->db->get();

	    $keys=array('injs1','injs2','injs3','injs4','injs5','injs6','injs7','injs8','injs9','injs10','injs11','injs12','injs13','injs14','injs15','injs16','injs17','injs18','injs19','injs20','injs21','injs22','injs23','injs24','injs25','injs26','injs27','injs28','injs29','injs30','injs31','injs32','injs33','injs34','injs35','injs36');
	    $result_chart=array_fill_keys($keys, array());
	    foreach ($query->result_array() as $key => $value) {
	    	if(empty($result_chart[$value['mapCode']])){
	    		$result_chart[$value['mapCode']]=$value;
	    	} else {
	    		$result_chart[$value['mapCode']]['facilities']+=$value['facilities'];
	    		$result_chart[$value['mapCode']]['certifiedLR']+=$value['certifiedLR'];
	    		$result_chart[$value['mapCode']]['certifiedOT']+=$value['certifiedOT'];
	    		$result_chart[$value['mapCode']]['LrBaseLine']+=$value['LrBaseLine'];
	    		$result_chart[$value['mapCode']]['OtbaseLine']+=$value['OtbaseLine'];
	    	}

	    }
	    $data['dataMap']=$result_chart;*/

	    $qryMap='SELECT s.`StateName` as catName,s.FacilityNum as facilitiesNew,s.FacilityNum as facilities,s.mapCode,sd.baseline as LrBaseLine,sd.baseline as OtbaseLine,sd.national_lr as certifiedLR,sd.national_ot as certifiedOT 
FROM `states` s
INNER JOIN state_static_data sd on(s.StateID=sd.state_id)
WHERE s.CountryID=1 AND s.IsActive=1 AND s.StateID in('.implode(',', $mappedData).') ORDER BY `StateID` ASC';
	    $query = $this->db->query($qryMap);
	    $keys=array('injs1','injs2','injs3','injs4','injs5','injs6','injs7','injs8','injs9','injs10','injs11','injs12','injs13','injs14','injs15','injs16','injs17','injs18','injs19','injs20','injs21','injs22','injs23','injs24','injs25','injs26','injs27','injs28','injs29','injs30','injs31','injs32','injs33','injs34','injs35','injs36');
	    $result_chart=array_fill_keys($keys, array());
	    foreach ($query->result_array() as $key => $value) {
	    	if(empty($result_chart[$value['mapCode']])){
	    		$result_chart[$value['mapCode']]=$value;
	    	} else {
	    		$result_chart[$value['mapCode']]['facilities']+=$value['facilities'];
	    		$result_chart[$value['mapCode']]['certifiedLR']+=$value['certifiedLR'];
	    		$result_chart[$value['mapCode']]['certifiedOT']+=$value['certifiedOT'];
	    		$result_chart[$value['mapCode']]['LrBaseLine']+=$value['LrBaseLine'];
	    		$result_chart[$value['mapCode']]['OtbaseLine']+=$value['OtbaseLine'];
	    	}

	    }
	    $data['dataMap']=$result_chart;
	    // map end

	    //LaQshya Status
	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(stateOr.IsActive), 0) as stateOrFac');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification stateOr','um.UserID=stateOr.userID AND stateOr.certification_type="so" AND stateOr.level=3 AND stateOr.status=3 AND stateOr.IsCurrent=1 AND stateOr.IsActive=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['stateOr']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StateApLR.IsActive), 0) as StateappliedLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StateApLR','um.UserID=StateApLR.userID AND StateApLR.certification_type="lr" AND StateApLR.level=2 AND StateApLR.status=1 AND StateApLR.IsActive=1 AND StateApLR.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['StateApLR']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StateApOT.IsActive), 0) as StateappliedOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StateApOT','um.UserID=StateApOT.userID AND StateApOT.certification_type="ot" AND StateApOT.level=2 AND StateApOT.status=1 AND StateApOT.IsActive=1 AND StateApOT.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['StateApOT']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StateIpLR.IsActive), 0) as StateInprocessLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StateIpLR','um.UserID=StateIpLR.userID AND StateIpLR.certification_type="lr" AND StateIpLR.level=2 AND StateIpLR.status=2 AND StateIpLR.IsActive=1 AND StateIpLR.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['StateIpLR']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StateIpOT.IsActive), 0) as StateInprocessOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StateIpOT','um.UserID=StateIpOT.userID AND StateIpOT.certification_type="ot" AND StateIpOT.level=2 AND StateIpOT.status=2 AND StateIpOT.IsActive=1 AND StateIpOT.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['StateIpOT']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StatecLR.IsActive), 0) as StatecertifiedLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StatecLR','um.UserID=StatecLR.userID AND StatecLR.certification_type="lr" AND StatecLR.level=2 AND StatecLR.status=3 AND StatecLR.IsActive=1 AND StatecLR.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['StatecLR']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StatecOT.IsActive), 0) as StatecertifiedOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StatecOT','um.UserID=StatecOT.userID AND StatecOT.certification_type="ot" AND StatecOT.level=2 AND StatecOT.status=3 AND StatecOT.IsActive=1 AND StatecOT.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['StatecOT']=$query->row_array();	  	

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(ApLR.IsActive), 0) as AppliedLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification ApLR','um.UserID=ApLR.userID AND ApLR.certification_type="lr" AND ApLR.level=1 AND ApLR.status=1 AND ApLR.IsActive=1 AND ApLR.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['ApLR']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(ApOT.IsActive), 0) as AppliedOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification ApOT','um.UserID=ApOT.userID AND ApOT.certification_type="ot" AND ApOT.level=1 AND ApOT.status=1 AND ApOT.IsActive=1 AND ApOT.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['ApOT']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(IpLR.IsActive), 0) as InprocessLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification IpLR','um.UserID=IpLR.userID AND IpLR.certification_type="lr" AND IpLR.level=1 AND IpLR.status=2 AND IpLR.IsActive=1 AND IpLR.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['IpLR']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(IpOT.IsActive), 0) as InprocessOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification IpOT','um.UserID=IpOT.userID AND IpOT.certification_type="ot" AND IpOT.level=1 AND IpOT.status=2 AND IpOT.IsActive=1 AND IpOT.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['IpOT']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(cLR.IsActive), 0) as CertifiedLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification cLR','um.UserID=cLR.userID AND cLR.certification_type="lr" AND cLR.level=1 AND cLR.status=3 AND cLR.IsActive=1 AND cLR.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['cLR']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(cOT.IsActive), 0) as CertifiedOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification cOT','um.UserID=cOT.userID AND cOT.certification_type="ot" AND cOT.level=1 AND cOT.status=3 AND cOT.IsActive=1 AND cOT.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['cOT']=$query->row_array();
	    // box ended

	    $month=date('Y').'-'.date('m').'-01';

	  	$this->db->select('DATE_FORMAT(`m`.`ReportMonth`,"%b %Y") as ReportMonth,IFNULL(sum(m.TotalStillBirths), 0) as TotalStillBirths, IFNULL(sum(m.TotalLiveBirths), 0) as TotalLiveBirths');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1', 'left');
	    //$this->db->where('usertoken.UserID',$tokenData[1]);
	    
	    $where = "m.ReportMonth !=null OR m.ReportMonth !='0000-00-00' ";
	    $this->db->where($where, NULL, FALSE);
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.StateID',$mappedData);
	    }
	    $this->db->group_by('m.ReportMonth');
	    $query = $this->db->get();
	    foreach ($query->result_array() as $key => $value) {
	    	$data['chart']['LiveVSStill'][]=$value;
	    }

	  	$this->db->select('d.districtId,d.DistrictName');
	    $this->db->from('states s');
	    $this->db->join('district d','s.StateID=d.StateID AND d.IsActive=1', 'inner');
	    if(!empty($mappedData)){
	    	$this->db->where_in('s.StateID',$mappedData);
	    }
	    $this->db->order_by('d.DistrictName', 'ASC');
	    $query = $this->db->get();
	    foreach ($query->result() as $key => $value) {
	    	$data['districts'][$value->districtId]=$value->DistrictName;
	    }

		// top 5 District
		$this->db->select('count(d.DistrictID) as Facilities, d.DistrictName');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('district d','f.DistrictID=d.DistrictID AND d.IsActive=1', 'inner');
	    $this->db->join('certification c','um.UserID=c.userID AND c.status=3 AND c.IsActive=1 AND c.IsCurrent=1', 'inner');
	    if(!empty($mappedData)){
	    	$this->db->where_in('s.StateID',$mappedData);
	    }
	    $this->db->group_by('d.DistrictID');
	    $this->db->order_by('count(d.DistrictID)','DESC');
	    $this->db->limit('5');
	    $query = $this->db->get();
	    $top=$query->result_array();
	    $data['top']=$top;

 		return $data;

 	}

 	function district_dashboard_new($search){
 		$mappedData = explode(",", $search['mapped']);
 		// box start
	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalLaQshya']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','107');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalCHC']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','105');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalFRU']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','64');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalDisFacility']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','103');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalMedFacility']=$query->num_rows();

	  	$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where('t.TypeDetailID','440');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalSubDivFacility']=$query->num_rows();

		$idsType=array('107','105','64','103','440');
		$this->db->select('um.UsermappingID');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    $this->db->where_not_in('t.TypeDetailID', $idsType);
	    $this->db->where('t.TypeMasterID','4');
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['totalOtherFacility']=$query->num_rows();

	    // box end

	    

	    //LaQshya Status
	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(stateOr.IsActive), 0) as stateOrFac');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification stateOr','um.UserID=stateOr.userID AND stateOr.certification_type="so" AND stateOr.level=3 AND stateOr.status=3 AND stateOr.IsCurrent=1 AND stateOr.IsActive=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['stateOr']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StateApLR.IsActive), 0) as StateappliedLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StateApLR','um.UserID=StateApLR.userID AND StateApLR.certification_type="lr" AND StateApLR.level=2 AND StateApLR.status=1 AND StateApLR.IsActive=1 AND StateApLR.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['StateApLR']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StateApOT.IsActive), 0) as StateappliedOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StateApOT','um.UserID=StateApOT.userID AND StateApOT.certification_type="ot" AND StateApOT.level=2 AND StateApOT.status=1 AND StateApOT.IsActive=1 AND StateApOT.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['StateApOT']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StateIpLR.IsActive), 0) as StateInprocessLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StateIpLR','um.UserID=StateIpLR.userID AND StateIpLR.certification_type="lr" AND StateIpLR.level=2 AND StateIpLR.status=2 AND StateIpLR.IsActive=1 AND StateIpLR.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['StateIpLR']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StateIpOT.IsActive), 0) as StateInprocessOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StateIpOT','um.UserID=StateIpOT.userID AND StateIpOT.certification_type="ot" AND StateIpOT.level=2 AND StateIpOT.status=2 AND StateIpOT.IsActive=1 AND StateIpOT.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['StateIpOT']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StatecLR.IsActive), 0) as StatecertifiedLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StatecLR','um.UserID=StatecLR.userID AND StatecLR.certification_type="lr" AND StatecLR.level=2 AND StatecLR.status=3 AND StatecLR.IsActive=1 AND StatecLR.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['StatecLR']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(StatecOT.IsActive), 0) as StatecertifiedOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification StatecOT','um.UserID=StatecOT.userID AND StatecOT.certification_type="ot" AND StatecOT.level=2 AND StatecOT.status=3 AND StatecOT.IsActive=1 AND StatecOT.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['StatecOT']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(ApLR.IsActive), 0) as AppliedLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification ApLR','um.UserID=ApLR.userID AND ApLR.certification_type="lr" AND ApLR.level=1 AND ApLR.status=1 AND ApLR.IsActive=1 AND ApLR.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['ApLR']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(ApOT.IsActive), 0) as AppliedOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification ApOT','um.UserID=ApOT.userID AND ApOT.certification_type="ot" AND ApOT.level=1 AND ApOT.status=1 AND ApOT.IsActive=1 AND ApOT.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['ApOT']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(IpLR.IsActive), 0) as InprocessLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification IpLR','um.UserID=IpLR.userID AND IpLR.certification_type="lr" AND IpLR.level=1 AND IpLR.status=2 AND IpLR.IsActive=1 AND IpLR.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['IpLR']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(IpOT.IsActive), 0) as InprocessOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification IpOT','um.UserID=IpOT.userID AND IpOT.certification_type="ot" AND IpOT.level=1 AND IpOT.status=2 AND IpOT.IsActive=1 AND IpOT.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['IpOT']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(cLR.IsActive), 0) as CertifiedLR');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification cLR','um.UserID=cLR.userID AND cLR.certification_type="lr" AND cLR.level=1 AND cLR.status=3 AND cLR.IsActive=1 AND cLR.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['cLR']=$query->row_array();

	  	$this->db->select('count(f.FacilityID) as Facilities,IFNULL(sum(cOT.IsActive), 0) as CertifiedOT');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('certification cOT','um.UserID=cOT.userID AND cOT.certification_type="ot" AND cOT.level=1 AND cOT.status=3 AND cOT.IsActive=1 AND cOT.IsCurrent=1', 'left');	    
	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $query = $this->db->get();
	    $data['box']['cOT']=$query->row_array();
	    // box ended

	    $month=date('Y').'-'.date('m').'-01';

	  	$this->db->select('DATE_FORMAT(`m`.`ReportMonth`,"%b %Y") as ReportMonth,IFNULL(sum(m.TotalStillBirths), 0) as TotalStillBirths, IFNULL(sum(m.TotalLiveBirths), 0) as TotalLiveBirths');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1', 'left');
	    //$this->db->where('usertoken.UserID',$tokenData[1]);
	    $where = "m.ReportMonth !=null OR m.ReportMonth !='0000-00-00' ";
	    $this->db->where($where, NULL, FALSE);

	    if(!empty($mappedData)){
	    	$this->db->where_in('f.DistrictID',$mappedData);
	    }
	    $this->db->group_by('m.ReportMonth');
	    $query = $this->db->get();
	    foreach ($query->result_array() as $key => $value) {
	    	$data['chart']['LiveVSStill'][]=$value;
	    }

        $this->db->select('um.UserID,f.FacilityName');
        $this->db->from('usermapping um');
        $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
        $this->db->join('typedetail t', 'f.FacilityTypeDetailID=t.TypeDetailID AND t.IsActive=1', 'inner');
        $this->db->where('f.Islaqshya','1');
        if(!empty($mappedData)){
            $this->db->where_in('f.DistrictID',$mappedData);
        }
        $query = $this->db->get();
        $data['facilities']=$query->result_array();

		// top 5 facility
        

 		return $data;

 	}
 	function piechart_MatDeath($data){
	  	$this->db->select('IFNULL(sum(m.MaternalAPH), 0) as MaternalAPH,
IFNULL(sum(m.MaternalPPH), 0) as MaternalPPH,
IFNULL(sum(m.MaternalSepsis), 0) as MaternalSepsis,
IFNULL(sum(m.MaternalObstructedLabour), 0) as MaternalObstructedLabour,
IFNULL(sum(m.MaternalPIHEclampsia), 0) as MaternalPIHEclampsia,
IFNULL(sum(m.MaternalOthers), 0) as MaternalOthers,
IFNULL(sum(m.MaternalPPH)+sum(m.MaternalSepsis)+sum(m.MaternalObstructedLabour)+sum(m.MaternalPIHEclampsia)+sum(m.MaternalOthers), 0) as TotalMaternalDeaths');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1 AND m.ReportMonth="'.$data['searchDate'].'"', 'left');	    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $query = $this->db->get();
	    $result=$query->row_array();

      $dashboardInsert=array(
        'type_data'=>'piechart_MatDeath',
        'field_1'=>@(int)$result['MaternalAPH'],
        'field_2'=>@(int)$result['MaternalPPH'],
        'field_3'=>@(int)$result['MaternalSepsis'],
        'field_4'=>@(int)$result['MaternalObstructedLabour'],
        'field_5'=>@(int)$result['MaternalPIHEclampsia'],
        'field_6'=>@(int)$result['MaternalOthers'],
      );
      //$this->db->insert('dashboard_data_laqshya', $dashboardInsert);

	    if(empty($result['TotalMaternalDeaths'])){
		    return array(
	            array('Category','Value'),
	            array('No Data',1)
	        );
	    } else {
		    return array(
	            array('Category','Value'),
	            array('APH',(int)$result['MaternalAPH']),
	            array('PPH',(int)$result['MaternalPPH']),
	            array('Sepsis',(int)$result['MaternalSepsis']),
	            array('Obstructed labour',(int)$result['MaternalObstructedLabour']),
	            array('Eclampsia',(int)$result['MaternalPIHEclampsia']),
	            array('Others',(int)$result['MaternalOthers'])
	        );	    	
	    }


 	}
 	function piechart_NeonDeath($data){
	  	$this->db->select('IFNULL(sum(m.NeonatalPrematurity), 0) as NeonatalPrematurity,
IFNULL(sum(m.NeonatalSepsis), 0) as NeonatalSepsis,
IFNULL(sum(m.NeonatalAsphyxia), 0) as NeonatalAsphyxia,
IFNULL(sum(m.NeonatalOthers), 0) as NeonatalOthers,IFNULL(sum(m.NeonatalPrematurity)+sum(m.NeonatalSepsis)+sum(m.NeonatalAsphyxia)+sum(m.NeonatalOthers), 0) as total');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1 AND m.ReportMonth="'.$data['searchDate'].'"', 'left');	    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $query = $this->db->get();
	    $result=$query->row_array();

      $dashboardInsert=array(
        'type_data'=>'piechart_NeonDeath',
        'field_1'=>@(int)$result['NeonatalPrematurity'],
        'field_2'=>@(int)$result['NeonatalSepsis'],
        'field_3'=>@(int)$result['NeonatalAsphyxia'],
        'field_4'=>@(int)$result['NeonatalOthers']
      );
      //$this->db->insert('dashboard_data_laqshya', $dashboardInsert);

	    if(empty($result['total'])){
		    return array(
	            array('Category','Value'),
	            array('No Data',1)
	        );
	    } else {
		    return array(
	            array('Category','Value'),
	            array('Prematurity',(int)$result['NeonatalPrematurity']),
	            array('Sepsis',(int)$result['NeonatalSepsis']),
	            array('Asphyxia',(int)$result['NeonatalAsphyxia']),
	            array('Others',(int)$result['NeonatalOthers'])
	        );	    	
	    }

 	}
 	function piechart_StillBirth($data){
	  	$this->db->select('IFNULL(sum(m.TotalFreshStillBirths), 0) as TotalFreshStillBirths,
IFNULL(sum(m.TotalMaceratedStillBirths), 0) as TotalMaceratedStillBirths,
IFNULL(sum(m.TotalMaceratedStillBirths)+sum(m.TotalFreshStillBirths), 0) as total');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1 AND m.ReportMonth="'.$data['searchDate'].'"', 'left');	    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $query = $this->db->get();
	    $result=$query->row_array();

      $dashboardInsert=array(
        'type_data'=>'piechart_StillBirth',
        'field_1'=>@(int)$result['TotalFreshStillBirths'],
        'field_2'=>@(int)$result['TotalMaceratedStillBirths']
      );
      //$this->db->insert('dashboard_data_laqshya', $dashboardInsert);

	    if(empty($result['total'])){
		    return array(
	            array('Category','Value'),
	            array('No Data',1)
	        );
	    } else {
		    return array(
	            array('Category','Value'),
	            array('Still Births',(int)$result['TotalFreshStillBirths']),
	            array('Macerated Still Births',(int)$result['TotalMaceratedStillBirths'])
	        );
		}
 	}
 	function piechart_Deliveries($data){
	  	$this->db->select('IFNULL(sum(m.TotalNormalVaginalDeliveries), 0) as TotalNormalVaginalDeliveries,
IFNULL(sum(m.TotalAssistedVaginalDeliveries), 0) as TotalAssistedVaginalDeliveries,
IFNULL(sum(m.TotalCSections), 0) as TotalCSections,
IFNULL(sum(m.TotalCSections)+sum(m.TotalNormalVaginalDeliveries)+sum(m.TotalAssistedVaginalDeliveries), 0) as total');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('states s','f.StateID=s.StateID AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1 AND m.ReportMonth="'.$data['searchDate'].'"', 'left');	    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $query = $this->db->get();
	    $result=$query->row_array();

      $dashboardInsert=array(
        'type_data'=>'piechart_Deliveries',
        'field_1'=>@(int)$result['TotalNormalVaginalDeliveries'],
        'field_2'=>@(int)$result['TotalAssistedVaginalDeliveries'],
        'field_3'=>@(int)$result['TotalCSections'],
      );
      //$this->db->insert('dashboard_data_laqshya', $dashboardInsert);

	    if(empty($result['total'])){
		    return array(
	            array('Category','Value'),
	            array('No Data',1)
	        );
	    } else {
		    return array(
	            array('Category','Value'),
	            array('Normal Vaginal Deliveries',(int)$result['TotalNormalVaginalDeliveries']),
	            array('Assisted Vaginal Deliveries',(int)$result['TotalAssistedVaginalDeliveries']),
	            array('C-Sections',(int)$result['TotalCSections'])
	        );
		}
 	}
 	function chart_aph($data){
	  	$this->db->select('DATE_FORMAT(m.ReportMonth,"%b %Y") as ReportMonth,IFNULL(m.MaternalAPH,0) as MaternalAPH,IFNULL(m.MaternalPPH,0) as MaternalPPH');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1', 'left');    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $this->db->order_by('m.ReportMonth', 'desc');
	    $this->db->limit('6');
	    $query = $this->db->get();
	    $returnData=array(array('Category','APH','PPH'));
	    if($query -> num_rows()>0){
	    	foreach ($query->result_array() as $key => $value) {
	    		$returnData[]=array($value['ReportMonth'],(int)$value['MaternalAPH'],(int)$value['MaternalPPH']);
	    	}
	    }
	    return $returnData;
 	}
 	function chart_pih($data){
	  	$this->db->select('DATE_FORMAT(m.ReportMonth,"%b %Y") as ReportMonth,IFNULL(m.MaternalPIHEclampsia,0) as MaternalPIHEclampsia');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1', 'left');    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $this->db->order_by('m.ReportMonth', 'desc');
	    $this->db->limit('6');
	    $query = $this->db->get();
	    $returnData=array(array('Category','Eclampsia'));
	    if($query -> num_rows()>0){
	    	foreach ($query->result_array() as $key => $value) {
	    		$returnData[]=array($value['ReportMonth'],(int)$value['MaternalPIHEclampsia']);
	    	}
	    }
	    return $returnData;
 	}
 	function chart_sepsis($data){
	  	$this->db->select('DATE_FORMAT(m.ReportMonth,"%b %Y") as ReportMonth,IFNULL(m.NeonatalSepsis,0) as NeonatalSepsis');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1', 'left');    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $this->db->order_by('m.ReportMonth', 'desc');
	    $this->db->limit('6');
	    $query = $this->db->get();
	    $returnData=array(array('Category','Sepsis'));
	    if($query -> num_rows()>0){
	    	foreach ($query->result_array() as $key => $value) {
	    		$returnData[]=array($value['ReportMonth'],(int)$value['NeonatalSepsis']);
	    	}
	    }
	    return $returnData;
 	}
 	function chart_asphyxia($data){
	  	$this->db->select('DATE_FORMAT(m.ReportMonth,"%b %Y") as ReportMonth,IFNULL(m.NeonatalAsphyxia,0) as NeonatalAsphyxia');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1', 'left');    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $this->db->order_by('m.ReportMonth', 'desc');
	    $this->db->limit('6');
	    $query = $this->db->get();
	    $returnData=array(array('Category','Asphyxia'));
	    if($query -> num_rows()>0){
	    	foreach ($query->result_array() as $key => $value) {
	    		$returnData[]=array($value['ReportMonth'],(int)$value['NeonatalAsphyxia']);
	    	}
	    }
	    return $returnData;
 	}
 	function chart_partograph($data){
	  	$this->db->select('DATE_FORMAT(m.ReportMonth,"%b %Y") as ReportMonth,IFNULL(m.RealTimePartograph,0) as RealTimePartograph');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1', 'left');    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $this->db->order_by('m.ReportMonth', 'desc');
	    $this->db->limit('6');
	    $query = $this->db->get();
	    $returnData=array(array('Category','Partograph'));
	    if($query -> num_rows()>0){
	    	foreach ($query->result_array() as $key => $value) {
	    		$returnData[]=array($value['ReportMonth'],(int)$value['RealTimePartograph']);
	    	}
	    }
	    return $returnData;
 	}
 	function chart_birth($data){
	  	$this->db->select('DATE_FORMAT(m.ReportMonth,"%b %Y") as ReportMonth,IFNULL(m.BirthCompanionNos,0) as BirthCompanionNos');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1', 'left');    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $this->db->order_by('m.ReportMonth', 'desc');
	    $this->db->limit('6');
	    $query = $this->db->get();
	    $returnData=array(array('Category','Companions'));
	    if($query -> num_rows()>0){
	    	foreach ($query->result_array() as $key => $value) {
	    		$returnData[]=array($value['ReportMonth'],(int)$value['BirthCompanionNos']);
	    	}
	    }
	    return $returnData;
 	}
 	function chart_safebirth($data){
	  	$this->db->select('DATE_FORMAT(m.ReportMonth,"%b %Y") as ReportMonth,IFNULL(m.SafeBirthChecklist,0) as SafeBirthChecklist');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1', 'left');    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $this->db->order_by('m.ReportMonth', 'desc');
	    $this->db->limit('6');
	    $query = $this->db->get();
	    $returnData=array(array('Category','Safe Birth LR'));
	    if($query -> num_rows()>0){
	    	foreach ($query->result_array() as $key => $value) {
	    		$returnData[]=array($value['ReportMonth'],(int)$value['SafeBirthChecklist']);
	    	}
	    }
	    return $returnData;
 	}
 	function chart_safebirthot($data){
	  	$this->db->select('DATE_FORMAT(m.ReportMonth,"%b %Y") as ReportMonth,IFNULL(m.CSectionOTSafeChecklist,0) as CSectionOTSafeChecklist');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('monthly m','`um`.`UserID`=`m`.`UserID` AND `m`.`MonthlyStatus`=1', 'left');    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $this->db->order_by('m.ReportMonth', 'desc');
	    $this->db->limit('6');
	    $query = $this->db->get();
	    $returnData=array(array('Category','Safe Birth LR'));
	    if($query -> num_rows()>0){
	    	foreach ($query->result_array() as $key => $value) {
	    		$returnData[]=array($value['ReportMonth'],(int)$value['CSectionOTSafeChecklist']);
	    	}
	    }
	    return $returnData;
 	}
 	function chart_anexture($data){
	  	$this->db->select('DATE_FORMAT(ax.submitDate, "%b %Y") as ReportMonth,count(*) as cnt');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->join('anexture ax','um.UserID=ax.UserID AND ax.isDraft=0', 'inner');    
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    $this->db->group_by('DATE_FORMAT(ax.submitDate, "%Y-%m-%d")');
	    $this->db->order_by('ax.submitDate', 'desc');
	    $this->db->limit('6');
	    $query = $this->db->get();

	    $returnData=array(array('Category','Anexure'));
	    if($query -> num_rows()>0){
	    	foreach ($query->result_array() as $key => $value) {
	    		$returnData[]=array($value['ReportMonth'],(int)$value['cnt']);
	    	}
	    }
	    $returnData[]=array('Jan 2019',10);
	    $returnData[]=array('Feb 2019',15);
	    $returnData[]=array('March 2019',25);

		$dashboardInsert=array(
		'type_data'=>'chart_anexture',
		'field_1'=>'Jan 2019_10',
		'field_2'=>'Feb 2019_15',
		'field_3'=>'March 2019_25',
		);
		$this->db->insert('dashboard_data_laqshya', $dashboardInsert);

	    return $returnData;
 	}
    function monthly_indicator($data) {
        $response = array();
        $val_a_text=$val_b_text=$val_c_text=$val_d_text=$val_e_text=$val_f_text=$val_g_text=$val_h_text=$val_i_text=$val_j_text=$val_k_text=$val_l_text=$val_m_text=$val_n_text=$val_o_text=$val_p_text=$val_q_text=$val_r_text=$val_s_text=$val_t_text=$val_u_text=$val_v_text=$val_w_text=$val_x_text=$val_y_text=$val_z_text=$val_za_text=0;

	  	$this->db->select('f.FacilityName');
	    $this->db->from('usermapping um');
	    $this->db->join('facilities f', 'f.FacilityID=um.FacilityID AND um.FacilityID>0 AND f.IsActive=1', 'inner');
	    $this->db->where('f.Islaqshya','1');
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    if(isset($data['search'])){
	    	foreach ($data['search'] as $key => $value) {
	    		$this->db->where($value['field'], $value['value']);
	    	}
	    }
	    $queryTot = $this->db->get();
	    $totalFacility=$queryTot->num_rows();

        $this->db->select('s.StateName,d.DistrictName,f.FacilityName,f.FacilityNumber,f.stateID,f.districtId,um.UserID,m.*,ot.BaselineNQASChecklistLR,ot.BaselineNQASChecklistOT,ot.QualityTeamFacility,ot.QualityCircleLR,ot.QualityCircleOT,ot.OrientationAttended,ot.BaselineScoreOT,ot.BaselineScoreLR');
        $this->db->from('monthly as m');
        $this->db->join('onetime as ot', 'ot.UserID= m.UserID', 'inner');
        $this->db->join('usermapping as um', 'um.UserID= m.UserID', 'inner');
        $this->db->join('facilities as f', 'f.FacilityID= um.FacilityID', 'inner');
        $this->db->join('states as s', 's.StateID=f.StateID', 'inner');
        $this->db->join('district as d', 'd.DistrictID=f.DistrictID', 'inner');
/*        if ($this->session->userdata('RoleName') == 'District') {
            $MappedDistrict = $this->session->userdata('MappedDistrict');
            if ($MappedDistrict != '') {
                $MappedDistrictArray = explode(",", $MappedDistrict);
                $this->db->where_in('f.DistrictID', $MappedDistrictArray);
            }
        }*/
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    if(isset($data['search'])){
	    	foreach ($data['search'] as $key => $value) {
	    		$this->db->where($value['field'], $value['value']);
	    	}
	    }
        $this->db->where('m.ReportMonth', $data['searchDate']);
        $this->db->order_by('m.ReportMonth', 'DESC');
        $query = $this->db->get();

        //$dataget = array();
        foreach ($query->result() as $key => $value) {
            $val_a=($value->BaselineNQASChecklistLR==1 && $value->BaselineNQASChecklistOT==1)?'YES':'No' ;            
            $val_b=($value->QualityTeamFacility==1 || $value->QualityCircleLR==1 || $value->QualityCircleOT==1)?'YES':'NO';
            $val_c=($value->OrientationAttended==1)?'YES':'NO';
            $val_d=($value->BirthCompanionNos==0)?0:formatValue(($value->BirthCompanionNos * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries)); //c38*100/c11+c12
            $val_e=($value->SafeBirthChecklist==0)?0:formatValue(($value->SafeBirthChecklist * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries)); //c39*100/c11+c12
            $val_f=($value->CSectionOTSafeChecklist==0)?0:formatValue(($value->CSectionOTSafeChecklist * 100) / $value->TotalCSections); // c40*100/c13
            $val_g=($value->RealTimePartograph==0)?0:formatValue(($value->RealTimePartograph * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries)); //c41*100/c11+c12
            $val_h=($value->BreastfedNewborns==0)?0:formatValue(($value->BreastfedNewborns * 100) / ($value->TotalAssistedVaginalDeliveries + $value->TotalNormalVaginalDeliveries + $value->TotalCSections)); // c42*100/(c13+c12+c11)
            $val_i=($value->NewbornsSNCUAsphyxia==0)?0:formatValue(($value->NewbornsSNCUAsphyxia * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries + $value->TotalCSections)); //c47*100/(c11+c12+13)
            $val_j=($value->NewbornsSNCUSepsis==0)?0:formatValue(($value->NewbornsSNCUSepsis * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries + $value->TotalCSections)); //c48*100/(c11+c12+13)
            $val_k=($value->CSectionsInfection==0)?0:formatValue(($value->CSectionsInfection * 100) / ($value->TotalCSections)); // c45*100/c13
            $val_l=($value->PretermANCSInFacilitiesSNCU==0)?0:formatValue(($value->PretermANCSInFacilitiesSNCU * 100) / ($value->TotalPretermDeliveries)); //c46*100/c35
            $val_m=($value->MaternalPIHEclampsia==0)?0:formatValue(($value->MaternalPIHEclampsia * 100) / ($value->TotalMaternalDeaths)); // c20*100/c14
            $val_n=($value->MaternalAPH + $value->MaternalPPH==0)?0:formatValue((($value->MaternalAPH + $value->MaternalPPH) * 100) / ($value->TotalMaternalDeaths)); // (c16+c17)*100/c14
            $val_o=($value->ReorganizedLR==1)?'YES':'NO'; // c52
            $val_p=($value->AdequateStaffLR==1)?'YES':'NO'; //c53
            $val_q=($value->OxytocinCount==0)?0:formatValue(($value->OxytocinCount * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries)); //c54*100/(c11+c12)
            $val_r=''; //current osce score (remove) from form
            $val_s=$value->ReferralCases; //c58
            $val_t=$value->MaternalDeathsReviewed + $value->NeonatalDeaths + $value->MaternalMissCases; //c55+c56+c57
            $val_u=($value->StockOutsInOT==1)?'YES':'NO'; //c60
            $val_v=($value->TotalFreshStillBirths + $value->TotalMaceratedStillBirths==0)?0:formatValue((($value->TotalFreshStillBirths + $value->TotalMaceratedStillBirths) * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries + $value->TotalCSections)); //(c25+c26)*100/(c11+c12+c13)
            $val_w=($value->SatisfiedDelivered==0)?0:formatValue(($value->SatisfiedDelivered * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries + $value->TotalCSections)); //(c51)*100/(c11+c12+c13);
            $val_x=($value->MCHDHFunctional==1)?'YES':'NO'; //c62
            $val_y=($value->MCBSamplingLR==1 && $value->MCBSamplingOT==1)?'YES':'NO'; //c43+c44;
            $val_z=(($value->CurrentLabourRoomQualityScore-$value->BaselineScoreLR*100)>0 && !empty($value->BaselineScoreLR))?formatValue(($value->CurrentLabourRoomQualityScore-$value->BaselineScoreLR*100)/$value->BaselineScoreLR):0; //(c66-c72)*100/c72;
            $val_za=(($value->CurrentMaternityOTQualityScore-$value->BaselineScoreOT*100)>0 && !empty($value->BaselineScoreOT))?formatValue(($value->CurrentMaternityOTQualityScore-$value->BaselineScoreOT*100)/$value->BaselineScoreOT):0;  //c67-c75*100/c75;

	        if($val_a=='YES'){  $val_a_text++; }
	        if($val_b=='YES'){  $val_b_text++; }
	        if($val_b=='YES'){  $val_c_text++; }
	        if($val_d>=90){  $val_d_text++; }
	        if($val_e>=90){  $val_e_text++; }
	        if($val_f>=90){  $val_f_text++; }
	        if($val_g>=90){  $val_g_text++; }
	        if($val_h>=80){  $val_h_text++; }
	        if($val_i>=80){  $val_i_text++; }
	        if($val_j>=80){  $val_j_text++; }
	        if($val_k<=5){  $val_j_text++; }
	        if($val_l>=80){  $val_l_text++; }
	        if($val_m==0){  $val_m_text++; }
	        if($val_n==0){  $val_n_text++; }
	        if($val_o=='YES'){  $val_o_text++; }
	        if($val_p=='YES'){  $val_p_text++; }
	        if($val_q>=100){  $val_q_text++; }
	        if($val_r>=80){  $val_r_text++; }
	        if($val_s>=0){  $val_s_text++; }
	        if($val_t>=0){  $val_t_text++; }
	        if($val_u=='YES'){  $val_u_text++; }
	        if($val_v>=0){  $val_v_text++; }
	        if($val_w>=0){  $val_w_text++; }
	        if($val_x=='YES'){  $val_x_text++; }
	        if($val_y=='YES'){  $val_y_text++; }
	        if($val_z>=0){  $val_z_text++; }
	        if($val_za>=0){  $val_za_text++; }

            //$dataget[] = $subdata;
        }
        /*$response = array(
	      array("Indicator ", "Percent", array("role"=>"style") ),
	      array("Facility has assessed Labour Room and OT using NQAS checklist and reported Baseline Quality Scores",round((float)((($val_a_text/$totalFacility))*100), 2), ""),
	      array("Facility has set Quality Team at facility level and Quality Circles in Labour Room & Maternity Ots", round((float)((($val_b_text/$totalFacility))*100), 2), " "),
	      array("Facility has oriented the Labour room and Maternity OT staff on LR protocols, RMC & QI", round((float)((($val_c_text/$totalFacility))*100), 2), " "),
	      array("Percentage of deliveries are attended by a birth companion", round((float)((($val_d_text/$totalFacility))*100), 2), " "),
	      array("Percentage deliveries are conducted using safe birth checklist in Labour Room", round((float)((($val_e_text/$totalFacility))*100), 2), " "),
	      array("Percentage of deliveries are conducted using  Safe Surgery checklist in Maternity OT", round((float)((($val_f_text/$totalFacility))*100), 2), " "),
	      array("Percentage of deliveries for which Partograph is generated using real-time information in at least", round((float)((($val_g_text/$totalFacility))*100), 2), " "),
	      array("Percentage breastfeeding within 1 hour", round((float)((($val_h_text/$totalFacility))*100), 2), " "),
	      array("Neonatal asphyxia rate in Inborn Babies", round((float)((($val_i_text/$totalFacility))*100), 2), " "),
	      array("Neonatal sepsis rate in-born babies", round((float)((($val_j_text/$totalFacility))*100), 2), " "),
	      array("Surgical Site infection Rate in Maternity OT", round((float)((($val_k_text/$totalFacility))*100), 2), " "),
	      array("Antenatal corticosteroid administration rate in case in preterm labour", round((float)((($val_l_text/$totalFacility))*100), 2), " "),
	      array("Pre-eclampsia, eclampsia & PIH related mortality", round((float)((($val_m_text/$totalFacility))*100), 2), " "),
	      array("APH/PPH related mortality", round((float)((($val_n_text/$totalFacility))*100), 2), " "),
	      array("Facility Labour Room is reorganized as labour room standardization guidelines", round((float)((($val_o_text/$totalFacility))*100), 2), ""),
	      array("Facility Labour room has staffing as per defined norms", round((float)((($val_p_text/$totalFacility))*100), 2), ""),
	      array("Percentage of Women, administered Oxytocin, immediately after birth", round((float)((($val_q_text/$totalFacility))*100), 2), ""),
	      array("OSCE Score", round((float)((($val_r_text/$totalFacility))*100), 2), ""),
	      array("Facility conducts referral audit on Monthly basis", round((float)((($val_s_text/$totalFacility))*100), 2), ""),
	      array("Facility conducts Maternal death, Neonatal death and near-miss on monthly basis", round((float)((($val_t_text/$totalFacility))*100), 2), ""),
	      array("Facility report zero stock outs in Labour Room & Maternity OT", round((float)((($val_u_text/$totalFacility))*100), 2), ""),	      
	      array("Still Birth Rate", round((float)((($val_v_text/$totalFacility))*100), 2), ""),
	      array("Percentage of beneficiaries  who were either satisfied or highly satisfied", round((float)((($val_w_text/$totalFacility))*100), 2), ""),
	      array("functional Obs ICU/Hybrid ICU/HDU?", round((float)((($val_x_text/$totalFacility))*100), 2), ""),
	      array("Microbiological Surveillance in OT & LR", round((float)((($val_y_text/$totalFacility))*100), 2), ""),	      
	      array("Labour Room Quality Score Improvement from Baseline", round((float)((($val_z_text/$totalFacility))*100), 2), ""),
	      array("Maternity OT Quality Score Improvement from Baseline", round((float)((($val_za_text/$totalFacility))*100), 2), ""),
	      array("Score", 100, "")
        );*/
        $data_a=round((float)((($val_a_text/$totalFacility))*100), 2); if($data_a>75){  $data_a_class='success'; } else if($data_a>=50 && $data_a<=75){ $data_a_class='inprocess'; } else { $data_a_class='faild'; }

        $data_b=round((float)((($val_b_text/$totalFacility))*100), 2); if($data_b>75){  $data_b_class='success'; } else if($data_b>=50 && $data_b<=75){ $data_b_class='inprocess'; } else { $data_b_class='faild'; }

        $data_c=round((float)((($val_c_text/$totalFacility))*100), 2); if($data_c>75){  $data_c_class='success'; } else if($data_c>=50 && $data_c<=75){ $data_c_class='inprocess'; } else { $data_c_class='faild'; }

        $data_d=round((float)((($val_d_text/$totalFacility))*100), 2); if($data_d>75){  $data_d_class='success'; } else if($data_d>=50 && $data_d<=75){ $data_d_class='inprocess'; } else { $data_d_class='faild'; }

        $data_e=round((float)((($val_e_text/$totalFacility))*100), 2); if($data_e>75){  $data_e_class='success'; } else if($data_e>=50 && $data_e<=75){ $data_e_class='inprocess'; } else { $data_e_class='faild'; }

        $data_f=round((float)((($val_f_text/$totalFacility))*100), 2); if($data_f>75){  $data_f_class='success'; } else if($data_f>=50 && $data_f<=75){ $data_f_class='inprocess'; } else { $data_f_class='faild'; }

        $data_g=round((float)((($val_g_text/$totalFacility))*100), 2); if($data_g>75){  $data_g_class='success'; } else if($data_g>=50 && $data_g<=75){ $data_g_class='inprocess'; } else { $data_g_class='faild'; }

        $data_h=round((float)((($val_h_text/$totalFacility))*100), 2); if($data_h>75){  $data_h_class='success'; } else if($data_h>=50 && $data_h<=75){ $data_h_class='inprocess'; } else { $data_h_class='faild'; }

        $data_i=round((float)((($val_i_text/$totalFacility))*100), 2); if($data_i>75){  $data_i_class='success'; } else if($data_i>=50 && $data_i<=75){ $data_i_class='inprocess'; } else { $data_i_class='faild'; }

        $data_j=round((float)((($val_j_text/$totalFacility))*100), 2); if($data_j>75){  $data_j_class='success'; } else if($data_j>=50 && $data_j<=75){ $data_j_class='inprocess'; } else { $data_j_class='faild'; }

        $data_k=round((float)((($val_k_text/$totalFacility))*100), 2); if($data_k>75){  $data_k_class='success'; } else if($data_k>=50 && $data_k<=75){ $data_k_class='inprocess'; } else { $data_k_class='faild'; }

        $data_l=round((float)((($val_l_text/$totalFacility))*100), 2); if($data_l>75){  $data_l_class='success'; } else if($data_l>=50 && $data_l<=75){ $data_l_class='inprocess'; } else { $data_l_class='faild'; }

        $data_m=round((float)((($val_m_text/$totalFacility))*100), 2); if($data_m>75){  $data_m_class='success'; } else if($data_m>=50 && $data_m<=75){ $data_m_class='inprocess'; } else { $data_m_class='faild'; }

        $data_n=round((float)((($val_n_text/$totalFacility))*100), 2); if($data_n>75){  $data_n_class='success'; } else if($data_n>=50 && $data_n<=75){ $data_n_class='inprocess'; } else { $data_n_class='faild'; }

        $data_o=round((float)((($val_o_text/$totalFacility))*100), 2); if($data_o>75){  $data_o_class='success'; } else if($data_o>=50 && $data_o<=75){ $data_o_class='inprocess'; } else { $data_o_class='faild'; }

        $data_p=round((float)((($val_p_text/$totalFacility))*100), 2); if($data_p>75){  $data_p_class='success'; } else if($data_p>=50 && $data_p<=75){ $data_p_class='inprocess'; } else { $data_p_class='faild'; }

        $data_q=round((float)((($val_q_text/$totalFacility))*100), 2); if($data_q>75){  $data_q_class='success'; } else if($data_q>=50 && $data_q<=75){ $data_q_class='inprocess'; } else { $data_q_class='faild'; }

        $data_r=round((float)((($val_r_text/$totalFacility))*100), 2); if($data_r>75){  $data_r_class='success'; } else if($data_r>=50 && $data_r<=75){ $data_r_class='inprocess'; } else { $data_r_class='faild'; }

        $data_s=round((float)((($val_s_text/$totalFacility))*100), 2); if($data_s>75){  $data_s_class='success'; } else if($data_s>=50 && $data_s<=75){ $data_s_class='inprocess'; } else { $data_s_class='faild'; }

        $data_t=round((float)((($val_t_text/$totalFacility))*100), 2); if($data_t>75){  $data_t_class='success'; } else if($data_t>=50 && $data_t<=75){ $data_t_class='inprocess'; } else { $data_t_class='faild'; }

        $data_u=round((float)((($val_u_text/$totalFacility))*100), 2); if($data_u>75){  $data_u_class='success'; } else if($data_u>=50 && $data_u<=75){ $data_u_class='inprocess'; } else { $data_u_class='faild'; }

        $data_v=round((float)((($val_v_text/$totalFacility))*100), 2); if($data_v>75){  $data_v_class='success'; } else if($data_v>=50 && $data_v<=75){ $data_v_class='inprocess'; } else { $data_v_class='faild'; }

        $data_w=round((float)((($val_w_text/$totalFacility))*100), 2); if($data_w>75){  $data_w_class='success'; } else if($data_w>=50 && $data_w<=75){ $data_w_class='inprocess'; } else { $data_w_class='faild'; }

        $data_x=round((float)((($val_x_text/$totalFacility))*100), 2); if($data_x>75){  $data_x_class='success'; } else if($data_x>=50 && $data_x<=75){ $data_x_class='inprocess'; } else { $data_x_class='faild'; }

        $data_y=round((float)((($val_y_text/$totalFacility))*100), 2); if($data_y>75){  $data_y_class='success'; } else if($data_y>=50 && $data_y<=75){ $data_y_class='inprocess'; } else { $data_y_class='faild'; }

        $data_z=round((float)((($val_z_text/$totalFacility))*100), 2); if($data_z>75){  $data_z_class='success'; } else if($data_z>=50 && $data_z<=75){ $data_z_class='inprocess'; } else { $data_z_class='faild'; }

        $data_za=round((float)((($val_za_text/$totalFacility))*100), 2); if($data_za>75){  $data_za_class='success'; } else if($data_za>=50 && $data_za<=75){ $data_za_class='inprocess'; } else { $data_za_class='faild'; }

        
        $responseData= array();
          $responseData[]=array("id"=>"val_a","val"=>$data_a,"class"=>$data_a_class);
          $responseData[]=array("id"=>"val_b","val"=>$data_b,"class"=>$data_b_class);
          $responseData[]=array("id"=>"val_c","val"=>$data_c,"class"=>$data_c_class);
          $responseData[]=array("id"=>"val_d","val"=>$data_d,"class"=>$data_d_class);
          $responseData[]=array("id"=>"val_e","val"=>$data_e,"class"=>$data_e_class);
          $responseData[]=array("id"=>"val_f","val"=>$data_f,"class"=>$data_f_class);
          $responseData[]=array("id"=>"val_g","val"=>$data_g,"class"=>$data_g_class);
          $responseData[]=array("id"=>"val_h","val"=>$data_h,"class"=>$data_h_class);
          $responseData[]=array("id"=>"val_i","val"=>$data_i,"class"=>$data_i_class);
          $responseData[]=array("id"=>"val_j","val"=>$data_j,"class"=>$data_j_class);
          $responseData[]=array("id"=>"val_k","val"=>$data_k,"class"=>$data_k_class);
          $responseData[]=array("id"=>"val_l","val"=>$data_l,"class"=>$data_l_class);
          $responseData[]=array("id"=>"val_m","val"=>$data_m,"class"=>$data_m_class);
          $responseData[]=array("id"=>"val_n","val"=>$data_n,"class"=>$data_n_class);
          $responseData[]=array("id"=>"val_o","val"=>$data_o,"class"=>$data_o_class);
          $responseData[]=array("id"=>"val_p","val"=>$data_p,"class"=>$data_p_class);
          $responseData[]=array("id"=>"val_q","val"=>$data_q,"class"=>$data_q_class);
          $responseData[]=array("id"=>"val_r","val"=>$data_r,"class"=>$data_r_class);
          $responseData[]=array("id"=>"val_s","val"=>$data_s,"class"=>$data_s_class);
          $responseData[]=array("id"=>"val_t","val"=>$data_t,"class"=>$data_t_class);
          $responseData[]=array("id"=>"val_u","val"=>$data_u,"class"=>$data_u_class);
          $responseData[]=array("id"=>"val_v","val"=>$data_v,"class"=>$data_v_class);
          $responseData[]=array("id"=>"val_w","val"=>$data_w,"class"=>$data_w_class);
          $responseData[]=array("id"=>"val_x","val"=>$data_x,"class"=>$data_x_class);
          $responseData[]=array("id"=>"val_y","val"=>$data_y,"class"=>$data_y_class);   
          $responseData[]=array("id"=>"val_z","val"=>$data_z,"class"=>$data_z_class);
          $responseData[]=array("id"=>"val_za","val"=>$data_za,"class"=>$data_za_class);
        
          $response['data']=$responseData;

      $dashboardInsert=array(
        'type_data'=>'indicator_sts',
        'field_1'=>$data_a.'_'.$data_a_class,
        'field_2'=>$data_b.'_'.$data_b_class,
        'field_3'=>$data_c.'_'.$data_c_class,
        'field_4'=>$data_d.'_'.$data_d_class,
        'field_5'=>$data_e.'_'.$data_e_class,
        'field_6'=>$data_f.'_'.$data_f_class,
        'field_7'=>$data_g.'_'.$data_g_class,
        'field_8'=>$data_h.'_'.$data_h_class,
        'field_9'=>$data_i.'_'.$data_i_class,
        'field_10'=>$data_j.'_'.$data_j_class,
        'field_11'=>$data_k.'_'.$data_k_class,
        'field_12'=>$data_l.'_'.$data_l_class,
        'field_13'=>$data_m.'_'.$data_m_class,
        'field_14'=>$data_n.'_'.$data_n_class,
        'field_15'=>$data_o.'_'.$data_o_class,
        'field_16'=>$data_p.'_'.$data_p_class,
        'field_17'=>$data_q.'_'.$data_q_class,
        'field_18'=>$data_r.'_'.$data_r_class,
        'field_19'=>$data_s.'_'.$data_s_class,
        'field_20'=>$data_t.'_'.$data_t_class,
        'field_21'=>$data_u.'_'.$data_u_class,
        'field_22'=>$data_v.'_'.$data_v_class,
        'field_23'=>$data_w.'_'.$data_w_class,
        'field_24'=>$data_x.'_'.$data_x_class,
        'field_25'=>$data_y.'_'.$data_y_class,
        'field_26'=>$data_z.'_'.$data_z_class,
        'field_27'=>$data_za.'_'.$data_za_class,
      );
      //$this->db->insert('dashboard_data_laqshya', $dashboardInsert);

        //echo "<pre>"; print_r($response); echo "</pre>";
        return $response;
    }
    function faclity_monthly_indicator($data){
    	$val_a=$val_b=$val_c=$val_d=$val_e=$val_f=$val_g=$val_h=$val_i=$val_j=$val_k=$val_l=$val_m=$val_n=$val_o=$val_p=$val_q=$val_r=$val_s=$val_t=$val_u=$val_v=$val_w=$val_x=$val_y=$val_z=$val_za='-';

        $this->db->select('s.StateName,d.DistrictName,f.FacilityName,f.FacilityNumber,f.stateID,f.districtId,um.UserID,m.*,ot.BaselineNQASChecklistLR,ot.BaselineNQASChecklistOT,ot.QualityTeamFacility,ot.QualityCircleLR,ot.QualityCircleOT,ot.OrientationAttended,ot.BaselineScoreOT,ot.BaselineScoreLR');
        $this->db->from('monthly as m');
        $this->db->join('onetime as ot', 'ot.UserID= m.UserID', 'inner');
        $this->db->join('usermapping as um', 'um.UserID= m.UserID', 'inner');
        $this->db->join('facilities as f', 'f.FacilityID= um.FacilityID', 'inner');
        $this->db->join('states as s', 's.StateID=f.StateID', 'inner');
        $this->db->join('district as d', 'd.DistrictID=f.DistrictID', 'inner');
        if ($this->session->userdata('RoleName') == 'District') {
            $MappedDistrict = $this->session->userdata('MappedDistrict');
            if ($MappedDistrict != '') {
                $MappedDistrictArray = explode(",", $MappedDistrict);
                $this->db->where_in('f.DistrictID', $MappedDistrictArray);
            }
        }
	    if(!empty($data['cond'])){
	    	$this->db->where_in($data['cond']['mappedField'],$data['cond']['mappedData']);
	    }
	    if(isset($data['search'])){
	    	foreach ($data['search'] as $key => $value) {
	    		$this->db->where($value['field'], $value['value']);
	    	}
	    }
        $this->db->where('m.ReportMonth', $data['searchDate']);
        $this->db->order_by('m.ReportMonth', 'DESC');
        $query = $this->db->get();
        $subdata = array();
        foreach ($query->result() as $key => $value) {
            $val_a=($value->BaselineNQASChecklistLR==1 && $value->BaselineNQASChecklistOT==1)?'YES':'No' ;            
            $val_b=($value->QualityTeamFacility==1 || $value->QualityCircleLR==1 || $value->QualityCircleOT==1)?'YES':'NO';
            $val_c=($value->OrientationAttended==1)?'YES':'NO';
            $val_d=($value->BirthCompanionNos==0)?0:formatValue(($value->BirthCompanionNos * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries)); //c38*100/c11+c12
            $val_e=($value->SafeBirthChecklist==0)?0:formatValue(($value->SafeBirthChecklist * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries)); //c39*100/c11+c12
            $val_f=($value->CSectionOTSafeChecklist==0)?0:formatValue(($value->CSectionOTSafeChecklist * 100) / $value->TotalCSections); // c40*100/c13
            $val_g=($value->RealTimePartograph==0)?0:formatValue(($value->RealTimePartograph * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries)); //c41*100/c11+c12
            $val_h=($value->BreastfedNewborns==0)?0:formatValue(($value->BreastfedNewborns * 100) / ($value->TotalAssistedVaginalDeliveries + $value->TotalNormalVaginalDeliveries + $value->TotalCSections)); // c42*100/(c13+c12+c11)
            $val_i=($value->NewbornsSNCUAsphyxia==0)?0:formatValue(($value->NewbornsSNCUAsphyxia * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries + $value->TotalCSections)); //c47*100/(c11+c12+13)
            $val_j=($value->NewbornsSNCUSepsis==0)?0:formatValue(($value->NewbornsSNCUSepsis * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries + $value->TotalCSections)); //c48*100/(c11+c12+13)
            $val_k=($value->CSectionsInfection==0)?0:formatValue(($value->CSectionsInfection * 100) / ($value->TotalCSections)); // c45*100/c13
            $val_l=($value->PretermANCSInFacilitiesSNCU==0)?0:formatValue(($value->PretermANCSInFacilitiesSNCU * 100) / ($value->TotalPretermDeliveries)); //c46*100/c35
            $val_m=($value->MaternalPIHEclampsia==0)?0:formatValue(($value->MaternalPIHEclampsia * 100) / ($value->TotalMaternalDeaths)); // c20*100/c14
            $val_n=($value->MaternalAPH + $value->MaternalPPH==0)?0:formatValue((($value->MaternalAPH + $value->MaternalPPH) * 100) / ($value->TotalMaternalDeaths)); // (c16+c17)*100/c14
            $val_o=($value->ReorganizedLR==1)?'YES':'NO'; // c52
            $val_p=($value->AdequateStaffLR==1)?'YES':'NO'; //c53
            $val_q=($value->OxytocinCount==0)?0:formatValue(($value->OxytocinCount * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries)); //c54*100/(c11+c12)
            $val_r=''; //current osce score (remove) from form
            $val_s=$value->ReferralCases; //c58
            $val_t=$value->MaternalDeathsReviewed + $value->NeonatalDeaths + $value->MaternalMissCases; //c55+c56+c57
            $val_u=($value->StockOutsInOT==1)?'YES':'NO'; //c60
            $val_v=($value->TotalFreshStillBirths + $value->TotalMaceratedStillBirths==0)?0:formatValue((($value->TotalFreshStillBirths + $value->TotalMaceratedStillBirths) * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries + $value->TotalCSections)); //(c25+c26)*100/(c11+c12+c13)
            $val_w=($value->SatisfiedDelivered==0)?0:formatValue(($value->SatisfiedDelivered * 100) / ($value->TotalNormalVaginalDeliveries + $value->TotalAssistedVaginalDeliveries + $value->TotalCSections)); //(c51)*100/(c11+c12+c13);
            $val_x=($value->MCHDHFunctional==1)?'YES':'NO'; //c62
            $val_y=($value->MCBSamplingLR==1 && $value->MCBSamplingOT==1)?'YES':'NO'; //c43+c44;
            $val_z=(($value->BaselineScoreLR)>0)?formatValue(($value->CurrentLabourRoomQualityScore-$value->BaselineScoreLR*100)/$value->BaselineScoreLR):0; //(c66-c72)*100/c72;
            $val_za=(($value->BaselineScoreOT)>0)?formatValue(($value->CurrentMaternityOTQualityScore-$value->BaselineScoreOT*100)/$value->BaselineScoreOT):0;  //c67-c75*100/c75;
            //$dataget[] = $subdata;
        }
        $val_a_text=$val_a=='YES'?'<span class="success">'.$val_a.'</span>':'<span class="faild">'.$val_a.'</span>';
        $val_b_text=$val_b=='YES'?'<span class="success">'.$val_b.'</span>':'<span class="faild">'.$val_b.'</span>';
        $val_c_text=$val_c=='YES'?'<span class="success">'.$val_c.'</span>':'<span class="faild">'.$val_c.'</span>';
        if(($val_d>0 && $val_d<50) || empty($val_d)){
        	$val_d_text='<span class="faild">'.$val_d.'%</span>';
        } else if($val_d>=50 && $val_d<90){
        	$val_d_text='<span class="inprocess">'.$val_d.'%</span>';
        } else if($val_d=='-' || empty($val_d)){
        	$val_d_text='<span class="faild">-</span>';
        } else {
        	$val_d_text='<span class="success">'.$val_d.'%</span>';
        }
        if(($val_e>0 && $val_e<50) || empty($val_d)){
        	$val_e_text='<span class="faild">'.$val_e.'%</span>';
        } else if($val_e>=50 && $val_e<90){
        	$val_e_text='<span class="inprocess">'.$val_e.'%</span>';
        } else if($val_e=='-' || empty($val_e)){
        	$val_e_text='<span class="faild">-</span>';
        } else {
        	$val_e_text='<span class="success">'.$val_e.'%</span>';
        }
        if(($val_f>0 && $val_f<50) || empty($val_d)){
        	$val_f_text='<span class="faild">'.$val_f.'%</span>';
        } else if($val_f>=50 && $val_f<90){
        	$val_f_text='<span class="inprocess">'.$val_f.'%</span>';
        } else if($val_f=='-' || empty($val_f)){
        	$val_f_text='<span class="faild">-</span>';
        } else {
        	$val_f_text='<span class="success">'.$val_f.'%</span>';
        }
        if(($val_g>0 && $val_g<50) || empty($val_d)){
        	$val_g_text='<span class="faild">'.$val_g.'%</span>';
        } else if($val_g>=50 && $val_g<90){
        	$val_g_text='<span class="inprocess">'.$val_g.'%</span>';
        } else if($val_g=='-' || empty($val_g)){
        	$val_g_text='<span class="faild">-</span>';
        } else {
        	$val_g_text='<span class="success">'.$val_g.'%</span>';
        }
        if(($val_h>0 && $val_h<50) || empty($val_d)){
        	$val_h_text='<span class="faild">'.$val_h.'%</span>';
        } else if($val_h>=50 && $val_h<80){
        	$val_h_text='<span class="inprocess">'.$val_h.'%</span>';
        } else if($val_h=='-' || empty($val_h)){
        	$val_h_text='<span class="faild">-</span>';
        } else {
        	$val_h_text='<span class="success">'.$val_h.'%</span>';
        }
        if(($val_i>0 && $val_i<50) || empty($val_d)){
        	$val_i_text='<span class="faild">'.$val_i.'%</span>';
        } else if($val_i>=50 && $val_i<80){
        	$val_i_text='<span class="inprocess">'.$val_i.'%</span>';
        } else if($val_i=='-' || empty($val_i)){
        	$val_i_text='<span class="faild">-</span>';
        } else {
        	$val_i_text='<span class="success">'.$val_i.'%</span>';
        }
        if(($val_j>0 && $val_j<50) || empty($val_d)){
        	$val_j_text='<span class="faild">'.$val_j.'%</span>';
        } else if($val_j>=50 && $val_j<80){
        	$val_j_text='<span class="inprocess">'.$val_j.'%</span>';
        } else if($val_j=='-' || empty($val_j)){
        	$val_j_text='<span class="faild">-</span>';
        } else {
        	$val_j_text='<span class="success">'.$val_j.'%</span>';
        }
        if(($val_k>5) || empty($val_d)){
        	$val_k_text='<span class="faild">'.$val_k.'%</span>';
        } else if($val_k>0 && $val_k<5){
        	$val_k_text='<span class="inprocess">'.$val_k.'%</span>';
        } else if($val_k=='-' || empty($val_k)){
        	$val_k_text='<span class="faild">-</span>';
        } else {
        	$val_k_text='<span class="success">'.$val_k.'%</span>';
        }
        if(($val_l>0 && $val_l<50) || empty($val_d)){
        	$val_l_text='<span class="faild">'.$val_l.'%</span>';
        } else if($val_l>=50 && $val_l<80){
        	$val_l_text='<span class="inprocess">'.$val_l.'%</span>';
        } else if($val_l=='-' || empty($val_l)){
        	$val_l_text='<span class="faild">-</span>';
        } else {
        	$val_l_text='<span class="success">'.$val_l.'%</span>';
        }
        $val_m_text=($val_m==0 && $val_m!='-')?'<span class="success">'.$val_m.'</span>':'<span class="faild">'.$val_m.'</span>';
        $val_n_text=($val_n==0 && $val_n!='-')?'<span class="success">'.$val_n.'</span>':'<span class="faild">'.$val_n.'</span>';
        $val_o_text=$val_o=='YES'?'<span class="success">'.$val_o.'</span>':'<span class="faild">'.$val_o.'</span>';
        $val_p_text=$val_p=='YES'?'<span class="success">'.$val_p.'</span>':'<span class="faild">'.$val_p.'</span>';
        if(($val_q>0 && $val_q<50) || empty($val_d)){
        	$val_q_text='<span class="faild">'.$val_q.'%</span>';
        } else if($val_q>=50 && $val_q<100){
        	$val_q_text='<span class="inprocess">'.$val_q.'%</span>';
        } else if($val_q=='-' || empty($val_q)){
        	$val_q_text='<span class="faild">-</span>';
        } else {
        	$val_q_text='<span class="success">'.$val_q.'%</span>';
        }
        if(($val_r>0 && $val_r<50) || empty($val_d)){
        	$val_r_text='<span class="faild">'.$val_r.'%</span>';
        } else if($val_r>=50 && $val_r<80){
        	$val_r_text='<span class="inprocess">'.$val_r.'%</span>';
        } else if($val_r=='-' || empty($val_r)){
        	$val_r_text='<span class="faild">-</span>';
        } else {
        	$val_r_text='<span class="success">'.$val_r.'%</span>';
        }
        $val_s_text=$val_s>0?'<span class="success">'.$val_s.'</span>':'<span class="faild">'.$val_s.'</span>';
        $val_t_text=$val_t>0?'<span class="success">'.$val_t.'</span>':'<span class="faild">'.$val_t.'</span>';
        $val_u_text=$val_u=='YES'?'<span class="success">'.$val_u.'</span>':'<span class="faild">'.$val_u.'</span>';
        $val_v_text=$val_v>0?'<span class="success">'.$val_v.'</span>':'<span class="faild">'.$val_v.'</span>';
        $val_w_text=$val_w>0?'<span class="success">'.$val_w.'</span>':'<span class="faild">'.$val_w.'</span>';
        $val_x_text=$val_x=='YES'?'<span class="success">'.$val_x.'</span>':'<span class="faild">'.$val_x.'</span>';
        $val_y_text=$val_y=='YES'?'<span class="success">'.$val_y.'</span>':'<span class="faild">'.$val_y.'</span>';
        $val_z_text=$val_z>0?'<span class="success">'.$val_z.'</span>':'<span class="faild">'.$val_z.'</span>';
        $val_za_text=$val_za>0?'<span class="success">'.$val_za.'</span>':'<span class="faild">'.$val_za.'</span>';

        $subdata['a'] = $val_a_text;
        $subdata['b'] = $val_b_text;
        $subdata['c'] = $val_c_text;
        $subdata['d'] = $val_d_text;
        $subdata['e'] = $val_e_text;
        $subdata['f'] = $val_f_text;
        $subdata['g'] = $val_g_text;
        $subdata['h'] = $val_h_text;
        $subdata['i'] = $val_i_text;
        $subdata['j'] = $val_j_text;
        $subdata['k'] = $val_k_text;
        $subdata['l'] = $val_l_text;
        $subdata['m'] = $val_m_text;
        $subdata['n'] = $val_n_text;
        $subdata['o'] = $val_o_text;
        $subdata['p'] = $val_p_text;
        $subdata['q'] = $val_q_text;
        $subdata['r'] = $val_r_text;
        $subdata['s'] = $val_s_text;
        $subdata['t'] = $val_t_text;
        $subdata['u'] = $val_u_text;
        $subdata['v'] = $val_v_text;
        $subdata['w'] = $val_w_text;
        $subdata['x'] = $val_x_text;
        $subdata['y'] = $val_y_text;
        $subdata['z'] = $val_z_text;
        $subdata['za'] = $val_za_text;

        return $subdata;

    }
    function notificationCount(){
		$this->db->select('certificationLogsID');
		$this->db->from('certification_logs');
		switch ($this->session->userdata('RoleName')) {
			case 'Facility':
				$this->db->where('facility','1');
				break;
			case 'District':
				$this->db->where('district','1');
				break;
			case 'State':
				$this->db->where('state','1');
				break;
			case 'Ministry':
				$this->db->where('ministry','1');
				break;
			default:
				break;
		}
		$query = $this->db->get();
    	return $query->num_rows();
    }
    function getNotification($searchData){
		$col =array(
		    0   =>  'CreatedOn',
		    1   =>  'StateName',
		    2   =>  'DistrictName',
		    3   =>  'FacilityName'
		);
		$this->db->select('certification_logs.*,users.UserName');
		$this->db->from('certification_logs');
		$this->db->join('users', 'users.UserID = certification_logs.UserID', 'inner');
	    $this->db->order_by($col[$searchData['order'][0]['column']], $searchData['order'][0]['dir']);
	    $queryTot = $this->db->get();

		$this->db->select('certification_logs.*,users.FirstName as UserName');
		$this->db->from('certification_logs');
		$this->db->join('users', 'users.UserID = certification_logs.UserID', 'inner');
	    $this->db->order_by($col[$searchData['order'][0]['column']], $searchData['order'][0]['dir']);
	    $this->db->limit($searchData['length'],$searchData['start']);
	    $query = $this->db->get();

	    $dataget=array();
	    $cnt=$searchData['start'];
		foreach ($query->result_array() as $key => $value) {
			if(in_array($searchData['RoleName'], array('Ministry','State'))){
				$link=base_url().'certification/approvalview/'.encryptor($value['CertificationID']);
			} else {
				$link=base_url().'certification/certificationview/'.encryptor($value['CertificationID']);
			}
			$subdata=array();
			$subdata[]=++$cnt;
			$subdata[]=$value['CreatedOn'];
			$subdata[]=$value['msg'];
			$subdata[]='<a class="btn btn-info" href="'.$link.'">View</a>';
			$subdata[]=$value['UserName'];
			$dataget[]=$subdata;
		}
		$data['data']=$dataget;
		$data['totalData']=$queryTot -> num_rows();
		$data['totalFilter']=$queryTot -> num_rows();

		$dataUpdate=array();
		switch ($this->session->userdata('RoleName')) {
			case 'Facility':
				$dataUpdate['facility']='0';
				break;
			case 'District':
				$dataUpdate['district']='0';
				$this->db->where('district','1');
				break;
			case 'State':
				$dataUpdate['state']='0';
				break;
			case 'Ministry':
				$dataUpdate['ministry']='0';
				break;
			default:
				break;
		}
		if(!empty($dataUpdate)){
			$this->db->update('certification_logs', $dataUpdate);
		}

		return $data;
    }
    function assessment_list_data($searchData){
		$col =array(
		    0   =>  'assessment_cronlog.CreatedOn',
		    1   =>  'states.StateName',
		    2   =>  'district.DistrictName',
		    3   =>  'facilities.FacilityName'
		);
		$this->db->select('assessment_cronlog.id');
		$this->db->from('assessment_cronlog');
		$this->db->join('facilities', 'facilities.FacilityNumber = assessment_cronlog.FacilityNumber', 'left');
		$this->db->join('states', 'facilities.StateID = states.StateID', 'left');
		$this->db->join('district', 'facilities.DistrictID = district.DistrictID', 'left');
	    $this->db->order_by($col[$searchData['order'][0]['column']], $searchData['order'][0]['dir']);
	    $queryTot = $this->db->get();

		$this->db->select('assessment_cronlog.*,states.StateName,district.DistrictName,facilities.FacilityName');
		$this->db->from('assessment_cronlog');
		$this->db->join('facilities', 'facilities.FacilityNumber = assessment_cronlog.FacilityNumber', 'left');
		$this->db->join('states', 'facilities.StateID = states.StateID', 'left');
		$this->db->join('district', 'facilities.DistrictID = district.DistrictID', 'left');
	    $this->db->order_by($col[$searchData['order'][0]['column']], $searchData['order'][0]['dir']);
	    if($searchData['length']>0){
	    	$this->db->limit($searchData['length'],$searchData['start']);
		}
	    $query = $this->db->get();

	    $dataget=array();
	    $cnt=$searchData['start'];
		foreach ($query->result_array() as $key => $value) {
			$subdata=array();
			$subdata[]=++$cnt;
			$subdata[]=$value['StateName'];
			$subdata[]=$value['DistrictName'];
			$subdata[]=$value['FacilityName'];
			$subdata[]=$value['FacilityNumber'];
			$subdata[]=$value['filename'];
			$subdata[]=convert_datetime_show($value['fileDate']);
			$subdata[]=$value['status']==1?'Success':'Failed';
			$subdata[]=$value['remarks'];
			$subdata[]=convert_datetime_show($value['CreatedOn']);
			$dataget[]=$subdata;
		}
		$data['data']=$dataget;
		$data['totalData']=$queryTot -> num_rows();
		$data['totalFilter']=$queryTot -> num_rows();
		return $data;
    }
    function facility_update(){
		$this->db->select('facilities.FacilityNumber');
		$this->db->from('facilities');
		//$this->db->join('users', 'users.UserID = certification_logs.UserID', 'left');
		$this->db->where('facilities.IsActive','1');
		$this->db->where('facilities.FacilityNumber<>','');
		$this->db->where('facilities.cron_update',0);
	    $this->db->order_by('facilities.FacilityNumber','ASC');
	    $this->db->limit(100);
	    $query = $this->db->get();
		echo $this->db->last_query()."<br>";
	    
	    $dataget=array();
		foreach ($query->result_array() as $key => $value) {
			echo $url='https://nin.nhp.gov.in/api/facilities?api-key=AIkhSyD878mxnps32aCUQSOQXnxzc0PWVQsRkxq&nin_to_hfi='.$value['FacilityNumber'];
			$ch = curl_init();
			curl_setopt($ch,CURLOPT_URL,$url);
			curl_setopt($ch,CURLOPT_RETURNTRANSFER,true); 
			$output=curl_exec($ch);
			$data=json_decode($output,true);
    		curl_close($ch);
			if(isset($data['message']['status']) && $data['message']['status']=='success'){
				if(isset($data['result']['total_records']) && $data['result']['total_records']==1){
				  	// type check start
				  	$this->db->select('TypeDetailID');
				    $this->db->from('typedetail');
				    $this->db->where('TypeMasterID','4');
				    $this->db->where('TypeDetailCode',$data['data'][0]['phc_chc_type']);
				    $this->db->order_by('TypeDetailID', 'DESC');
				    $query = $this->db->get();
					if($query -> num_rows()>=1){
						$result_types = $query->row_array();
						$TypeDetailID=$result_types['TypeDetailID'];
					} else {
						$typesFac=array(
							'TypeMasterID'=>'4',
							'TypeDetailCode'=>$data['data'][0]['phc_chc_type'],
							'TypeDetailLogicalCode'=>$data['data'][0]['phc_chc_type'],
							'Sequence'=>'1',
							'IsActive'=>'1'
						);
						if($this->db->insert('typedetail', $typesFac)){
							$TypeDetailID=$this->db->insert_id();
						} else {
							$this->db->insert('typedetail', $typesFac);
							$TypeDetailID=$this->db->insert_id();
						}
					}
					// type check end
					// facility update start
					$dataAPI=array(
						'FacilityName'=>$data['data'][0]['hfi_name'],
						'Latitude'=>$data['data'][0]['latitude'],
						'Longitude'=>$data['data'][0]['longitude'],
						'Altitude'=>$data['data'][0]['altitude'],
						'Address'=>$data['data'][0]['house_number'].' '.$data['data'][0]['street'].' '.$data['data'][0]['landmark'].' '.$data['data'][0]['locality'],
						'pincode'=>$data['data'][0]['pincode'],
						'landLine'=>$data['data'][0]['landline_number'],
						'FacilityTypeDetailID'=>$TypeDetailID,
						'cron_update'=>'1',
						'cron_date'=>date('Y-m-d H:i:s')
					);
					$this->db->where_in('FacilityNumber', $value['FacilityNumber']);
					if ($this->db->update('facilities', $dataAPI) === FALSE){
						$dataErr=array(
							'cron_update'=>'0',
							'cron_date'=>date('Y-m-d H:i:s')
						);
						$this->db->where_in('FacilityNumber', $value['FacilityNumber']);
						$this->db->update('facilities', $dataErr);
					} else {

					}
					// facility update end
					// nodal start
				    $this->db->select('usermapping.UserID');
				    $this->db->from('usermapping');
				    $this->db->join('facilities', 'usermapping.FacilityID=facilities.FacilityID AND usermapping.FacilityID>0', 'inner');
				    $this->db->where('facilities.FacilityNumber',$value['FacilityNumber']);
				    $this->db->where('usermapping.IsActive','1');
				    $queryUserID = $this->db->get();
					$result_user = $queryUserID->row_array();
					$UserID=$result_user['UserID'];


				  	$this->db->select('InchargeID');
				    $this->db->from('incharge');
				    $this->db->where('UserID',$UserID);
				    $this->db->where('TypeDetailID','438');
				    $this->db->where('IsActive','1');
				    $queryNodal = $this->db->get();
					if($queryNodal -> num_rows()>=1){
					    //$nodalUserID = $this->db->get();
						$nodalData = $queryNodal->row_array();
						$incharge=array(
							'Mobile'=>$data['data'][0]['in_charge_mobile'],
							'Email'=>$data['data'][0]['email'],
							'IsActive'=>'1',
							'ModifiedOn'=>date('Y-m-d h:i:s'),
							'ModifiedBy'=>'0',
							'cron_update'=>'1',
							'cron_date'=>date('Y-m-d h:i:s'),
						);						
						$this->db->where('InchargeID', $nodalData['InchargeID']);
						if ($this->db->update('incharge', $incharge) === FALSE){
							$dataErr=array(
								'cron_update'=>'0',
								'cron_date'=>date('Y-m-d H:i:s')
							);
							$this->db->where('InchargeID',$nodalData['InchargeID']);
							$this->db->update('incharge', $dataErr);
						} else {

						}
					} else {
						$incharge=array(
							'UserID'=>$UserID,
							'TypeDetailID'=>'438',
							'Mobile'=>$data['data'][0]['in_charge_mobile'],
							'Email'=>$data['data'][0]['email'],
							'IsActive'=>'1',
							'CreatedOn'=>date('Y-m-d h:i:s'),
							'CreatedBy'=>'0',
							'cron_update'=>'1',
							'cron_date'=>date('Y-m-d h:i:s'),
						);
						$this->db->insert('incharge', $incharge);
					}

				}
			} else {
				$dataErr=array(
					'cron_update'=>'1',
					'cron_date'=>date('Y-m-d H:i:s')
				);
				$this->db->where_in('FacilityNumber', $value['FacilityNumber']);
				$this->db->update('facilities', $dataErr);
			}
			echo "<pre>"; print_r($data); echo "</pre>";

			/*$subdata=array();
			$subdata[]=$value['FacilityNumber'];
			$dataget[]=$subdata;*/
		}
		echo "<pre>"; print_r($dataget); echo "</pre>";
    }
    function getRoles($role=''){
	  	$this->db->select('RoleID,RoleName');
	  	$this->db->from('role');
	  	if(!empty($role)){
	  		$this->db->where('RoleID',$role);	
	  	}
	    $this->db->where('IsActive','1');
	    $this->db->order_by('RoleName','ASC');
	    $queryRole = $this->db->get();    	
	    return $queryRole->result_array();    	
    }
    function getURLs(){
	  	$this->db->select('url.id,url.url,module.moduleName,url.formName,url.moduleID,url.pages');
	  	$this->db->from('url');
	  	$this->db->join('module', 'url.moduleID=module.id AND module.IsActive=1', 'inner');
	    $this->db->where('url.IsActive','1');
	    $this->db->order_by('module.moduleName','ASC');
	    $queryRole = $this->db->get();
	    return $queryRole->result_array();    	
    }
    function getUserAccess($role){
    	$data=array();
	  	$this->db->select('user_access.roleID,url.moduleID,user_access.urlID,user_access.access_add,user_access.access_edit,user_access.access_delete,user_access.access_view');
	  	$this->db->from('user_access');
	  	$this->db->join('url', 'url.id=user_access.urlID', 'inner');
	  	if(!empty($role)){
	  		$this->db->where('user_access.RoleID',$role);	
	  	}
	    $this->db->order_by('url.moduleID','ASC');
	    $queryUserAccess = $this->db->get();
	    foreach ($queryUserAccess->result_array() as $key => $value) {
	    	$data[$value['roleID']][$value['urlID']]=array(
	    			'access_add'=>$value['access_add'],
	    			'access_edit'=>$value['access_edit'],
	    			'access_delete'=>$value['access_delete'],
	    			'access_view'=>$value['access_view']
	    		);
	    }
	    return $data;
    }
    function updateRoles($data,$roles){
	  	$this->db->select('user_access.id,url.IsActive');
	  	$this->db->from('user_access');
	  	$this->db->join('url', 'url.id=user_access.urlID', 'left');
	  	$this->db->where('user_access.roleID',$data['RoleID']);
	  	$this->db->where('user_access.urlID',$data['frmID']);
	    $queryRole = $this->db->get();
	    $access_add=isset($roles['1'])?'1':'0';
	    $access_edit=isset($roles['2'])?'1':'0';
	    $access_delete=isset($roles['3'])?'1':'0';
	    $access_view=isset($roles['4'])?'1':'0';
	    if($queryRole->num_rows()==0){
	    	// insert access
	    	$inserData=array(
	    		'roleID'=>$data['RoleID'],
	    		'urlID'=>$data['frmID'],
	    		'access_add'=>$access_add,
	    		'access_edit'=>$access_edit,
	    		'access_delete'=>$access_delete,
	    		'access_view'=>$access_view,
	    		'IsActive'=>'1',
	    		'CreatedOn'=>date('Y-m-d H:i:s'),
	    		'CreatedBy'=>$data['user']
	    	);
			$this->db->insert('user_access', $inserData);
	    } else {
	    	//update access
	    	$queryRoleData=$queryRole->row_array();
	    	$inserData=array(
	    		'roleID'=>$data['RoleID'],
	    		'urlID'=>$data['frmID'],
	    		'access_add'=>$access_add,
	    		'access_edit'=>$access_edit,
	    		'access_delete'=>$access_delete,
	    		'access_view'=>$access_view,
	    		'IsActive'=>$queryRoleData['IsActive'],
	    		'ModifiedOn'=>date('Y-m-d H:i:s'),
	    		'ModifiedBy'=>$data['user']
	    	);
			$this->db->where_in('id', $queryRoleData['id']);
			$this->db->update('user_access', $inserData);
	    }
    }
    function getMenu(){
    	$url=array('url'=>array(),'menu'=>array());
	  	$this->db->select('module.id,module.moduleName,module.icon,module.sequence,module.controller,url.formName,url.url,sum(user_access.access_add+user_access.access_edit+user_access.access_delete+user_access.access_view) as tot,user_access.access_add,user_access.access_edit,user_access.access_delete,user_access.access_view,user_access.urlID,url.serial');
	  	$this->db->from('user_access');
	  	$this->db->join('url', 'url.id=user_access.urlID', 'inner');
	  	$this->db->join('module', 'url.moduleID=module.id', 'inner');
	  	$this->db->where('user_access.RoleID',$this->session->userdata('RoleID'));
	  	$this->db->where('user_access.IsActive','1');
	    $this->db->order_by('module.sequence','ASC');
	    $this->db->group_by('url.id');
	    $queryUserAccess = $this->db->get();
	    foreach ($queryUserAccess->result_array() as $key => $value) {
	    	if(empty($value['tot'])){ continue; }
	    	$url['url'][$value['url']]=array(
	    			'access_add'=>$value['access_add'],
	    			'access_edit'=>$value['access_edit'],
	    			'access_delete'=>$value['access_delete'],
	    			'access_view'=>$value['access_view']
	    		);
	    	if(isset($url['menu'][$value['sequence']])){
	    	$url['menu'][$value['sequence']]['url'][$value['serial']]=array(
	    					'url'=>$value['url'],
	    					'formName'=>$value['formName'],
	    					'access_add'=>$value['access_add'],
	    					'access_edit'=>$value['access_edit'],
	    					'access_delete'=>$value['access_delete'],
	    					'access_view'=>$value['access_view']
	    		);
	    	} else {
	    		$url['menu'][$value['sequence']]=array(
	    			'moduleName'=>$value['moduleName'],
	    			'controller'=>$value['controller'],
	    			'icon'=>$value['icon'],
	    			'url'=>array()
	    		);
				$url['menu'][$value['sequence']]['url'][$value['serial']]=array(
	    					'url'=>$value['url'],
	    					'formName'=>$value['formName'],
	    					'access_add'=>$value['access_add'],
	    					'access_edit'=>$value['access_edit'],
	    					'access_delete'=>$value['access_delete'],
	    					'access_view'=>$value['access_view']
	    		);
	    	}

	    }
	    return $url;  	
    }
    function checkPageAccessWeb($url,$roleName){
    	$accessData=$this->session->userdata('accessData');
    	if(!empty($accessData['url']) && array_key_exists($url, $accessData['url'])){
    		// able to access this url
    	} else {
    		redirect('/');
    	}
    }
    function checkPageActionWeb($url,$action,$roleName){
    	$accessData=$this->session->userdata('accessData');
    	if(!empty($accessData['url']) && array_key_exists($url, $accessData['url']) && $accessData['url'][$url][$action]=='1'){
    		return true;
    	} else {
    		return false;
    	}
    }
    function getuser($data){
    	$respone=array();
	    $this->db->select('users.UserID,users.UserName,users.FirstName');
	    $this->db->from('users');
	    $this->db->join('userrole', 'users.UserID=userrole.UserID AND userrole.IsActive=1', 'inner');
	    $this->db->where('userrole.RoleID',$data['search_role']);
	    $result = $this->db->get();
	    if($result->num_rows()>0){
	    	$data=array();
	    	/*foreach ($result->result_array() as $key => $value) {
	    		$data[]=array(
	    			'userID'=>$value['UserID'],
	    			'UserName'=>$value['UserName'],
	    			'FirstName'=>$value['FirstName'],
	    		);
	    	}*/
	    	$respone['data']=$result->result_array();
	    	$respone['code']='0';
	    	$respone['msg']=$this->config->item('errCodes')[0];
	    } else {
	    	$respone['code']='13';
	    	$respone['data']=array();
	    	$respone['msg']=$this->config->item('errCodes')[13];
	    }
	    return $respone;
    }
    function getstates($data){
    	$respone=array();
	    $this->db->select('states.StateID,states.StateName');
	    $this->db->from('states');
	    $this->db->where('states.IsActive','1');
	    $result = $this->db->get();
	    if($result->num_rows()>0){
	    	$respone['data']=$result->result_array();
	    	$respone['code']='0';
	    	$respone['msg']=$this->config->item('errCodes')[0];
	    } else {
	    	$respone['code']='13';
	    	$respone['data']=array();
	    	$respone['msg']=$this->config->item('errCodes')[13];
	    }
	    return $respone;
    }
    function getdistricts($data){
    	$respone=array();
	    $this->db->select('district.DistrictID,district.DistrictName,states.StateName,CONCAT(states.StateID,"_",district.DistrictID) AS DistrictVal');
	    $this->db->from('district');
	    $this->db->join('states', 'states.StateID = district.StateID AND states.IsActive="1"', 'inner');
	    if(!in_array('99999', $data['search_state'])){
	    	$this->db->where_in('district.StateID',$data['search_state']);
	    }
	    $this->db->where('district.IsActive','1');
	    //$this->db->order_by('states.StateName','ASC');
	    $this->db->order_by('district.DistrictName','ASC');
	    $result = $this->db->get();
	    if($result->num_rows()>0){
	    	$respone['data']=$result->result_array();
	    	$respone['code']='0';
	    	$respone['msg']=$this->config->item('errCodes')[0];
	    } else {
	    	$respone['code']='13';
	    	$respone['data']=array();
	    	$respone['msg']=$this->config->item('errCodes')[13];
	    }
	    return $respone;
    }
    function getfacilities($data){
    	$respone=array();
	    $this->db->select('facilities.FacilityID,CONCAT(district.DistrictName," ",states.StateName) as hintText,facilities.FacilityName,CONCAT(states.StateID,"_",district.DistrictID,"_",facilities.FacilityID) AS FacilityVal ');
	    $this->db->from('facilities');
	    $this->db->join('states', 'states.StateID = facilities.StateID AND states.IsActive="1"', 'inner');
	    $this->db->join('district', 'district.DistrictID = facilities.DistrictID AND district.IsActive="1"', 'inner');
		if(!in_array('99999', $data['search_state'])){
	    	$this->db->where_in('district.StateID',$data['search_state']);
	    }
		if(!in_array('99999', $data['search_district'])){
	    	$checkDis=explode('_',$data['search_district'][0]);
	    	if(!empty($checkDis[1])){
	    		foreach ($data['search_district'] as $key => $value) {
	    			$valArr=explode('_',$value);
	    			$data['search_district'][$key]=$valArr[1];
	    		}
	    	}
	    	$this->db->where_in('district.DistrictID',$data['search_district']);
	    }
	    $this->db->where('facilities.IsActive','1');
	    //$this->db->order_by('states.StateName','ASC');
	    $this->db->order_by('facilities.FacilityName','ASC');
	    $result = $this->db->get();
	    if($result->num_rows()>0){
	    	$respone['data']=$result->result_array();
	    	$respone['code']='0';
	    	$respone['msg']=$this->config->item('errCodes')[0];
	    } else {
	    	$respone['code']='13';
	    	$respone['data']=array();
	    	$respone['msg']=$this->config->item('errCodes')[13];
	    }
	    return $respone;
    }
    function getfacilitydata($ninnumber){
    	$dataresult=array();
		$this->db->select('facilities.FacilityID');
		$this->db->from('facilities');
		$this->db->join('states', 'facilities.StateID = states.StateID', 'inner');
		$this->db->join('district', 'facilities.DistrictID = district.DistrictID', 'inner');
		$this->db->join('typedetail', 'facilities.FacilityTypeDetailID = typedetail.TypeDetailID', 'inner');
		$this->db->where('facilities.FacilityNumber',$ninnumber);
	    $query = $this->db->get();
	    if($query->num_rows()>0){
			$dataFetched=$query->row_array();
			$dataresult['FacilityID']=$dataFetched['FacilityID'];
	    }
	    
	    $dataget=array();
		$url='https://nin.nhp.gov.in/api/facilities?api-key=AIkhSyD878mxnps32aCUQSOQXnxzc0PWVQsRkxq&nin_to_hfi='.$ninnumber;
		$ch = curl_init();
		curl_setopt($ch,CURLOPT_URL,$url);
		curl_setopt($ch,CURLOPT_RETURNTRANSFER,true); 
		$output=curl_exec($ch);
		$data=json_decode($output,true);
		curl_close($ch);
		if(isset($data['message']['status']) && $data['message']['status']=='success'){
			if(isset($data['result']['total_records']) && $data['result']['total_records']==1){
			  	// type check start
			  	$this->db->select('TypeDetailID');
			    $this->db->from('typedetail');
			    $this->db->where('TypeMasterID','4');
			    $this->db->where('TypeDetailCode',$data['data'][0]['phc_chc_type']);
			    $this->db->order_by('TypeDetailID', 'DESC');
			    $query = $this->db->get();
				if($query -> num_rows()>=1){
					$result = $query->row_array();
					$TypeDetailID=$result['TypeDetailID'];
				} else {
					$inserData=array(
						'TypeMasterID'=>'4',
						'TypeDetailCode'=>$data['data'][0]['phc_chc_type'],
						'TypeDetailLogicalCode'=>$data['data'][0]['phc_chc_type'],
						'Sequence'=>'1',
						'IsActive'=>'1'
					);
					if($this->db->insert('typedetail', $inserData)){
						$TypeDetailIDTypeDetailID=$this->db->insert_id();
					}
				}
				// type check end
			  	// states check start
			  	$stateCode=preg_replace('/[^A-Za-z0-9]/', '', trim($data['data'][0]['state_name']));
			  	$this->db->select('StateID');
			    $this->db->from('states');
			    $this->db->where('StateCode',$stateCode);
			    $query = $this->db->get();
				if($query -> num_rows()>=1){
					$result = $query->row_array();
					$StateID=$result['StateID'];
				} else {
					$typesFac=array(
						'CountryID'=>'1',
						'StateName'=>$data['data'][0]['state_name'],
						'StateCode'=>$stateCode,
						'ehr_code'=>$data['data'][0]['phc_chc_type'],
						'mapCode'=>'',
						'FacilityNum'=>0,
						'IsActive'=>'1'
					);
					if($this->db->insert('states', $inserData)){
						$StateID=$this->db->insert_id();
					}
				}
				// states check end
			  	// district check start
			  	$districtCode=preg_replace('/[^A-Za-z0-9]/', '', trim($data['data'][0]['district_name']));
			  	$this->db->select('DistrictID');
			    $this->db->from('district');
			    $this->db->where('DistrictCode',$districtCode);
			    $query = $this->db->get();
				if($query -> num_rows()>=1){
					$result = $query->row_array();
					$DistrictID=$result['DistrictID'];
				} else {
					$typesFac=array(
						'CountryID'=>'1',
						'DistrictName'=>$data['data'][0]['district_name'],
						'StateID'=>$StateID,
						'DistrictCode'=>$DistrictCode,
						'CensusCode'=>'',
						'IsHighPriority'=>0,
						'IsActive'=>'1'
					);
					if($this->db->insert('district', $inserData)){
						$DistrictID=$this->db->insert_id();
					}
				}
				// district check end
				$dataresult['FacilityNumber']=$ninnumber;
				$dataresult['FacilityName']=$data['data'][0]['hfi_name'];
				$dataresult['StateID']=$StateID;
				$dataresult['StateName']=$data['data'][0]['state_name'];
				$dataresult['DistrictID']=$DistrictID;
				$dataresult['DistrictName']=$data['data'][0]['district_name'];
				$dataresult['FacilityTypeDetailID']=$TypeDetailID;
				$dataresult['TypeDetailCode']=$data['data'][0]['phc_chc_type'];
				$dataresult['Latitude']=$data['data'][0]['latitude'];
				$dataresult['Longitude']=$data['data'][0]['longitude'];
				$dataresult['Altitude']=$data['data'][0]['altitude'];
				$dataresult['Address']=$data['data'][0]['house_number'].' '.$data['data'][0]['street'].' '.$data['data'][0]['landmark'].' '.$data['data'][0]['locality'];
				$dataresult['PinCode']=$data['data'][0]['pincode'];
				$dataresult['landLine']=$data['data'][0]['landline_number'];
			}
		} else {
			// no data get from api
		}
		return $dataresult;
    }
    function addupdatefacilitydetails($data){
    	$response=array();
    	if(isset($data['FacilityID']) && $data['FacilityID']>0){
			$dataUpdate=array(
				'FacilityName'=>$data['FacilityName'],
				'FacilityTypeDetailID'=>$data['FacilityTypeDetailID'],
				'Address'=>$data['Address'],
				'StateID'=>$data['landLine'],
				'DistrictID'=>$data['landLine'],
				'PinCode'=>$data['PinCode'],
				'landLine'=>$data['landLine'],
				'Longitude'=>$data['Longitude'],
				'Latitude'=>$data['Latitude'],
				'Altitude'=>$data['Altitude'],
				'services'=>$data['services'],
				
			);
			$this->db->where('FacilityNumber', $data['FacilityNumber']);
			if ($this->db->update('facilities', $dataUpdate)=== FALSE){
	            $response['code'] = '11';
	            $response['msg'] = $this->config->item('errCodes')[11];
			} else {
	            $response['code'] = '0';
	            $response['msg'] = $this->config->item('errCodes')[27];
			}
    	} else {
			$dataUpdate=array(
				'FacilityName'=>$data['FacilityName'],
				'FacilityNumber'=>$data['FacilityNumber'],
				'FacilityTypeDetailID'=>$data['FacilityTypeDetailID'],
				'Address'=>$data['Address'],
				'StateID'=>$data['StateID'],
				'DistrictID'=>$data['DistrictID'],
				'PinCode'=>$data['PinCode'],
				'landLine'=>$data['landLine'],
				'Longitude'=>$data['Longitude'],
				'Latitude'=>$data['Latitude'],
				'Altitude'=>$data['Altitude'],
				'services'=>$data['services'],
				'IsActive'=>1
			);
			$this->db->insert('facilities', $dataUpdate);
			$facilityID=$this->db->insert_id();
			if($facilityID>0){
	            $response['code'] = '0';
	            $response['msg'] = $this->config->item('errCodes')[0];
			} else {
	            $response['code'] = '11';
	            $response['msg'] = $this->config->item('errCodes')[11];
			}
    	}
    	return $response;
    }
	function facilitytype($facilitytype){
	  	$this->db->select('TypeDetailID');
	    $this->db->from('typedetail');
	    $this->db->where('TypeMasterID',4);
	    $this->db->where('IsActive',1);
	    $this->db->where('TypeDetailCode',$facilitytype);
	    $query = $this->db->get();
	    if($query->num_rows()>0){
	    	return array(
	    		'code'=>16,
	    		'msg'=>'Facility Type already exist'
	    	);
	    } else {
			$typesFac=array(
				'TypeMasterID'=>'4',
				'TypeDetailCode'=>$facilitytype,
				'TypeDetailLogicalCode'=>$facilitytype,
				'Sequence'=>'1',
				'IsActive'=>'1'
			);
			$this->db->insert('typedetail', $typesFac);
	    	return array(
	    		'code'=>'0',
	    		'msg'=>'Data saved successfully'
	    	);
	    }
	}
	function getfacilityType(){
	  	$this->db->select('TypeDetailID,TypeDetailCode');
	    $this->db->from('typedetail');
	    $this->db->where('TypeMasterID',4);
	    $this->db->where('IsActive',1);
	    $this->db->order_by('TypeDetailCode',1);
	    $query = $this->db->get();
	    if($query->num_rows()>0){
	    	$res=$query->result_array();
	    } else {
			$res=array();
		}
		return $res;
	}

}




<?php 
$basepath='http://localhost/programs/sync_master/sync_master_laqshya';
$connection = mysqli_connect("localhost", "root", "", "lakshya");

$query="SELECT field_1,field_2,field_3,field_4,field_5,field_6,field_7
 FROM dashboard_data_laqshya 
 WHERE type_data='boxtop'";
$queryRes=mysqli_query($connection, $query);
$resultBoxtop=mysqli_fetch_assoc($queryRes);

?>
<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <title>Laqshya</title>
  <meta charset="utf-8">
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="<?php echo $basepath; ?>/assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="<?php echo $basepath; ?>/assets/css/font-awesome.min.css">
  <link rel="stylesheet" href="<?php echo $basepath; ?>/assets/css/bootstrap-select.min.css">
  <link rel="stylesheet" href="<?php echo $basepath; ?>/assets/css/bootstrap-datepicker.min.css">

  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,500,600,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i,700,700i,900" rel="stylesheet">

  <link href="<?php echo $basepath; ?>/assets/vendors/iCheck/skins/flat/green.css" rel="stylesheet">
  
  <!-- bootstrap-progressbar -->
  <link href="<?php echo $basepath; ?>/assets/vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet">
  <!-- JQVMap -->
  <link href="<?php echo $basepath; ?>/assets/vendors/jqvmap/dist/jqvmap.min.css" rel="stylesheet"/>

  <!-- Datatables -->
  <link href="<?php echo $basepath; ?>/assets/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
  <link href="<?php echo $basepath; ?>/assets/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css" rel="stylesheet">
  <link href="<?php echo $basepath; ?>/assets/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css" rel="stylesheet">
  <link href="<?php echo $basepath; ?>/assets/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css" rel="stylesheet">
  <link href="<?php echo $basepath; ?>/assets/vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css" rel="stylesheet">


  <!-- Custom Theme Style -->
  <link href="<?php echo $basepath; ?>/assets/css/custom.min.css" rel="stylesheet">
  
  
  
  <!-- <script src="assets/js/jquery.min.js"></script>-->
  <script src="<?php echo $basepath; ?>/assets/js/jquery1.11.3.min.js"></script>
  <script src="<?php echo $basepath; ?>/assets/js/jquery.cookie.js"></script>
  <script src="<?php echo $basepath; ?>/assets/js/monthpicker.min.js"></script>
  <!-- remove this if you use Modernizr -->
  
  <script>(function(e,t,n){var r=e.querySelectorAll("html")[0];r.className=r.className.replace(/(^|\s)no-js(\s|$)/,"$1js$2")})(document,window,0);</script>

  <script type="text/javascript">
    var pageMainUrl="<?php echo $basepath; ?>/";
  </script>
  
  

  <!-- <style>.loader{overflow: scroll;background: #d0d0d0;position: fixed;z-index: 99; width: 100%;height: 100%; opacity: 0.3;}</style>-->

 <noscript>
   <h1 class="text-center ">This page needs JavaScript activated to work. </h1>
   <style>div { display:none; }</style>
 </noscript>

</head>
<!--<body class="nav-md" id="bodyLoad" >-->
<body class="nav-md grey" id="bg-color" >

  <div id="loader_overlay" style="display:none ">
    
    <div style="position: absolute;z-index: 999;left: 50%;top: 50%;transform: translate(-50%, -50%)">
      <img src="<?php echo $basepath; ?>/assets/images/load.gif" alt="load" >
    </div>
  </div>
  <div class="container body">

    <div class="main_container">
<header>
        <div class="header-bottom">
          <div class="container-fluid">
            <div class="row">
              <div class="col-md-4 col-sm-4 col-xs-12 text-left main-logo">
                <a href="<?php echo $basepath; ?>/">
                  <h1>
                    <span class="emonitoring white_logo"><img src="<?php echo $basepath; ?>//assets/images/laqshya-logo.png"></span>
                    <span class="emonitoring default_logo"><img src="<?php echo $basepath; ?>//assets/images/laqshya-logo1.png"></span>
                  </h1>
                </a>
              </div>


              <div class="col-md-4 col-sm-4 col-xs-6 indian-emblem text-center">
                <a href="https://mohfw.gov.in/" target="_blank" >
                  <img class="white_logo" style="padding-top: 5px;" src="<?php echo $basepath; ?>//assets/images/indian-emblem.png" alt="Indian Emblem">
                  <img class="default_logo" style="padding-top: 5px;" src="<?php echo $basepath; ?>//assets/images/indian-emblem1.png" alt="Indian Emblem">
                </a>
              </div>
              
              <div class="col-md-4 col-sm-4 col-xs-6 nhp-logo">
                 <a href="http://nhm.gov.in/" target="_blank">
                  
                  <img class="default_logo" style="padding-top: 4px;" src="<?php echo $basepath; ?>//assets/images/nhm-white.png" alt="NHM" class="NHM-logo">
                  <img class="white_logo" style="padding-top: 4px;" src="<?php echo $basepath; ?>//assets/images/nhm.png" alt="NHM" class="NHM-logo">
                </a>
                <a href="https://www.nhp.gov.in/" target="_blank"> 
                  <img class="default_logo"  style="padding-top: 4px;" src="<?php echo $basepath; ?>//assets/images/nhp-white.png" alt="NHP" class="nhp-logo">
                  <img class="white_logo"  style="padding-top: 4px;" src="<?php echo $basepath; ?>//assets/images/nhp.png" alt="NHP" class="nhp-logo">
                </a>
               
              </div>
            </div>
          </div>
        </div>
      </header>

      


      <!-- page content -->
      <div class="" role="main">






<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script> 

<div class="clearfix"></div>

<div class="main-content">

<div class="analytics-sparkle-area">
            <div class="container">
                <div class="row">
                	<div class="col-md-4 col-sm-12">
                		 
	                        <div class="analytics-sparkle-line analytics-sparkle-line-frt reso-mg-b-30">
	                            <div class="analytics-content top-board1">
	                            	<div class="board-icons-1 ">
	                            		<div class="rouw-img">
	                            			<img src="<?php echo $basepath; ?>/assets/images/total-hospital.png" alt="total hostpital">
	                            		</div>
	                            	</div>	

	                            	<div class="board-deatils">
	                            		 

	                            	<h5>Total LaQshya Facilities</h5>
		                            	<a href="#">                            
		                                <h2 title="Check Details"><span class="counter count"><?php echo $resultBoxtop['field_1']; ?></span></h2>
		                            	</a>
		                            	</div>
	                            </div>
	                        
	                    </div>


                    </div>
                    <div class="col-md-8 col-sm-12">
                    	<div class="list-dashboard-icon1">
                    	 <div class="row">
		                    <div class="col-md-4">
		                        <div class="analytics-sparkle-line reso-mg-b-30">
		 							
		 							<div class="analytics-content top-board1">
			                            	<div class="board-icons-1 ">
			                            		<div class="rouw-img">
			                            			<img src="<?php echo $basepath; ?>/assets/images/medical-collage.png" alt="total hostpital">
			                            		</div>
			                            	</div>	

			                            	<div class="board-deatils">
			                            	<h5>Medical Colleges</h5>
				                            	<a href="<?php echo $basepath; ?>/user/laqshyafacility/Medical_College">
				                            		<h2 title="Check Details"><span class="counter count"><?php echo $resultBoxtop['field_2']; ?></span></h2>
				                            	</a>
				                            	</div>
			                            </div>

		                        </div>
		                    </div>



		                     <div class="col-md-4">
		                        <div class="analytics-sparkle-line reso-mg-b-30">
		 							
		 							<div class="analytics-content top-board1">
			                            	<div class="board-icons-1 ">
			                            		<div class="rouw-img">
			                            			<img src="<?php echo $basepath; ?>//assets/images/district-hospital.png" alt="total hostpital">
			                            		</div>
			                            	</div>	

			                            	<div class="board-deatils">
			                            		 

			                            	<h5>District Hospitals</h5>
				                            	<a href="<?php echo $basepath; ?>/user/laqshyafacility/District_Hospital">
				                            		<h2 title="Check Details"><span class="counter count"><?php echo $resultBoxtop['field_3']; ?></span></h2>
				                                
				                            	</a>
				                            	</div>
			                            </div>

		                        </div>
		                    </div>



		                     <div class="col-md-4">
		                        <div class="analytics-sparkle-line reso-mg-b-30">
		 							
		 							<div class="analytics-content top-board1">
			                            	<div class="board-icons-1 ">
			                            		<div class="rouw-img">
			                            			<img src="<?php echo $basepath; ?>//assets/images/local-total-hospital.png" alt="total hostpital">
			                            		</div>
			                            	</div>	

			                            	<div class="board-deatils">
			                            		 

			                            	<h5>Sub-divisional Hospitals</h5>
				                            	<a href="<?php echo $basepath; ?>/user/laqshyafacility/Sub-divisional_Hospital">
				                            		<h2 title="Check Details"><span class="counter count"><?php echo $resultBoxtop['field_4']; ?></span></h2>
				                            	</a>
				                            	</div>
			                            </div>

		                        </div>
		                    </div>

 

                    
               


                

                		<div class="col-md-4">
		                        <div class="analytics-sparkle-line reso-mg-b-30">
		 							
		 							<div class="analytics-content top-board1">
			                            	<div class="board-icons-1 ">
			                            		<div class="rouw-img">
			                            			<img src="<?php echo $basepath; ?>//assets/images/CHCs-icon.png" alt="total hostpital">
			                            		</div>
			                            	</div>	

			                            	<div class="board-deatils">
			                            	<h5>CHCs</h5>
				                            	<a href="<?php echo $basepath; ?>/user/laqshyafacility/CHC">
				                            		<h2 title="Check Details"> <span class="counter count"><?php echo $resultBoxtop['field_5']; ?></span></h2>
				                            	</a>
				                            	</div>
			                            </div>

		                        </div>
		                    </div>

 							<div class="col-md-4">
		                        <div class="analytics-sparkle-line reso-mg-b-30">
		 							
		 							<div class="analytics-content top-board1">
			                            	<div class="board-icons-1 ">
			                            		<div class="rouw-img">
			                            			<img src="<?php echo $basepath; ?>/assets/images/medical-report-total.png" alt="total hostpital">
			                            		</div>
			                            	</div>	

			                            	<div class="board-deatils">			                            		  
				                            	<a href="<?php echo $basepath; ?>/user/laqshyafacility/FRU">
					                                <h5>FRUs</h5>
					                                <h2 title="Check Details"><span class="counter count"><?php echo $resultBoxtop['field_6']; ?></span></h2>
				                                </a>
				                            	</div>
			                            </div>

		                        </div>
		                    </div>


		                    <div class="col-md-4">
		                        <div class="analytics-sparkle-line reso-mg-b-30">
		 							
		 							<div class="analytics-content top-board1">
			                            	<div class="board-icons-1 ">
			                            		<div class="rouw-img">
			                            			<img src="<?php echo $basepath; ?>/assets/images/total-heart.png" alt="total hostpital">
			                            		</div>
			                            	</div>	

			                            	<div class="board-deatils">			                            		  
				                            	<a href="<?php echo $basepath; ?>/user/laqshyafacility/Others">
				                                	<h5>Others</h5>
				                                	<h2 title="Check Details"><span class="counter count"><?php echo $resultBoxtop['field_7']; ?></span></h2>
				                                </a>
				                            	</div>
			                            </div>

		                        </div>
		                    </div>
		                     </div>


                       
                   
                 
                </div>
                </div>



            </div>
        </div>
 </div>

<!--------------------------------- test code for mape ------------------------------------------>



<!----------------------------- test code for Mape ended  ---------------------------------------------->
 


    <div class="container ">	  
    <div class="row">
	  
			<div class="col-md-12 col-sm-12 col-xs-12 ">
				<div class="new-map-edict map-new-1s">
			  <div class="x_panel ">
			    <div class="x_title">
			      <h2>LaQshya Program At A Glance</h2>
			      <ul class="nav navbar-right panel_toolbox">
			        <li>
			        	<a class="collapse-link">
			        		<i class="fa fa-chevron-up"></i>
			        	</a>
			        </li>
			      </ul>
			      <div class="clearfix"></div>
			    </div>
			    <div class="x_content">


			    	<div class="col-md-7">
			    		<div class="row mar-bottom30">
			    			<div class="col-md-12 col-xs-12">
			    				<div id="mapwrapper">
			    					 <div id="map_base">
			    						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 570 640" xml:space="preserve">
			    							<g>
			    								<path id="injs1" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M321.5,399.375c-7.875,4.375-8.875-8.5-16.375-4.5c-3.384,1.805,0.75,4.25-6,6s2.875,8-8,8.875c-7.112,0.572-4.25-6.125-6.874-2.875s0.874,7.75-2.501,9.5s-2.5-3.25-9.375,2.75c0.208,4.458-6.042,2.709-6.708,7.376s-9.833,3.833-12.5,7.73s-3.833-1.897-9.167,1.103s4.167,1,2.833,6.333c-0.679,2.717-6-6.166-9.333-4.333s1.167,3.833-2.333,6.333s-0.5-1.416-9.333,0c-5.981,0.959-6.795,1.221-5.833,5.667c1.333,6.167-5.333-1.167-8.333,4.333s-6.5-3.166-13.667,4c-3.073,3.072-4.833-0.666-12.333,0c0.167,3.999-8.417-3.917-11,7.5c-1.361,6.015,4.311,5.569,3,9.5c-1.75,5.249-6.77-0.119-7.5,4.166c-1.917,11.25,4.25,7.917,2.667,12s8.419,0.155,10.167,2c3,3.167-3.333,2.084-1.5,4.167s0.167,3.834-1.333,1.667s-3.833,0.001-5.5-2.5s-3.811-1.243-1.833,0.833c3.831,4.021-1.667,3.667,1.833,5.5s-0.028-2.807,4-1.833c5.167,1.249,3,5.777,8.667,2.222s7.167-5.055,8.5,0.278s5.167,3,5,6.833s4.667,0.333,3.167,7.667c-1.251,6.12-6,3.166-5.333,6.833s4.572,3.167,7.536,0s-1.202-5.833,4.131-6.833s6.833,2.667,10.5,0s1.25-7.442,5.833-3.834c7.833,6.167,8.5-12.166,15.833-7.333c-0.102-19.25-6.75-28.625,0-42.5s11.375,5.375,20-11.5c4.275-8.365,15.875,5.125,20.5-11.5c2.768-9.948,10.25-7.875,19.5-21c6.412-9.099,14.25-6.5,28-27.5C322.875,392.464,325.811,396.98,321.5,399.375z"/>
			    								<path id="injs2" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M555.5,185.75c-6-6.75-14,0.75-18.5-0.75s10.333-6-1-17.25s-14.651,8.28-24.5,4c-14-6.083-12.334,9.75-26,12.5c-7.105,1.43,0.25,8.5-8.25,9.5s3.416,11.25-19.25,12.5c-8.491,0.468-4,7.5,0.25,7.5s7.465,9.975,5.75,10.5c12.75-4,9.25,1.25,20.25-2c14.668-4.333,2.598-9.498,17-16c8.5-1.625,28.907-14.979,30.584-10.75c1.041,2.625-5.892,2.082-1.833,7.333c7.374,9.542-17.977,12.313-22.001,21.417c4.167-0.083,7.667,1.917,11,4c-1.138-1.706,12.018-13.494,21.25-20c11.165-7.869,11.375,6.5,15.25,1.75c1.733-2.124-9.375-7.125-3.5-13.5C555.602,192.591,561.5,192.5,555.5,185.75z"/>
			    								<path id="injs3" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M470.5,277.333c5.25-5.333,1.625,7.042,12.5-5.333c1-4,4.5-10.5,7.5-18s-4.818-1.436,0-9.5c6.125-10.25,7,3.5,17.5-20.25c4.024-9.103,29.375-11.875,22.001-21.417c-4.059-5.252,2.874-4.708,1.833-7.333c-1.677-4.229-22.084,9.125-30.584,10.75c-14.402,6.502-2.332,11.667-17,16c-11,3.25-7.5-2-20.25,2c-34,10.417-24.333-4.083-42.25,6.5c-0.584,4.417,2.251,4.917-2.5,10.25c3,0.75,3.204,4.883,2.749,10.75c4.002-5.417,3.669-5.058,14.335-5.083c17.041-0.042,10.135,4.637,18.334,0c19.082-10.792,8.388,1.04,16.333,2.519c17.124,3.189,3.743,11.801,0.995,12.814c6.754,3.5-0.371,0.75-3.754,12.25C468.166,277.667,469.834,276.167,470.5,277.333z"/>
			    								<path id="injs4" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M320.75,236c0,3.375-9.625-0.875-9.625,2.75s4.75,0.75,5.625,3.5s-5.25,1.125-1.623,5.125c2.332,2.572,10.873,4,9.748,7.25s-7.375-2.5-19.5,9.5c-7.614,7.536,1.625,12.625-2.125,16.75c8.25,2.75,10-2.75,15.375,0c3.062,1.566,0.422,7.737,6.875,6c3.25-0.875,2.625-6.645,6.5-3.572s12.125-2.928,13.375-5.428s6.817-3.851,10.375,2c5.625,9.25,4.203-1.391,8-0.125c9.75,3.25,6.544-23.75,20.875-14.625c-3.341-5.831,7.875-7.5,0.375-14.25c-3.944-3.55,10.625-8.705,3-15.875c-5.5,6.167-17.485,1.905-30,0c-15.333-2.333-8-3-13-5.5s-1.166,6.833-15,0s1.833-7.833-20.5-8C313,233.75,320.75,232.625,320.75,236z"/>
			    								<path id="injs5" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M316.625,310.5c-3.625-1.875,2-10.375-14.75-21.5c-2.125,7.125-7.02,5.779-10.25,3.625c-4.791,6.542-4.366,4.326-8.375,3.625c-13.813-2.417-20,4.5-11,6s7,9.5,3.75,9s-2.174,10.11-12,12c-11,2.115-8.25,17.75-16.75,23.75c6.428,4.367-2.714,2.586,0.125,8.5c6,12.5-3.625,11.75-0.5,17s-4.5,4.75,3.75,9.5s3,9.875-1,7.25s-8.723,7.492-7.375,12.125c2,6.875,6.625,0.875,8.5,5.625s4.283,14.231,8.875,12.75c7.75-2.5,5-10.75,10.875-11.25s9.72-10.25,9.297-16.875s-4.602-4.936-3.297-9.25c1.625-5.375-4.49-3.476-3.75-8c1.125-6.875,15.02,6.195,16.25,3.5c2.625-5.75-7.5-4.5-5.75-8.875s-4.321-5.212-1-11.75c8-15.75,18.654-5.141,19.625-10.875c4-23.625,11.375-17.484,14-25.424C317.734,315.326,321.646,313.098,316.625,310.5z"/>
			    								<path id="injs6" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M119.179,469.334c-0.155-3.333,0.032-8.209-5.345-8.333c-3.418-0.079-3-2.5-9.333-1.001c3,3.5,3.5,10.5,8.5,17C119.167,478.833,119.333,472.667,119.179,469.334z"/>
			    								<path id="injs7" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M98.313,366.125c1.376,0.181-0.188-2.375,2.313-2.625s1.75,3.75,2.563,4s5.125,0.019,4.979-8.5c-0.111-6.509,4.708,5.188,9.667-2.834c3.179-5.143-7.333-8.666-3.167-8.5s3.958-4.916,9-5.333c3.724-0.308,1.5-3-2.417-2s-4.25-4.167,0-7.458c-3.75-0.75-0.375-3.75-1.875-9.125s6-4.75,8.875-8.375s-6.25,0-2.625-8.25c-23.375-15.375-9.792-19.125-17.958-19.792c-4.166-0.34,3.167-7.667-5-7.167s-1.833-6.5-31.667-8.667c-7.648,16.996-8,0.667-20.5,7.5c-10.276,5.618-4.368-2.333-19-4c-13.167-1.5-4.333,9-17,6.5c-1.963-0.388-5.667,3.833-3.314,7.421c1.072,1.635,6.314-3.587,8.313-2.085s-11.166,2.331,4,16.164c16.566,15.11,29-3.167,31,1c2,4.166-11.167,18.5-30.5,13c-2.874-0.817,14.5,22.5,26,33s20-1.833,28.5-2c5.332-0.104,11.5-9.5,10.5-17.5c-0.807-6.452,6.106-6.598,5.416-1C92.833,342.334,99,334.834,96,344c-2,6.11,4.244,6.761,1.846,14.237c3.033,2.737-0.096,4.7-1.784,3.984c-0.777,1.404-1.781,2.985-3.062,4.778C94.063,367.438,95.938,365.813,98.313,366.125z"/>
			    								<path id="injs8" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M188.167,196.667c-3.25,4.75-3.167,0.417-5.662,1s-3.171-2.833-1.338-3.893c0.744-0.43-1.041-3.69,3.833-4.273c-3.5-17.917,3.25-20.417,8.667-31c-9.417-4-1.042-4.625-14-14.5c0.842,2.411,0.233,4.423,1.083,6.375c4.083,9.375,0.125,2.5-2.625,6.875s0.625,3.333-1,5.5s-5.806-4.384-7.5,0.75c-4.125,12.5-12.792,1.833-15.625,7.875c-1.982,4.226-2.345,2.992-3.625-1.625c-2.125-7.667-8.125-3.5-13.125-4.875c3.5,3.625-1.083,14.955,3,14c7.75-1.813,5.761,3.942,10.125,2.5c7.188-2.375,2.25,13.125,9.875,17.544c10.183,5.901-0.875,10.581,4,12.331c6.218,2.232,4-9.938,8.875-5.25c4.655,4.476,3.875-3.75,7.75-1s-8.125,17.917,9.625,5.333C193,202.667,187.833,200.667,188.167,196.667z"/>
			    								<path id="injs9" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M206.5,109.833c-3.511,1.249-4.558-7.636-9.333-5.5c-6.333,2.832-12.667-6.667-18.667-6.5s-3.5,4.667-9.167,4.667s-1.167,9.833-6,10.333c4.042,3.667-4.458,3.667-2.167,8.833c9.119,20.555,9.083,9.833,13.167,14.667c3.119,3.692,0.664,4.108,5.333,7.667c12.958,9.875,4.583,10.5,14,14.5c4.144-8.095-0.917-14.917,17.167-17.5c8.928-1.275,7.333,6.083,12.667,1.5c-12.159-3.783-3.333-11.167-11-26C207,114.5,214,107.165,206.5,109.833z"/>
			    								<path id="injs10" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M163.333,112.833c4.833-0.5,0.333-10.333,6-10.333s3.167-4.5,9.167-4.667s12.333,9.332,18.667,6.5c4.775-2.136,5.823,6.749,9.333,5.5c7.5-2.668,0.5,4.667,6,6.667c-1.578-3.052,2.5-8.667,7.5-3s14.115-7.509,8.833-10.833c-4.619-2.908,3.247-1.977-7.167-5c-7.652-2.222,2.458-6.234,0.167-14.395c-2.668-9.507,9.833,0.334,10.667-9.833c0.436-5.315,7,3.811,11.667-15.667c1.763-7.358-4.333-12.667-6.833-11.333s-7.5-4.167-11.833-0.333s-7.5-4.667-18.667,2.5c-4.746,3.046-8.823,4.455-10.833,0.333c-3.333-6.833-11,2-12.5-8c-0.822-5.479-10.833-6.833-13.333-13.833s-9.333-3-8.994-7.667s-4.84,0.333-10.173-2.667s-8.167,3.833-15,2s-0.667,7.333-9.333,5.5s-4.167,4.833-11.5,6.333s-7.167,11,1,10.667s4.167,6.5,11,8.167s0.5,3.667,5.333,5.667s4.167,9.667-0.667,8.333S133,69.272,126,68.772s-3,2.895-1.667,15.061s5.5,10.833,7,15.667s12.5,0.333,12.667,7.333s6.667,5.667,12,8.667C158.487,116.899,158.5,113.333,163.333,112.833z"/>
			    								<path id="injs11" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M363.75,279.75c-3.797-1.266-2.375,9.375-8,0.125c-3.558-5.851-9.125-4.5-10.375-2s-9.5,8.5-13.375,5.428s-3.25,2.697-6.5,3.572c-6.453,1.737-3.813-4.434-6.875-6c-5.375-2.75-7.125,2.75-15.375,0c-1.25,1.375-0.352,4.693-1.375,8.125c16.75,11.125,11.125,19.625,14.75,21.5c5.021,2.598,1.109,4.826-0.75,10.451c8.375,6.424,10,1.049,13.75,2.174s5.709-5.496,7.125-1.087c1.875,5.837-4.75,6.853,0.75,7.962c4.494,0.906,4.688-4.484,10.75-1.109c10.75,5.984,1.769-10.221,8.375-8.188c9.5,2.922,8.584,6.172,12.667,5.922c-1.905-3.282,4.649-4.137-4.667-10.125c-7-4.5,5.875-4-12.75-9.75c-4.348-1.342,1.5-9.125,5.875-6.5s8.5-9,14.75-7.375s18.5-16.625,12.125-27.75C370.294,256,373.5,283,363.75,279.75z"/>
			    								<path id="injs12" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M149.167,541.166c5.958-0.166,6.779,3.229,11.5,5.334c12.333,5.5,6.708-3.918,15.333-1.334s3-2.834,8.667-3s4.333-6.334,0.833-6s0.125-2.416-0.333-6.5c-0.731-6.513,2.852-2,3.926-5s4.742,0.501,9.575-0.166c-0.667-3.667,4.082-0.713,5.333-6.833c1.5-7.334-3.333-3.834-3.167-7.667s-3.667-1.5-5-6.833s-2.833-3.834-8.5-0.278s-3.5-0.973-8.667-2.222c-4.028-0.974-0.5,3.666-4,1.833s1.998-1.479-1.833-5.5c-1.978-2.076,0.167-3.334,1.833-0.833s4,0.333,5.5,2.5s3.167,0.416,1.333-1.667s4.5-1,1.5-4.167c-1.747-1.845-11.75,2.083-10.167-2s-4.583-0.75-2.667-12c0.73-4.285,5.75,1.083,7.5-4.166c1.311-3.931-4.361-3.485-3-9.5c2.583-11.417,11.167-3.501,11-7.5c-0.077-1.839-1.788-4.84,0.333-6.334c3.667-2.583-11.417-2.083-3-4.166c2.103-0.521,3.779-12.904,1.833-13.667c-4.25-1.667,8.667-8,2.981-7.833s2.685-6.167,3.352-11.334s-3.363-2.29-3.333-5.666c-4.917-4.916-9.956,6.695-13,8.333c-8.833,4.751-12.167,0.334-11,8.5c0.46,3.221-9.167,0.667-13.667-1.833s3.667,12.584-7.333,12s-6.652-0.134-13.167,4.5S125,438,120,442.833s3.5,4.668,2.833,12c-0.328,3.602-5.167,1.334-9,6.168c5.377,0.124,5.19,5,5.345,8.333S119.167,478.833,113,477c5,6.5,13,34,16.5,47C142.5,527.066,143.208,541.332,149.167,541.166z"/>
			    								<path id="injs13" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M178.494,598.667c5.006-7.666-4.66-2.5-0.827-14.5c1.286-4.024,3.167-8.667-4.833-5.834s1.333-11.666-4.5-13.166s1.167-5.249-4.25-7s1.333-4.333-4.583-6.167c-7.832-2.428-0.833-3.5,1.167-5.5c-4.721-2.105-5.542-5.5-11.5-5.334S142.5,527.066,129.5,524c1.345,4.994,4,14,10.974,21.098c3.401-0.41,5.896-0.363,2.399,4.738c6.294,14.83,10.149,23.729,12.127,29.664c3.5,10.5-4.333,19.333,17.5,40.5C180.417,608.834,171.431,609.481,178.494,598.667z"/>
			    								<path id="injs14" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M264,323.25c9.826-1.89,8.75-12.5,12-12s5.25-7.5-3.75-9s-2.813-8.417,11-6c4.009,0.701,3.584,2.917,8.375-3.625c-5.625-3.75,2.875-17.5-4.5-15s-16.928-14.865-23.75-9.625c-8.625,6.625-5.25-1.125-14.125,0.625c-7.17,1.414-1.75-8.75-11.25-4.25c-7.053,3.341-8.625,2-10.875-0.5s-1.375,3.875-7.25,2.375c-3.232-0.825-0.07-8.711-5-4.625c-8.886,7.366,8.875,18.375,3.125,23.5s-17.004-6.405-12.5-13.5c5-7.875-2.428-11.188,3.125-12.875c9.875-3,5.97-4.866,9.125-8.875c10.625-13.5-6.5-20.875-13.125-17s-33.35,18.642-32.5,23.25c2.375,12.875,15,1.25,16.75,8s-8.875,2.375-10,7.875s5,2.5,4,7.75c-0.563,2.957-6-2.375-4.375,4c1.162,4.56-1.142,4.412-5,2.625c-11.875-5.5-11.25,11.748-19.375,6.812s5.635-2.316,3.75-6.687c-2.75-6.375,5.25-5,2.25-9.625s-6.25,0.625-10.375-1.875s4.25-11.875-6.375-5.5s7.051,25.915-6.75,30.125c-7.375,2.25,2.875,4.25-3.75,7.5c-5.12,2.512-5.563-3.838-7.25,0c-3.625,8.25,5.5,4.625,2.625,8.25s-10.375,3-8.875,8.375s-1.875,8.375,1.875,9.125s6.375-2,9.375,0S128.5,339.625,136,339s4,6.75,16.75,5.5s8.75,8.125,15.625,5.625s4.77-10.698,12.375-11.25c15.5-1.125,4.75,6.875,13.125,6.625s8-6.25,15.625-2.375s9-6.625,16.75-1.625s11.25-1.125,21,5.5C255.75,341,253,325.365,264,323.25z"/>
			    								<path id="injs15" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M113.833,461.001c3.833-4.834,8.672-2.566,9-6.168c0.667-7.332-7.833-7.167-2.833-12s3.152,1.968,9.667-2.666s2.167-5.084,13.167-4.5s2.833-14.5,7.333-12s14.126,5.054,13.667,1.833c-1.167-8.166,2.167-3.749,11-8.5c3.044-1.638,8.083-13.249,13-8.333c0.083-9.251,1.917-3.917,5.333-8.5s-1.917-4.917,1-10.167s4.667,2.083,5.667-4c0.467-2.839,4.333,2.333,3.833-4.167S205,376.5,211.5,377.5s2.833,5,6.333,6.667s2.833-3.334,7.167-0.834s3.605-2.223,8,0c7.25,3.667,0.917,11.083,2.833,12s-5.5,7.417,6.417,6.042c-1.348-4.633,3.375-14.75,7.375-12.125s9.25-2.5,1-7.25s-0.625-4.25-3.75-9.5s6.5-4.5,0.5-17c-2.839-5.914,6.303-4.133-0.125-8.5c-9.75-6.625-13.25-0.5-21-5.5s-9.125,5.5-16.75,1.625s-7.25,2.125-15.625,2.375s2.375-7.75-13.125-6.625c-7.605,0.552-5.5,8.75-12.375,11.25s-2.875-6.875-15.625-5.625s-9.25-6.125-16.75-5.5s-2.375-4.125-5.375-6.125s-5.625,0.75-9.375,0c-4.25,3.291-3.917,8.458,0,7.458s6.141,1.692,2.417,2c-5.042,0.417-4.833,5.499-9,5.333s6.345,3.357,3.167,8.5c-4.958,8.021-9.778-3.675-9.667,2.834c0.146,8.519-4.167,8.75-4.979,8.5c0.188,4.438-4.688,2.063-4.875-1.375c-2.375-0.313-4.25,1.313-5.313,0.875c-3.574,5.004,1.5,32.5,5,47.753s3.5,41.747,6.5,45.247C110.833,458.501,110.416,460.922,113.833,461.001z"/>
			    								<path id="injs16" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M500,247.833c-1.959-0.476-2.167,9.333-9.5,6.167c-3,7.5-6.5,14-7.5,18s2.577,6.398,7.75,7.25c9.375,0.125,14.742,8.386,16.25-1.5c2.25-14.75,8.25-12,9.25-19.5s-5.25,1.25-2.75-9.5C509,241.833,511.666,250.667,500,247.833z"/>
			    								<path id="injs17" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M471.001,249.186c-7.945-1.479,2.749-13.311-16.333-2.519c-8.199,4.637-1.293-0.042-18.334,0c-10.666,0.026-10.333-0.333-14.335,5.083c-1.124,14.5,16.751,7.875,34.249,8.75c9.881,0.494,11.655-0.621,15.748,1.5C474.744,260.986,488.125,252.375,471.001,249.186z"/>
			    								<path id="injs18" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M483,272c-10.875,12.375-7.25,0-12.5,5.333c0.666,1.167,0.922,7.328,0.875,10.417c-0.625,12.25,3.375,14.625,7.875,30.959c2.715,9.855,7.25,0,10.25,0c7,0-6-15.709,0-15.709c5,0,5.5-19,0.75-23.75C485.077,278.398,482,276,483,272z"/>
			    								<path id="injs19" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M490.5,244.5c-4.818,8.064,3,2,0,9.5c7.333,3.167,7.541-6.643,9.5-6.167c11.666,2.833,9-6,13.5,0.917c0.475-2.041,4.25-0.25,3-5.5s7.75-7.125,2.5-15c-3.333-2.083-6.833-4.083-11-4C497.5,248,496.625,234.25,490.5,244.5z"/>
			    								<path id="injs20" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M369.292,326.625c-4.083,0.25-3.167-3-12.667-5.922c-6.606-2.033,2.375,14.172-8.375,8.188c-6.063-3.375-6.256,2.016-10.75,1.109c-5.5-1.109,1.125-2.125-0.75-7.962c-1.416-4.409-3.375,2.212-7.125,1.087s-5.375,4.25-13.75-2.174c-2.625,7.939-10,1.799-14,25.424c-0.971,5.734-11.625-4.875-19.625,10.875c-3.321,6.538,2.75,7.375,1,11.75s8.375,3.125,5.75,8.875c-1.23,2.695-15.125-10.375-16.25-3.5c-0.74,4.524,5.375,2.625,3.75,8c-1.304,4.314,2.875,2.625,3.297,9.25S276.375,408,270.5,408.5s-3.125,8.75-10.875,11.25c2.375,0.875,9.563,2.156,12.75-0.625c6.875-6,6-1,9.375-2.75s-0.123-6.25,2.501-9.5s-0.238,3.447,6.874,2.875c10.875-0.875,1.25-7.125,8-8.875s2.616-4.195,6-6c7.5-4,8.5,8.875,16.375,4.5c4.311-2.395,1.375-6.911,9-6.875c13.75-21,15.75-5.375,39-30.5c8.675-9.374-3-10.5,0-16.5s10.766-4.648,15.5-8.5C373.875,326.625,375.75,337.75,369.292,326.625z"/>
			    								<path id="injs21" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M150.375,169.75c1.28,4.617,1.643,5.851,3.625,1.625c2.833-6.042,11.5,4.625,15.625-7.875c1.694-5.134,5.875,1.417,7.5-0.75s-1.75-1.125,1-5.5s6.708,2.5,2.625-6.875c-3.083-0.292-4.416-4.375-1.083-6.375c-4.67-3.559-2.214-3.975-5.333-7.667c-4.083-4.833-4.048,5.888-13.167-14.667c-2.292-5.167,6.208-5.167,2.167-8.833c-4.833,0.5-4.847,4.065-7.333,2.667c0,5.5-7.345,5.158-9.5,6.5c-10.167,6.333,0.886,15.109-7,20.5c-16.333,11.167-10.765,21.071-14,21c4.625,0.875,8.299,0.426,11.75,1.375C142.25,166.25,148.25,162.083,150.375,169.75z"/>
			    								<path id="injs22" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M102.667,280.167c8.167-0.5,0.834,6.827,5,7.167c8.167,0.667-5.417,4.417,17.958,19.792c1.687-3.838,2.13,2.512,7.25,0c6.625-3.25-3.625-5.25,3.75-7.5c13.801-4.21-3.875-23.75,6.75-30.125s2.25,3,6.375,5.5s7.375-2.75,10.375,1.875s-5,3.25-2.25,9.625c1.885,4.371-11.875,1.75-3.75,6.687s7.5-12.312,19.375-6.812c3.858,1.787,6.162,1.935,5-2.625c-1.625-6.375,3.812-1.043,4.375-4c1-5.25-5.125-2.25-4-7.75s11.75-1.125,10-7.875s-14.375,4.875-16.75-8c-0.85-4.608,25.875-19.375,32.5-23.25c-1.375-4.792-2.292-1.042-4.958-2.208s-2.931,0.14-5.833,1.5c-5.333,2.5-5.583-0.583,0.667-3c2.715-1.05-3.25-0.833,0-3.667c1.69-1.474-7.786-3.555-4-15.167c-17.75,12.583-5.75-2.583-9.625-5.333s-3.095,5.476-7.75,1c-4.875-4.688-2.657,7.482-8.875,5.25c-4.875-1.75,6.183-6.43-4-12.331c-7.625-4.419-2.688-19.919-9.875-17.544c-4.364,1.442-2.375-4.313-10.125-2.5c-4.083,0.955,0.5-10.375-3-14c-3.451-0.949-7.125-0.5-11.75-1.375c-15.167-0.333-6.5,22.833-22.5,22c-7.008-0.365-11.167,23.167-22.5,20c-9.349-2.612-11.167,8.5-16.5-1c-3.277-5.837-9.431-4.833-11.5,2.412C49.333,218,43.138,213.021,42,219.5c-2.167,12.333,12.65,6.965,10.5,17.5c-3.333,16.333,9.793,7.979,10,13c0.667,16.167,10,18.167,8.5,21.5C100.833,273.667,94.5,280.667,102.667,280.167z"/>
			    								<path id="injs23" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M401,222c2.27-4.991-2.75-5.25-0.75-9.25s3.417-12.583-6.25-8.75c-6.712,2.662-9,15-7,19C398.625,226.875,391.5,219.25,401,222z"/>
			    								<path id="injs24" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M226.667,513.833c-4.583-3.608-2.167,1.167-5.833,3.834s-5.167-1-10.5,0s-1.167,3.666-4.131,6.833s-6.869,3.667-7.536,0c-4.833,0.667-8.5-2.834-9.575,0.166s-4.657-1.513-3.926,5c0.458,4.084-3.167,6.834,0.333,6.5s4.833,5.834-0.833,6s-0.042,5.584-8.667,3s-3,6.834-15.333,1.334c-2,2-8.998,3.072-1.167,5.5c5.917,1.834-0.833,4.416,4.583,6.167s-1.583,5.5,4.25,7s-3.5,15.999,4.5,13.166s6.119,1.81,4.833,5.834c-3.833,12,5.833,6.834,0.827,14.5c-7.063,10.814,1.923,10.167-5.994,21.333c8.042,7.796,21.833,0.333,23.5-9.5c1.41-8.32,7.5-9.333,18.5-12.5c-5.667-6.167,5.245-13.507,5.5-18.5c0.417-8.166,14.333,0.751,13-3s-2.174-6.046-1.732-9.188c-4.232-1.688-3.268-5.396,0.423-5.896c0.047-4.961-1.588-10.413-1.243-14.669c-7.469-0.837-2.281-6.58,0.552-6.247c0.5-5.5,11.625-10.375,11.5-34C235.167,501.667,234.5,520,226.667,513.833z"/>
			    								<path id="injs25" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M250.75,407c-1.875-4.75-6.5,1.25-8.5-5.625c-11.917,1.375-4.5-5.125-6.417-6.042s4.417-8.333-2.833-12c-4.395-2.223-3.667,2.5-8,0s-3.667,2.501-7.167,0.834S218,378.5,211.5,377.5s-8.333-2.167-7.833,4.333s-3.366,1.328-3.833,4.167c-1,6.083-2.75-1.25-5.667,4s2.417,5.584-1,10.167s-5.25-0.751-5.333,8.5c-0.03,3.376,4,0.499,3.333,5.666s-9.037,11.501-3.352,11.334s-7.231,6.166-2.981,7.833c1.945,0.763,0.27,13.146-1.833,13.667c-8.417,2.083,6.667,1.583,3,4.166c-2.122,1.494-0.41,4.495-0.333,6.334c7.5-0.666,9.26,3.072,12.333,0c7.167-7.166,10.667,1.5,13.667-4s9.667,1.834,8.333-4.333c-0.961-4.446-0.147-4.708,5.833-5.667c8.833-1.416,5.833,2.5,9.333,0s-1-4.5,2.333-6.333s8.654,7.05,9.333,4.333c1.333-5.333-8.167-3.333-2.833-6.333s6.5,2.795,9.167-1.103s11.833-3.063,12.5-7.73s6.916-2.918,6.708-7.376c-3.187,2.781-10.375,1.5-12.75,0.625C255.033,421.231,252.625,411.75,250.75,407z"/>
			    								<path id="injs26" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M470.5,277.333c-0.666-1.167-2.334,0.333-2.258-3.083c-2.766,9.403-15.617,5.125-18.008,12.75s2.234,8.75,2.484,14.75s10.406,5.25,10.719-3.5s4.063-8.125,7.938-10.5C471.422,284.661,471.166,278.5,470.5,277.333z"/>
			    								<path id="injs27" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M234.667,190.833c-2.667-2.833-3.167,4.792-17.833-7.167c-5.007-4.083,7.292-1.542-7.667-12.167c-5.411-3.844-4.542,8.875-10.667,1c-4.295-5.523-0.333-7.167,0.833-9.5s-2.816-3.289-5.667-4.5c-5.417,10.583-12.167,13.083-8.667,31c0.683,3.497,3.5,3.167,3.167,7.167s4.833,6,2.333,13.667c-3.786,11.612,5.69,13.693,4,15.167c-3.25,2.833,2.715,2.617,0,3.667c-6.25,2.417-6,5.5-0.667,3c2.903-1.36,3.167-2.667,5.833-1.5s3.583-2.584,4.958,2.208c6.625-3.875,23.75,3.5,13.125,17c-3.155,4.009,0.75,5.875-9.125,8.875c-5.553,1.687,1.875,5-3.125,12.875c-4.504,7.095,6.75,18.625,12.5,13.5s-12.011-16.134-3.125-23.5c4.93-4.086,1.768,3.8,5,4.625c5.875,1.5,5-4.875,7.25-2.375s3.822,3.841,10.875,0.5c9.5-4.5,4.08,5.664,11.25,4.25c8.875-1.75,5.5,6,14.125-0.625c6.822-5.24,16.375,12.125,23.75,9.625s-1.125,11.25,4.5,15c3.23,2.154,8.125,3.5,10.25-3.625c1.023-3.432,0.125-6.75,1.375-8.125c3.75-4.125-5.489-9.214,2.125-16.75c12.125-12,18.375-6.25,19.5-9.5s-7.416-4.678-9.748-7.25c-3.627-4,2.498-2.375,1.623-5.125s-5.625,0.125-5.625-3.5s9.625,0.625,9.625-2.75s-7.75-2.25-11.25-14.5c-9.736-0.073-22.833-4.5-30-8.5s-15.5-2.833-17.756-9.038C260.418,200.316,252.833,201,242,192C239.667,195.167,237.333,193.667,234.667,190.833z"/>
			    								<path id="injs28" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M210.833,141c-18.083,2.583-13.023,9.405-17.167,17.5c2.851,1.211,6.833,2.167,5.667,4.5s-5.129,3.977-0.833,9.5c6.125,7.875,5.256-4.844,10.667-1c14.958,10.625,2.66,8.084,7.667,12.167C231.5,195.625,232,188,234.667,190.833s5,4.333,7.333,1.167c-2.793-2.32,3.667-6.667,4.051-15.302c0.242-5.437,6.148-8.688,7.449-9.698c3.005-2.334,6.167-6.333-8.5-13c-8.689-3.95,1-4.5-21.5-11.5C218.167,147.083,219.762,139.725,210.833,141z"/>
			    								<path id="injs29" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M421.75,230.75c-4.332,2.559-8.523-4.977-12.25-1.25c-1.5,1.5-10.167-3.833-8.5-7.5c-9.5-2.75-2.375,4.875-14,1c2,4,6.5,5.833,1,12c7.625,7.17-6.944,12.325-3,15.875c7.5,6.75-3.716,8.419-0.375,14.25C391,276.25,378.75,294.5,372.5,292.875s-10.375,10-14.75,7.375s-10.223,5.158-5.875,6.5c18.625,5.75,5.75,5.25,12.75,9.75c9.316,5.988,2.762,6.843,4.667,10.125c6.458,11.125,4.583,0,15.708,10.375c7.375-6,10-14,11-7s6.125-5.125,14.5-8c3.329-1.143-5-9-2.5-17.5s-9.888-4.9-6.5-13.5c5.417-13.75-3.583-7.5-11.39-14c-3.46-2.881,6.247-13.572,10.89-14.23s5.5-5.77-0.5-6.27s-2.75-4.375-6.568-5c-7.045-1.153-2.682-7,0.068-10.5s-1.033-5.525,1.5-6c4-0.75,2.25,6.5,6.75,6.75s0.25-7.5,4.25-5s-1.75,6.5,5.75,8.25s4-4.75,7-4C424.001,235.667,421.166,235.167,421.75,230.75z"/>
			    								<path id="injs30" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M418.333,478.668c2.171-1.24,1.667,13.334-1.333,14S414.833,480.668,418.333,478.668z M415.162,505.668c1.829,1.167,3.838-2,4.505-4.667s-0.621-8.34-2.253-6.167C415.662,497.167,413.333,504.501,415.162,505.668z M418.833,517.334c0.5-4.334-2.392-3.039-2.833-5.5c-1.833-10.224-4.834,2.667-1.505,8S418.333,521.668,418.833,517.334z M410.5,544.001c1.167,3.167,4.866-1.34,3.995-5.667C413.824,535,409.333,540.834,410.5,544.001z M419.5,573.668c-2.333-1.5-3.334,2.833-2.334,4S421.833,575.168,419.5,573.668z M429.124,596.185c2.25-0.845,0.736-2.538-0.266-3.998C425.92,587.908,426.873,597.028,429.124,596.185z M434.166,598.668c-2.667-0.666-1,3.333,1.667,3.666s2.941-0.823,2.333-4.833C437.332,592.001,436.833,599.334,434.166,598.668z M445.333,612.668c-2.667,2,1.834,10.5,4.667,9.5S448.082,610.606,445.333,612.668z"/>
			    								<path id="injs31" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M180.75,150.375c-0.85-1.952-0.241-3.964-1.083-6.375C176.334,146,177.667,150.083,180.75,150.375z"/>
			    								<path id="injs32" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M100.625,363.5c-2.5,0.25-0.937,2.806-2.313,2.625c0.188,3.438,5.063,5.813,4.875,1.375C102.375,367.25,103.125,363.25,100.625,363.5z"/>
			    								<path id="injs33" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M97.846,358.237c-0.369,1.151-0.943,2.465-1.784,3.984C97.75,362.938,100.879,360.975,97.846,358.237z"/>
			    								<path id="injs34" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M67.375,530c-1.375,1-3.666-0.804-2.5-2.934C65.412,526.085,68.75,529,67.375,530z M63,537.375c-1.957,1.957,2.25,4.25,2.625,2.625S63.875,536.5,63,537.375z M72.5,544.942c1.125-1.567-1.375-4.067-2.375-2.442C68.86,544.556,71.375,546.51,72.5,544.942z M69.778,553.625c1.347-1.75-1.91-3.293-2.073-2.5C67.228,553.435,68.431,555.375,69.778,553.625z M69.778,560.125c0.097,2,4.042,1.75,3.007,0S69.778,560.125,69.778,560.125z M72.958,558.125c1.542,0.75,2.167,0.25,1.917-1.375C74.687,555.527,71.416,557.375,72.958,558.125z M81.75,550.911c-1.286,1.72,1,3.714,2.5,2.214S83.125,549.072,81.75,550.911z M88.875,546.5c-0.625,2.25,1,2.387,1.875,1.756S89.5,544.25,88.875,546.5z M78,566.75c-0.717,1.673,1.125,3.875,2.5,2.25S79.125,564.125,78,566.75z M69.778,575c-1.617,1.227-0.042,3.375,1.59,1.375S70.931,574.125,69.778,575z"/>
			    								<path id="injs35" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M181.167,193.773c-1.833,1.06-1.157,4.476,1.338,3.893s2.412,3.751,5.662-1c0.333-4-2.484-3.67-3.167-7.167C180.126,190.083,181.911,193.343,181.167,193.773z"/>
			    								<path id="injs36" fill="#EBECED" stroke="#FFFFFF" vector-effect="non-scaling-stroke" d="M142.873,549.836c-0.473-1.113-1.544-3.868-2.399-4.738C143.875,544.688,146.37,544.734,142.873,549.836z M231.268,567.313c0.214-1.527,0.407-4.183,0.423-5.896C228,561.917,227.035,565.624,231.268,567.313z M231,540.5c-0.118,1.303-0.332,3.531-0.552,6.247C222.979,545.91,228.167,540.167,231,540.5z"/>
			    							</g>
			    							<g id="visnames">
			    								<text fill="#000000" id="injsvn1" transform="matrix(1 0 0 1 191 475)"><tspan x="0" y="0" font-size="13">Andhra</tspan><tspan x="-3" y="15" font-size="13">Pradesh</tspan></text>
			    								<text fill="#000000" id="injsvn2" transform="matrix(1 0 0 1 427 174)"><tspan x="0" y="0" font-size="12">Arunachal</tspan><tspan x="4" y="14" font-size="12">Pradesh</tspan></text>
			    								<text fill="#000000" id="injsvn3" transform="matrix(1 0 0 1 447 239)" font-size="12">Assam</text>
			    								<text fill="#000000" id="injsvn4" transform="matrix(1 0 0 1 335 258)" font-size="13">Bihar</text>
			    								<text fill="#000000" id="injsvn5" transform="matrix(1 0 0 1 254 342)" font-size="9">Chhattisgarh</text>
			    								<text fill="#000000" id="injsvn6" transform="matrix(1 0 0 1 80 475)" font-size="13">Goa</text>
			    								<text fill="#000000" id="injsvn7" transform="matrix(1 0 0 1 60 312)" font-size="15">Gujarat</text>
			    								<text fill="#000000" id="injsvn8" transform="matrix(1 0 0 1 150 183)" font-size="9">Haryana</text>
			    								<text fill="#000000" id="injsvn9" transform="matrix(1 0 0 1 169 122)"><tspan x="0" y="0" font-size="10">Himachal</tspan><tspan x="2" y="12" font-size="10">Pradesh</tspan></text>
			    								<text fill="#000000" id="injsvn10" transform="matrix(1 0 0 1 157 69)"><tspan x="0" y="0" font-size="12">Jammu</tspan><tspan x="-14" y="14" font-size="12">and Kashmir</tspan></text>
			    								<text fill="#000000" id="injsvn11" transform="matrix(1 0 0 1 310 297)" font-size="11">Jharkhand</text>
			    								<text fill="#000000" id="injsvn12" transform="matrix(1 0 0 1 129 517)" font-size="14">Karnataka</text>
			    								<text fill="#000000" id="injsvn13" transform="matrix(1 0 0 1 119 612)" font-size="13">Kerala</text>
			    								<text fill="#000000" id="injsvn14" transform="matrix(1 0 0 1 148 313)" font-size="15">Madhya Pradesh</text>
			    								<text fill="#000000" id="injsvn15" transform="matrix(1 0 0 1 111 383)" font-size="15">Maharashtra</text>
			    								<text fill="#000000" id="injsvn16" transform="matrix(1 0 0 1 510 277)" font-size="11">Manipur</text>
			    								<text fill="#000000" id="injsvn17" transform="matrix(1 0 0 1 416 273)" font-size="10">Meghalaya</text>
			    								<text fill="#000000" id="injsvn18" transform="matrix(1 0 0 1 494 312)" font-size="11">Mizoram</text>
			    								<text fill="#000000" id="injsvn19" transform="matrix(1 0 0 1 519 244)" font-size="11">Nagaland</text>
			    								<text fill="#000000" id="injsvn20" transform="matrix(1 0 0 1 310 362)" font-size="9">Odisha</text>
			    								<text fill="#000000" id="injsvn21" transform="matrix(1 0 0 1 137 154)" font-size="12">Punjab</text>
			    								<text fill="#000000" id="injsvn22" transform="matrix(1 0 0 1 89 236)" font-size="15">Rajasthan</text>
			    								<text fill="#000000" id="injsvn23" transform="matrix(1 0 0 1 349 213)" font-size="11">Sikkim</text>
			    								<text fill="#000000" id="injsvn24" transform="matrix(1 0 0 1 184 559)"><tspan x="0" y="0" font-size="14">Tamil</tspan><tspan x="0" y="16" font-size="14">Nadu</tspan></text>
			    								<text fill="#000000" id="injsvn25" transform="matrix(1 0 0 1 194 420)" font-size="12">Telangana</text>
			    								<text fill="#000000" id="injsvn26" transform="matrix(1 0 0 1 426 316)" font-size="11">Tripura</text>
			    								<text fill="#000000" id="injsvn27" transform="matrix(1 0 0 1 211 231)" font-size="14">Uttar Pradesh</text>
			    								<text fill="#000000" id="injsvn28" transform="matrix(1 0 0 1 200 165)" font-size="10">Uttarakhand</text>
			    								<text fill="#000000" id="injsvn29" transform="matrix(1 0 0 1 374 305)"><tspan x="0" y="0" font-size="12">West</tspan><tspan x="-5" y="14" font-size="12">Bengal</tspan></text>
			    								<text fill="#000000" id="injsvn30" transform="matrix(1 0 0 1 420 550)"><tspan x="0" y="0" font-size="11">Andaman and</tspan><tspan x="-3" y="13" font-size="11">Nicobar Islands</tspan></text>
			    								<text fill="#000000" id="injsvn31" transform="matrix(1 0 0 1 185 149)" font-size="9">Chandigarh</text>
			    								<text fill="#000000" id="injsvn32" transform="matrix(1 0 0 1 16 377)" font-size="8">Dadra and Nagar Haveli</text>
			    								<text fill="#000000" id="injsvn33" transform="matrix(1 0 0 1 34 363)" font-size="8">Daman and Diu</text>
			    								<text fill="#000000" id="injsvn34" transform="matrix(1 0 0 1 32 588)" font-size="12">Lakshadweep</text>
			    								<text fill="#000000" id="injsvn35" transform="matrix(1 0 0 1 192 191)"><tspan x="0" y="0" font-size="8">National Capital</tspan><tspan x="-1" y="9" font-size="8">Territory of Delhi</tspan></text>
			    								<text fill="#000000" id="injsvn36" transform="matrix(1 0 0 1 234 558)" font-size="11">Puducherry</text>
			    							</g>
			    						</svg>
			    					</div>
			    					<script type="text/javascript">
			    						var injsconfig= {
                                                <?php 
                                                $query="SELECT field_1,field_2,field_3,field_4,field_5,field_6,field_7,field_8,field_9
                                                 FROM dashboard_data_laqshya 
                                                 WHERE type_data='mapInd'";
                                                $queryRes=mysqli_query($connection, $query);
                                                if(mysqli_num_rows($queryRes)>0){
                                                    $per=$colorCodeMap=array();
                                                  while ($resultMapInd = mysqli_fetch_assoc($queryRes)) {
                                                  	$key=$resultMapInd['field_3'];
                                                    if(!empty($resultMapInd['field_3'])){
                                                        $per[$key]=(int)(((int)$resultMapInd['field_6']*100)/(int)$resultMapInd['field_2']);
                                                        if($per[$key]>=76 && $per[$key]<=100){
                                                            $colorCodeMap[$key]='#72d062';
                                                        } else if($per[$key]>=51 && $per[$key]<=75){
                                                            $colorCodeMap[$key]='#5dc4ff';
                                                        } else if($per[$key]>=26 && $per[$key]<=50){
                                                            $colorCodeMap[$key]='#ff8c4d';
                                                        } else {
                                                            $colorCodeMap[$key]='';
                                                        }           
                                                        $facilities=isset($resultMapInd['field_2'])?'<br>Total no. of Facilities: '.$resultMapInd['field_2'].'<br>':'';
                                                        $certifiedLR=isset($resultMapInd['field_6'])?'<br>Facilities completed National level LaQshya certification for LR: '.$resultMapInd['field_6'].'<br>':'';
                                                        $certifiedOT=isset($resultMapInd['field_7'])?'<br>Facilities completed National level LaQshya certification for OT: '.$resultMapInd['field_7'].'<br>':'';
                                                        $stateCertifiedLR=isset($resultMapInd['field_8'])?'<br>Facilities completed State level LaQshya certification for LR: '.$resultMapInd['field_8'].'<br>':'';
                                                        $stateCertifiedOT=isset($resultMapInd['field_9'])?'<br>Facilities completed State level LaQshya certification for OT: '.$resultMapInd['field_9'].'<br>':'';
                                                        $LrBaseLine=isset($resultMapInd['field_4'])?'<br>Facilities completed Baseline LR Assessment: '.$resultMapInd['field_4'].'<br>':'';
                                                        $OtbaseLine=isset($resultMapInd['field_5'])?'<br>facilities completed Baseline OT Assessment: '.$resultMapInd['field_5'].'<br>':'';
                                                        echo '"'.$key.'":{
                                                            "hover":"<b><u>'.$resultMapInd['field_1'].'</u></b><br>'.$facilities.$LrBaseLine.$OtbaseLine.$certifiedLR.$certifiedOT.$stateCertifiedLR.$stateCertifiedOT.'", "upColor": "'.$colorCodeMap[$key].'", "overColor": "#ff6500", "downColor": "'.$colorCodeMap[$key].'", "active": !0
                                                        },'; 
                                                    

                                                    } else {                
                                                    }
                                                  }
                                                }
                                                ?>
                                                "general": {
			    									"borderColor": "#fff", "visibleNames": "#adadad"
			    								}
			    							}

			    							;
			    							function isTouchEnabled() {
			    								return(("ontouchstart" in window)||(navigator.MaxTouchPoints>0)||(navigator.msMaxTouchPoints>0))
			    							}

			    							jQuery(function() {
			    								jQuery("path[id^=injs]").each(function(i, e) {
			    									inaddEvent(jQuery(e).attr("id"))
			    								}
			    								)
			    							}

			    							);
			    							function inaddEvent(id, relationId) {
			    								var _obj=jQuery("#"+id);
			    								var arr=id.split("");
			    								var _Textobj=jQuery("#"+id+","+"#injsvn"+arr.slice(4).join(""));
			    								jQuery("#"+["visnames"]).attr( {
			    									"fill": injsconfig.general.visibleNames
			    								}
			    								);
			    								_obj.attr( {
			    									"fill": injsconfig[id].upColor, "stroke": injsconfig.general.borderColor
			    								}
			    								);
			    								_Textobj.attr( {
			    									"cursor": "default"
			    								}
			    								);
			    								if(injsconfig[id].active===!0) {
			    									_Textobj.attr( {
			    										"cursor": "pointer"
			    									}
			    									);
			    									_Textobj.hover(function() {
			    										jQuery("#jstip").show().html(injsconfig[id].hover);
			    										_obj.css( {
			    											"fill": injsconfig[id].overColor
			    										}
			    										)
			    									}
			    									, function() {
			    										jQuery("#jstip").hide();
			    										jQuery("#"+id).css( {
			    											"fill": injsconfig[id].upColor
			    										}
			    										)
			    									}
			    									);
                            _Textobj.click(function(){
                              console.log('map click');
                            });

			    									if(injsconfig[id].target!=="none") {
			    										_Textobj.mousedown(function() {
			    											jQuery("#"+id).css( {
			    												"fill": injsconfig[id].downColor
			    											}
			    											)
			    										}
			    										)
			    									}
			    									_Textobj.mouseup(function() {
			    										jQuery("#"+id).css( {
			    											"fill": injsconfig[id].overColor
			    										}
			    										);
			    										if(injsconfig[id].target==="new_window") {
			    											window.open(injsconfig[id].url)
			    										}
			    										else if(injsconfig[id].target==="same_window") {
			    											window.parent.location.href=injsconfig[id].url
			    										}
			    										else if(injsconfig[id].target==="modal") {
			    											jQuery(injsconfig[id].url).modal("show")
			    										}
			    									}
			    									);
			    									_Textobj.mousemove(function(e) {
			    										var x=e.pageX+10, y=e.pageY+15;
			    										var tipw=jQuery("#jstip").outerWidth(), tiph=jQuery("#jstip").outerHeight(), x=(x+tipw>jQuery(document).scrollLeft()+jQuery(window).width())?x-tipw-(20*2): x;
			    										y=(y+tiph>jQuery(document).scrollTop()+jQuery(window).height())?jQuery(document).scrollTop()+jQuery(window).height()-tiph-10: y;
			    										jQuery("#jstip").css( {
			    											left: x, top: y
			    										}
			    										)
			    									}
			    									);
			    									if(isTouchEnabled()) {
			    										_Textobj.on("touchstart", function(e) {
			    											var touch=e.originalEvent.touches[0];
			    											var x=touch.pageX+10, y=touch.pageY+15;
			    											var tipw=jQuery("#jstip").outerWidth(), tiph=jQuery("#jstip").outerHeight(), x=(x+tipw>jQuery(document).scrollLeft()+jQuery(window).width())?x-tipw-(20*2): x;
			    											y=(y+tiph>jQuery(document).scrollTop()+jQuery(window).height())?jQuery(document).scrollTop()+jQuery(window).height()-tiph-10: y;
			    											jQuery("#"+id).css( {
			    												"fill": injsconfig[id].downColor
			    											}
			    											);
			    											jQuery("#jstip").show().html(injsconfig[id].hover);
			    											jQuery("#jstip").css( {
			    												left: x, top: y
			    											}
			    											)
			    										}
			    										);
			    										_Textobj.on("touchend", function() {
			    											jQuery("#"+id).css( {
			    												"fill": injsconfig[id].upColor
			    											}
			    											);
			    											if(injsconfig[id].target==="new_window") {
			    												window.open(injsconfig[id].url)
			    											}
			    											else if(injsconfig[id].target==="same_window") {
			    												window.parent.location.href=injsconfig[id].url
			    											}
			    											else if(injsconfig[id].target==="modal") {
			    												jQuery(injsconfig[id].url).modal("show")
			    											}
			    										}
			    										)
			    									}
			    								}
			    							}

			    							var pins_config= {
			    								"pins":[ {
			    									"shape": "square", "hover": "<b><u>DELHI</u></b><br>Write any text and load images<br><img src='assets/images/example.png'>", "pos_X": 185, "pos_Y": 195, "size": 18, "outline": "#000080", "upColor": "#1a1aff", "overColor": "#66d9ff", "url": "https://www.html5interactivemaps.com/", "target": "new_window", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "<b><u>BANGALORE</u></b><br><span style='color: #bcbcbc;'>Street Address:</span><br>&nbsp;321 Example, Address 54321<br><span style='color: #bcbcbc;'>Telephone:</span><br>&nbsp;(256) 555-4321 / (256) 555-1234", "pos_X": 189, "pos_Y": 524, "size": 20, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "<b><u>MUMBAI</u></b><br><span style='color: #999;'>Click to open a modal window!</span><br><span style='color: #ff6666;'><b>Modal Window Option is Compatible<br> with Bootstrap Only.</b></span>", "pos_X": 100, "pos_Y": 405, "size": 16, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "url": "#mymodal", "target": "modal", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "<b><u>HYDERABAD</u></b><br><span style='color: #999;'>*Click to open a webpage*</span>", "pos_X": 208, "pos_Y": 424, "size": 14, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "AHMEDABAD", "pos_X": 94, "pos_Y": 313, "size": 14, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "SURAT", "pos_X": 100, "pos_Y": 349, "size": 14, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "KOLKATA", "pos_X": 397, "pos_Y": 310, "size": 14, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "BLANK8", "pos_X": 20, "pos_Y": 350, "size": 0, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "BLANK9", "pos_X": 20, "pos_Y": 400, "size": 0, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "BLANK10", "pos_X": 50, "pos_Y": 400, "size": 0, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "BLANK11", "pos_X": 100, "pos_Y": 400, "size": 0, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "BLANK12", "pos_X": 150, "pos_Y": 400, "size": 0, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "BLANK13", "pos_X": 200, "pos_Y": 400, "size": 0, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "BLANK14", "pos_X": 250, "pos_Y": 400, "size": 0, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								,
			    								{
			    									"shape": "circle", "hover": "BLANK15", "pos_X": 300, "pos_Y": 400, "size": 0, "outline": "#660000", "upColor": "#e60000", "overColor": "#ffd480", "active": !0
			    								}
			    								]
			    							}

			    							;
			    							function isTouchEnabled() {
			    								return(("ontouchstart" in window)||(navigator.MaxTouchPoints>0)||(navigator.msMaxTouchPoints>0))
			    							}


			    							function injsAddEvent(id) {
			    								var obj=jQuery("#injspins_"+id);
			    								if(pins_config.pins[id].active===!0) {
			    									obj.attr( {
			    										"cursor": "pointer"
			    									}
			    									);
			    									obj.hover(function() {
			    										jQuery("#jstip").show().html(pins_config.pins[id].hover);
			    										obj.css( {
			    											"fill": pins_config.pins[id].overColor
			    										}
			    										)
			    									}
			    									, function() {
			    										jQuery("#jstip").hide();
			    										obj.css( {
			    											"fill": pins_config.pins[id].upColor
			    										}
			    										)
			    									}
			    									);
			    									obj.mouseup(function() {
			    										obj.css( {
			    											"fill": pins_config.pins[id].overColor
			    										}
			    										);
			    										if(pins_config.pins[id].target==="new_window") {
			    											window.open(pins_config.pins[id].url)
			    										}
			    										else if(pins_config.pins[id].target==="same_window") {
			    											window.parent.location.href=pins_config.pins[id].url
			    										}
			    										else if(pins_config.pins[id].target==="modal") {
			    											jQuery(pins_config.pins[id].url).modal("show")
			    										}
			    									}
			    									);
			    									obj.mousemove(function(e) {
			    										var x=e.pageX+10, y=e.pageY+15;
			    										var tipw=jQuery("#jstip").outerWidth(), tiph=jQuery("#jstip").outerHeight(), x=(x+tipw>jQuery(document).scrollLeft()+jQuery(window).width())?x-tipw-(20*2): x;
			    										y=(y+tiph>jQuery(document).scrollTop()+jQuery(window).height())?jQuery(document).scrollTop()+jQuery(window).height()-tiph-10: y;
			    										jQuery("#jstip").css( {
			    											left: x, top: y
			    										}
			    										)
			    									}
			    									);
			    									if(isTouchEnabled()) {
			    										obj.on("touchstart", function(e) {
			    											var touch=e.originalEvent.touches[0];
			    											var x=touch.pageX+10, y=touch.pageY+15;
			    											var tipw=jQuery("#jstip").outerWidth(), tiph=jQuery("#jstip").outerHeight(), x=(x+tipw>jQuery(document).scrollLeft()+jQuery(window).width())?x-tipw-(20*2): x;
			    											y=(y+tiph>jQuery(document).scrollTop()+jQuery(window).height())?jQuery(document).scrollTop()+jQuery(window).height()-tiph-10: y;
			    											jQuery("#jstip").show().html(pins_config.pins[id].hover);
			    											jQuery("#jstip").css( {
			    												left: x, top: y
			    											}
			    											)
			    										}
			    										);
			    										obj.on("touchend", function() {
			    											jQuery("#"+id).css( {
			    												"fill": pins_config.pins[id].upColor
			    											}
			    											);
			    											if(pins_config.pins[id].target==="new_window") {
			    												window.open(pins_config.pins[id].url)
			    											}
			    											else if(pins_config.pins[id].target==="same_window") {
			    												window.parent.location.href=pins_config.pins[id].url
			    											}
			    											else if(pins_config.pins[id].target==="modal") {
			    												jQuery(pins_config.pins[id].url).modal("show")
			    											}
			    										}
			    										)
			    									}
			    								}
			    							}
			    						        	
			    					</script>
			    				</div><!--mapwrapper-->
			    			</div>
			    		</div>
			    	     		
			    	</div>
					<?php 
					$query="SELECT field_1,field_2,field_3,field_4,field_5,field_6,field_7,field_8,field_9
					 FROM dashboard_data_laqshya 
					 WHERE type_data='mapBox'";
					$queryRes=mysqli_query($connection, $query);
					$resultMapBox=mysqli_fetch_assoc($queryRes);
					?>
			    	<div class="col-md-5 col-sm-12 col-xs-12">
			    			<div class="widget1 pull-left col-sm-12">
			    				<div class="pull-left">
			    				   <h4 id="StateName">All</h4>                     
			                     <h1 id="AllFacilities"><?php echo $resultMapBox['field_1']; ?></h1>
			                        <h3>Total LaQshya Facilities </h3>
			                        <div class="clearfix"></div>
			                       </div>
			                </div>
			                <div class="clear"></div>
			                	<div class="win1s">
			                	<h4 id="">Top 5 States</h4>
			                	<ul>
                                <?php 
                                $query="SELECT field_1,field_2,field_3,field_4,field_5
                                 FROM dashboard_data_laqshya 
                                 WHERE type_data='top5'";
                                $queryRes=mysqli_query($connection, $query);
                                if(mysqli_num_rows($queryRes)>0){
                                	$resultTop5 = mysqli_fetch_assoc($queryRes);
                                	$resultTop5Data=array($resultTop5['field_1'],$resultTop5['field_2'],$resultTop5['field_3'],$resultTop5['field_4'],$resultTop5['field_5']);
                                  	foreach ($resultTop5Data as $key => $value) {
                                  		if(!empty($value)){
                                  			echo '<li><span><i class="fa fa-angle-right" aria-hidden="true">'.($key+1).'</i></span> '.$value.' <em id=""></em> </li>';
                                  		}
                                  	}
                                 } else {
                                 	//echo '<li><span><i class="fa fa-angle-right" aria-hidden="true">-</i></span> - <em id=""></em> </li>';
                                 } ?>			                		
			                	</ul>
			                </div>

			                <div class="win1s">
			                	<h4 id="StateName">Baseline Assessment</h4>
			                	<ul>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Facilities Completed Baseline LR Assessment  <em id="LrBaseLine"><?php echo $resultMapBox['field_2']; ?></em> </li>	
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Facilities Completed Baseline OT Assessment <em id="OtbaseLine"><?php echo $resultMapBox['field_3']; ?></em> </li>
			                		 
			                	</ul>	


			                </div>



			                <div class="win1s">
			                	<h4 id="StateName">National Certification</h4>
			                	<ul>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Applied For LR <em id="AllAppliedLR"><?php echo $resultMapBox['field_4']; ?></em> </li>	
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Applied For OT <em  id="AllAppliedOT"><?php echo $resultMapBox['field_5']; ?></em> </li>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Certified LR <em id="AllCertifiedLR"><?php echo $resultMapBox['field_6']; ?></em> </li>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Certified Maternity OT <em id="AllCertifiedOT"><?php echo $resultMapBox['field_7']; ?></em> </li>

			                	</ul>	


			                </div>



			                <div class="win1s">
			                	<h4 id="StateName">State Certification</h4>
			                	<ul>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Certified LR <em id="AllStatecertifiedLR"><?php echo $resultMapBox['field_8']; ?></em> </li>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Certified Maternity OT <em id="AllStatecertifiedOT"><?php echo $resultMapBox['field_9']; ?></em> </li>

			                	</ul>	


			                </div>

					 </div>



				<?php 
				$query="SELECT field_1,field_2,field_3,field_4,field_5,field_6,field_7,field_8,field_9,field_10,field_11
				 FROM dashboard_data_laqshya 
				 WHERE type_data='mapBox_asp'";
				$queryRes=mysqli_query($connection, $query);
				$resultMapBoxAsp=mysqli_fetch_assoc($queryRes);
				?>

				<div class="col-md-12 col-sm-12 col-xs-12 new-bottom-listing1">
					<div class="row">
						<div class="col-md-3 col-sm-3 col-xs-3">
			                <div class="widget1 widget1-m-h">
			                	<h4>Total Aspirational Facilities</h4>
			                     <h1 id="AsFacilities"><?php echo $resultMapBoxAsp['field_1']; ?></h1>
			                        <div class="clearfix"></div>
			                </div>
			               </div>

			              <div class="col-md-3 col-sm-3 col-xs-3">
			                <div class="win1s wind1s">
			                	<h4 id="StateName">Baseline Assessment</h4>
			                	<ul>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Facilities Completed Baseline LR Assessment <em id="AsLrBaseLine"><?php echo $resultMapBoxAsp['field_2']; ?></em> </li>	
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Facilities Completed Baseline OT Assessment <em  id="AsOtbaseLine"><?php echo $resultMapBoxAsp['field_3']; ?></em> </li>
			                	</ul>
			                </div>
			                </div>

			              <div class="col-md-3 col-sm-3 col-xs-3">
			                <div class="win1s">
			                	<h4 id="StateName">National Certification</h4>
			                	<ul>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Applied For LR <em id="AsAppliedLR"><?php echo $resultMapBoxAsp['field_4']; ?></em> </li>	
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Applied For OT <em  id="AsAppliedOT"><?php echo $resultMapBoxAsp['field_5']; ?></em> </li>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Certified LR <em id="AsCertifiedLR"><?php echo $resultMapBoxAsp['field_6']; ?></em> </li>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Certified Maternity OT <em id="AsCertifiedOT"><?php echo $resultMapBoxAsp['field_7']; ?></em> </li>

			                	</ul>	


			                </div>
			                </div>



			             <div class="col-md-3 col-sm-3 col-xs-3">
			                <div class="win1s">
			                	<h4 id="StateName">State Certification</h4>
			                	<ul>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Applied For LR <em  id="AsStateappliedLR"><?php echo $resultMapBoxAsp['field_8']; ?></em> </li>	
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Applied For OT <em id="AsStateappliedOT" ><?php echo $resultMapBoxAsp['field_9']; ?></em> </li>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Certified LR <em id="AsStatecertifiedLR"><?php echo $resultMapBoxAsp['field_10']; ?></em> </li>
			                		<li><span><i class="fa fa-angle-right" aria-hidden="true"></i></span> Certified Maternity OT <em id="AsStatecertifiedOT"><?php echo $resultMapBoxAsp['field_11']; ?></em> </li>

			                	</ul>	


			                </div>
			              </div>
			        </div>
				</div>

			    
			  </div>
			</div>
		</div>
			<!-- map end-->

			

			<!-- box started -->



		

		<!-- <=50:red, <=75:yellow, >=76:green -->
			<div class="row">
				<div class="col-md-12 col-sm-12 col-xs-12">
				  <div class="x_panel">
				    <div class="x_title">
				      <h2>LaQshya Status</h2>
				    </div>
					<?php
					$query="SELECT field_1,field_2,field_3,field_4,field_5,field_6,field_7,field_8,field_9,field_10
					 FROM dashboard_data_laqshya 
					 WHERE type_data='laqshya_sts'";
					$queryRes=mysqli_query($connection, $query);
					$resultLaqshyaSts=mysqli_fetch_assoc($queryRes);
					?>
				    <div class="x_content servi-list-1">
				    	<div class="row" >
				    			<div class="col-md-4">
				                        <div class="analytics-sparkle-line chart-around-value reso-mg-b-30">
	                            	  <?php 
										$dataGet=!empty($resultLaqshyaSts['field_2'])?$resultLaqshyaSts['field_2']:'0';
										$total=!empty($resultLaqshyaSts['field_1'])?$resultLaqshyaSts['field_1']:'0';
										$per=round((($dataGet/$total)*100),2);
                                        if($per==0){
                                                $classShow='faild';
                                                $classCode='#f00';          
                                        } else {
                                            switch ($per) {
                                                case $per<=30:
                                                    $classShow='faild';
                                                    $classCode='#f00';
                                                    break;
                                                case $per<=50 && $per>30:
                                                    $classShow='inprocess';
                                                    $classCode='#f9bb07';
                                                    break;              
                                                default:
                                                    $classShow='success';
                                                    $classCode='#0d9c26';
                                                    break;
                                            }                               
                                        }
										?>				 	
				                            <div class="analytics-content" >
				                            	 <div class="half-chart-line">
				                            	 	<div id="pacman" class="chart-srou-1" style="width:150px; height:150px;">
				                            	 	</div>
				                            	 	<span class="par-cart-fixe <?php echo $classShow;  ?>"><?php echo $per; ?>%</span>
				                            	 </div>
				                            	<div class="chart-new-link1"> 
						                                <h5>State Orientation</h5>         
					                            </div>
				                                <script type="text/javascript">
											     	 google.charts.load("current", {packages:["corechart"]});
											      google.charts.setOnLoadCallback(drawChart);
											      function drawChart() {
											        var hello = <?php echo $dataGet; ?>;
											        var hello1 = <?php echo $total; ?>;
											        
											        var data = google.visualization.arrayToDataTable([
											          ['State Orientation', 'Percentage'],
											          ['Completed', hello],
											          ['Total', hello1],
											          
											        ]);

											        var options = {
											          pieHole: 0.7,
											          tooltip: {text: 'value'},
											          legend: 'none',
											          
											          pieSliceText: 'none',
											          pieStartAngle: 270,
											          slices: {
											            0: { color: '<?php echo $classCode; ?>' },
											            1: { color: '#d3d3d3'},
											            
											          },
											          backgroundColor: { fill:'transparent' },

											          
		 
											          chartArea: {
													    left: 5,
													    top: 10,
													    right:0,
													    
	        											width: 150,  height:150,
	        											backgroundColor: {
														        stroke: '#fff',
														        strokeWidth: 1
														    }
														}
											        };

											        var chart = new google.visualization.PieChart(document.getElementById('pacman'));
											        chart.draw(data, options);
											      }
											    </script>
				                            </div>
				                        </div>
				                    </div>







				                    <div class="col-md-4">
				                        <div class="analytics-sparkle-line chart-around-value reso-mg-b-30">
                                      <?php 
                                        $dataGet=!empty($resultLaqshyaSts['field_3'])?$resultLaqshyaSts['field_3']:'0';
                                        $total=!empty($resultLaqshyaSts['field_1'])?$resultLaqshyaSts['field_1']:'0';
                                        $per=round((($dataGet/$total)*100),2);
                                        if($per==0){
                                                $classShow='faild';
                                                $classCode='#f00';          
                                        } else {
                                            switch ($per) {
                                                case $per<=30:
                                                    $classShow='faild';
                                                    $classCode='#f00';
                                                    break;
                                                case $per<=50 && $per>30:
                                                    $classShow='inprocess';
                                                    $classCode='#f9bb07';
                                                    break;              
                                                default:
                                                    $classShow='success';
                                                    $classCode='#0d9c26';
                                                    break;
                                            }                               
                                        }
                                        ?>				 	
				                            <div class="analytics-content" >
				                            	  
				                            	 <div class="half-chart-line">
				                            	 	<div id="pacman1" class="chart-srou-1" style="width:150px; height:150px;">
				                            	 		
				                            	 	</div>
				                            	 	<span class="par-cart-fixe <?php echo $classShow;  ?>"><?php echo $per; ?>%</span>
				                            	 </div>


				                            	<div class="chart-new-link1"> 
					                            	 
						                                <h5>Facilities Applied For State Certification For LR</h5>
						                               
					                                
					                            </div>
				                                <script type="text/javascript">
											     	 google.charts.load("current", {packages:["corechart"]});
											      google.charts.setOnLoadCallback(drawChart);
											      function drawChart() {
											        var hello = <?php echo $dataGet; ?>;
											        var hello1 = <?php echo $total; ?>;
											        
											        var data = google.visualization.arrayToDataTable([
											          ['Facilities Applied For State Certification For LR', 'Percentage'],
											          ['Applied', hello],
											          ['Total', hello1],
											          
											        ]);

											        var options = {
											          pieHole: 0.7,
											          tooltip: {text: 'value'},
											          legend: 'none',
											          
											          pieSliceText: 'none',
											          pieStartAngle: 270,
											          slices: {
											            0: { color: '<?php echo $classCode; ?>' },
											            1: { color: '#d3d3d3'},
											            
											          },
											          backgroundColor: { fill:'transparent' },

											          
		 
											          chartArea: {
													    left: 5,
													    top: 10,
													    right:0,
													    
	        											width: 150,  height:150,
	        											backgroundColor: {
														        stroke: '#fff',
														        strokeWidth: 1
														    }
														}
											        };

											        var chart = new google.visualization.PieChart(document.getElementById('pacman1'));
											        chart.draw(data, options);
											      }
											    </script>
				                            </div>
				                        </div>
				                    </div>



				                    <div class="col-md-4">
				                        <div class="analytics-sparkle-line chart-around-value reso-mg-b-30">
				 	
				                            <div class="analytics-content" >
                                      <?php 
                                        $dataGet=!empty($resultLaqshyaSts['field_4'])?$resultLaqshyaSts['field_4']:'0';
                                        $total=!empty($resultLaqshyaSts['field_1'])?$resultLaqshyaSts['field_1']:'0';
                                        $per=round((($dataGet/$total)*100),2);
                                        if($per==0){
                                                $classShow='faild';
                                                $classCode='#f00';          
                                        } else {
                                            switch ($per) {
                                                case $per<=30:
                                                    $classShow='faild';
                                                    $classCode='#f00';
                                                    break;
                                                case $per<=50 && $per>30:
                                                    $classShow='inprocess';
                                                    $classCode='#f9bb07';
                                                    break;              
                                                default:
                                                    $classShow='success';
                                                    $classCode='#0d9c26';
                                                    break;
                                            }                               
                                        }
                                        ?>				                            	  
				                            	 <div class="half-chart-line">
				                            	 	<div id="pacman2" class="chart-srou-1" style="width:150px; height:150px;">
				                            	 		
				                            	 	</div>
				                            	 	<span class="par-cart-fixe <?php echo $classShow;  ?>"><?php echo $per; ?>%</span>
				                            	 </div>


				                            	<div class="chart-new-link1"> 
					                            	 
						                                <h5>Facilities Applied For State Certification For OT</h5>
						                               
					                                 
					                            </div>
				                                <script type="text/javascript">
											     	 google.charts.load("current", {packages:["corechart"]});
											      google.charts.setOnLoadCallback(drawChart);
											      function drawChart() {
											        var hello = <?php echo $dataGet; ?>;
											        var hello1 = <?php echo $total; ?>;
											        
											        var data = google.visualization.arrayToDataTable([
											          ['Facilities Applied For State Certification For OT', 'Percentage'],
											          ['Applied', hello],
											          ['Total ', hello1],
											          
											        ]);

											        var options = {
											          pieHole: 0.7,
											          tooltip: {text: 'value'},
											          legend: 'none',
											          
											          pieSliceText: 'none',
											          pieStartAngle: 270,
											          slices: {
											            0: { color: '<?php echo $classCode; ?>' },
											            1: { color: '#d3d3d3'},
											            
											          },
											          backgroundColor: { fill:'transparent' },

											          
		 
											          chartArea: {
													    left: 5,
													    top: 10,
													    right:0,
													    
	        											width: 150,  height:150,
	        											backgroundColor: {
														        stroke: '#fff',
														        strokeWidth: 1
														    }
														}
											        };

											        var chart = new google.visualization.PieChart(document.getElementById('pacman2'));
											        chart.draw(data, options);
											      }
											    </script>
				                            </div>
				                        </div>
				                    </div>




				                    <div class="col-md-4">
				                        <div class="analytics-sparkle-line chart-around-value reso-mg-b-30">
				 	
				                            <div class="analytics-content" >
                                      <?php 
                                        $dataGet=!empty($resultLaqshyaSts['field_5'])?$resultLaqshyaSts['field_5']:'0';
                                        $total=!empty($resultLaqshyaSts['field_1'])?$resultLaqshyaSts['field_1']:'0';
                                        $per=round((($dataGet/$total)*100),2);
                                        if($per==0){
                                                $classShow='faild';
                                                $classCode='#f00';          
                                        } else {
                                            switch ($per) {
                                                case $per<=30:
                                                    $classShow='faild';
                                                    $classCode='#f00';
                                                    break;
                                                case $per<=50 && $per>30:
                                                    $classShow='inprocess';
                                                    $classCode='#f9bb07';
                                                    break;              
                                                default:
                                                    $classShow='success';
                                                    $classCode='#0d9c26';
                                                    break;
                                            }                               
                                        }
                                        ?>				                            	  
				                            	 <div class="half-chart-line">
				                            	 	<div id="pacman3" class="chart-srou-1" style="width:150px; height:150px;">
				                            	 		
				                            	 	</div>
				                            	 	<span class="par-cart-fixe <?php echo $classShow;  ?>"><?php echo $per; ?>%</span>
				                            	 </div>


				                            	<div class="chart-new-link1"> 
					                            	  
						                                <h5>Facilities Received State Certification For LR </h5>
						                               
					                                
					                            </div>




				                               
								 

				                                <script type="text/javascript">
											     	 google.charts.load("current", {packages:["corechart"]});
											      google.charts.setOnLoadCallback(drawChart);
											      function drawChart() {
                                                    var hello = <?php echo $dataGet; ?>;
                                                    var hello1 = <?php echo $total; ?>;
											        
											        var data = google.visualization.arrayToDataTable([
											          ['Facilities Received State Certification For LR', 'Percentage'],
											          ['Received', hello],
											          ['Total ', hello1],
											          
											        ]);

											        var options = {
											          pieHole: 0.7,
											          tooltip: {text: 'value'},
											          legend: 'none',
											          
											          pieSliceText: 'none',
											          pieStartAngle: 270,
											          slices: {
											            0: { color: '<?php echo $classCode; ?>' },
											            1: { color: '#d3d3d3'},
											            
											          },
											          backgroundColor: { fill:'transparent' },

											          
		 
											          chartArea: {
													    left: 5,
													    top: 10,
													    right:0,
													    
	        											width: 150,  height:150,
	        											backgroundColor: {
														        stroke: '#fff',
														        strokeWidth: 1
														    }
														}
											        };

											        var chart = new google.visualization.PieChart(document.getElementById('pacman3'));
											        chart.draw(data, options);
											      }
											    </script>
				                            </div>
				                        </div>
				                    </div>




				                    <div class="col-md-4">
				                        <div class="analytics-sparkle-line chart-around-value reso-mg-b-30">
				 	
				                            <div class="analytics-content" >
                                      <?php 
                                        $dataGet=!empty($resultLaqshyaSts['field_6'])?$resultLaqshyaSts['field_6']:'0';
                                        $total=!empty($resultLaqshyaSts['field_1'])?$resultLaqshyaSts['field_1']:'0';
                                        $per=round((($dataGet/$total)*100),2);
                                        if($per==0){
                                                $classShow='faild';
                                                $classCode='#f00';          
                                        } else {
                                            switch ($per) {
                                                case $per<=30:
                                                    $classShow='faild';
                                                    $classCode='#f00';
                                                    break;
                                                case $per<=50 && $per>30:
                                                    $classShow='inprocess';
                                                    $classCode='#f9bb07';
                                                    break;              
                                                default:
                                                    $classShow='success';
                                                    $classCode='#0d9c26';
                                                    break;
                                            }                               
                                        }
                                        ?>				                            	  
				                            	 <div class="half-chart-line">
				                            	 	<div id="pacman4" class="chart-srou-1" style="width:150px; height:150px;">
				                            	 		
				                            	 	</div>
				                            	 	<span class="par-cart-fixe <?php echo $classShow;  ?>"><?php echo $per; ?>%</span>
				                            	 </div>


				                            	<div class="chart-new-link1"> 
					                            	 
						                                <h5>Facilities Received State Certification For OT </h5>
						                               
					                                 
					                            </div>




				                               
								 

				                                <script type="text/javascript">
											     	 google.charts.load("current", {packages:["corechart"]});
											      google.charts.setOnLoadCallback(drawChart);
											      function drawChart() {
                                                    var hello = <?php echo $dataGet; ?>;
                                                    var hello1 = <?php echo $total; ?>;
											        
											        var data = google.visualization.arrayToDataTable([
											          ['Facilities Received State Certification For OT', 'Percentage'],
											          ['Received', hello],
											          ['Total ', hello1],
											          
											        ]);

											        var options = {
											          pieHole: 0.7,
											          tooltip: {text: 'value'},
											          legend: 'none',
											          
											          pieSliceText: 'none',
											          pieStartAngle: 270,
											          slices: {
											            0: { color: '<?php echo $classCode; ?>' },
											            1: { color: '#d3d3d3'},
											            
											          },
											          backgroundColor: { fill:'transparent' },

											          
		 
											          chartArea: {
													    left: 5,
													    top: 10,
													    right:0,
													    
	        											width: 150,  height:150,
	        											backgroundColor: {
														        stroke: '#fff',
														        strokeWidth: 1
														    }
														}
											        };

											        var chart = new google.visualization.PieChart(document.getElementById('pacman4'));
											        chart.draw(data, options);
											      }
											    </script>
				                            </div>
				                        </div>
				                    </div>



				                    <div class="col-md-4">
				                        <div class="analytics-sparkle-line chart-around-value reso-mg-b-30">
				 	
				                            <div class="analytics-content" >
                                      <?php 
                                        $dataGet=!empty($resultLaqshyaSts['field_7'])?$resultLaqshyaSts['field_7']:'0';
                                        $total=!empty($resultLaqshyaSts['field_1'])?$resultLaqshyaSts['field_1']:'0';
                                        $per=round((($dataGet/$total)*100),2);
                                        if($per==0){
                                                $classShow='faild';
                                                $classCode='#f00';          
                                        } else {
                                            switch ($per) {
                                                case $per<=30:
                                                    $classShow='faild';
                                                    $classCode='#f00';
                                                    break;
                                                case $per<=50 && $per>30:
                                                    $classShow='inprocess';
                                                    $classCode='#f9bb07';
                                                    break;              
                                                default:
                                                    $classShow='success';
                                                    $classCode='#0d9c26';
                                                    break;
                                            }                               
                                        }
                                        ?>				                            	  
				                            	 <div class="half-chart-line">
				                            	 	<div id="pacman5" class="chart-srou-1" style="width:150px; height:150px;">
				                            	 		
				                            	 	</div>
				                            	 	<span class="par-cart-fixe <?php echo $classShow;  ?>"><?php echo $per; ?>%</span>
				                            	 </div>


				                            	<div class="chart-new-link1"> 
					                            	 
						                                <h5>Facilities Applied For National Certification For LR </h5>
						                               
					                                 
					                            </div>




				                               
								 

				                                <script type="text/javascript">
											     	 google.charts.load("current", {packages:["corechart"]});
											      google.charts.setOnLoadCallback(drawChart);
											      function drawChart() {
                                                    var hello = <?php echo $dataGet; ?>;
                                                    var hello1 = <?php echo $total; ?>;
											        
											        var data = google.visualization.arrayToDataTable([
											          ['Facilities Applied For National Certification For LR', 'Percentage'],
											          ['Applied', hello],
											          ['Total ', hello1],
											          
											        ]);

											        var options = {
											          pieHole: 0.7,
											          tooltip: {text: 'value'},
											          legend: 'none',
											          
											          pieSliceText: 'none',
											          pieStartAngle: 270,
											          slices: {
											            0: { color: '<?php echo $classCode; ?>' },
											            1: { color: '#d3d3d3'},
											            
											          },
											          backgroundColor: { fill:'transparent' },

											          
		 
											          chartArea: {
													    left: 5,
													    top: 10,
													    right:0,
													    
	        											width: 150,  height:150,
	        											backgroundColor: {
														        stroke: '#fff',
														        strokeWidth: 1
														    }
														}
											        };

											        var chart = new google.visualization.PieChart(document.getElementById('pacman5'));
											        chart.draw(data, options);
											      }
											    </script>
				                            </div>
				                        </div>
				                    </div>




				                    <div class="col-md-4">
				                        <div class="analytics-sparkle-line chart-around-value reso-mg-b-30">
				 	
				                            <div class="analytics-content" >
                                      <?php 
                                        $dataGet=!empty($resultLaqshyaSts['field_8'])?$resultLaqshyaSts['field_8']:'0';
                                        $total=!empty($resultLaqshyaSts['field_1'])?$resultLaqshyaSts['field_1']:'0';
                                        $per=round((($dataGet/$total)*100),2);
                                        if($per==0){
                                                $classShow='faild';
                                                $classCode='#f00';          
                                        } else {
                                            switch ($per) {
                                                case $per<=30:
                                                    $classShow='faild';
                                                    $classCode='#f00';
                                                    break;
                                                case $per<=50 && $per>30:
                                                    $classShow='inprocess';
                                                    $classCode='#f9bb07';
                                                    break;              
                                                default:
                                                    $classShow='success';
                                                    $classCode='#0d9c26';
                                                    break;
                                            }                               
                                        }
                                        ?>				                            	  
				                            	 <div class="half-chart-line">
				                            	 	<div id="pacman6" class="chart-srou-1" style="width:150px; height:150px;">
				                            	 		
				                            	 	</div>
				                            	 	<span class="par-cart-fixe <?php echo $classShow;  ?>"><?php echo $per; ?>%</span>
				                            	 </div>


				                            	<div class="chart-new-link1"> 
					                            	 
						                                <h5>Facilities Applied For National Certification For OT </h5>
						                               
					                                 
					                            </div>

 
								 

				                                <script type="text/javascript">
											     	 google.charts.load("current", {packages:["corechart"]});
											      google.charts.setOnLoadCallback(drawChart);
											      function drawChart() {
                                                    var hello = <?php echo $dataGet; ?>;
                                                    var hello1 = <?php echo $total; ?>;
											        
											        var data = google.visualization.arrayToDataTable([
											          ['Facilities Applied For National Certification For OT', 'Percentage'],
											          ['Applied', hello],
											          ['Total ', hello1],
											          
											        ]);

											        var options = {
											          pieHole: 0.7,
											          tooltip: {text: 'value'},
											          legend: 'none',
											          
											          pieSliceText: 'none',
											          pieStartAngle: 270,
											          slices: {
											            0: { color: '<?php echo $classCode; ?>' },
											            1: { color: '#d3d3d3'},
											            
											          },
											          backgroundColor: { fill:'transparent' },

											          
		 
											          chartArea: {
													    left: 5,
													    top: 10,
													    right:0,
													    
	        											width: 150,  height:150,
	        											backgroundColor: {
														        stroke: '#fff',
														        strokeWidth: 1
														    }
														}
											        };

											        var chart = new google.visualization.PieChart(document.getElementById('pacman6'));
											        chart.draw(data, options);
											      }
											    </script>
				                            </div>
				                        </div>
				                    </div>



				                    <div class="col-md-4">
				                        <div class="analytics-sparkle-line chart-around-value reso-mg-b-30">
				 	
				                            <div class="analytics-content" >
                                      <?php 
                                        $dataGet=!empty($resultLaqshyaSts['field_9'])?$resultLaqshyaSts['field_9']:'0';
                                        $total=!empty($resultLaqshyaSts['field_1'])?$resultLaqshyaSts['field_1']:'0';
                                        $per=round((($dataGet/$total)*100),2);
                                        if($per==0){
                                                $classShow='faild';
                                                $classCode='#f00';          
                                        } else {
                                            switch ($per) {
                                                case $per<=30:
                                                    $classShow='faild';
                                                    $classCode='#f00';
                                                    break;
                                                case $per<=50 && $per>30:
                                                    $classShow='inprocess';
                                                    $classCode='#f9bb07';
                                                    break;              
                                                default:
                                                    $classShow='success';
                                                    $classCode='#0d9c26';
                                                    break;
                                            }                               
                                        }
                                        ?>				                            	  
				                            	 <div class="half-chart-line">
				                            	 	<div id="pacman7" class="chart-srou-1" style="width:150px; height:150px;">
				                            	 		
				                            	 	</div>
				                            	 	<span class="par-cart-fixe <?php echo $classShow;  ?>"><?php echo $per; ?>%</span>
				                            	 </div>


				                            	<div class="chart-new-link1"> 
					                            	 
						                                <h5>Facilities Received National Certification For LR </h5>
						                               
					                                 
					                            </div>

 
								 

				                                <script type="text/javascript">
											     	 google.charts.load("current", {packages:["corechart"]});
											      google.charts.setOnLoadCallback(drawChart);
											      function drawChart() {
                                                    var hello = <?php echo $dataGet; ?>;
                                                    var hello1 = <?php echo $total; ?>;
											        
											        var data = google.visualization.arrayToDataTable([
											          ['Facilities Received National Certification For LR', 'Percentage'],
											          ['Received', hello],
											          ['Total ', hello1],
											          
											        ]);

											        var options = {
											          pieHole: 0.7,
											          tooltip: {text: 'value'},
											          legend: 'none',
											          
											          pieSliceText: 'none',
											          pieStartAngle: 270,
											          slices: {
											            0: { color: '<?php echo $classCode; ?>' },
											            1: { color: '#d3d3d3'},
											            
											          },
											          backgroundColor: { fill:'transparent' },

											          
		 
											          chartArea: {
													    left: 5,
													    top: 10,
													    right:0,
													    
	        											width: 150,  height:150,
	        											backgroundColor: {
														        stroke: '#fff',
														        strokeWidth: 1
														    }
														}
											        };

											        var chart = new google.visualization.PieChart(document.getElementById('pacman7'));
											        chart.draw(data, options);
											      }
											    </script>
				                            </div>
				                        </div>
				                    </div>



				                    <div class="col-md-4">
				                        <div class="analytics-sparkle-line chart-around-value reso-mg-b-30">
				 	
				                            <div class="analytics-content" >
                                      <?php 
                                        $dataGet=!empty($resultLaqshyaSts['field_10'])?$resultLaqshyaSts['field_10']:'0';
                                        $total=!empty($resultLaqshyaSts['field_1'])?$resultLaqshyaSts['field_1']:'0';
                                        $per=round((($dataGet/$total)*100),2);
                                        if($per==0){
                                                $classShow='faild';
                                                $classCode='#f00';          
                                        } else {
                                            switch ($per) {
                                                case $per<=30:
                                                    $classShow='faild';
                                                    $classCode='#f00';
                                                    break;
                                                case $per<=50 && $per>30:
                                                    $classShow='inprocess';
                                                    $classCode='#f9bb07';
                                                    break;              
                                                default:
                                                    $classShow='success';
                                                    $classCode='#0d9c26';
                                                    break;
                                            }                               
                                        }
                                        ?>				                            	  
				                            	 <div class="half-chart-line">
				                            	 	<div id="pacman8" class="chart-srou-1" style="width:150px; height:150px;">
				                            	 		
				                            	 	</div>
				                            	 	<span class="par-cart-fixe <?php echo $classShow;  ?>"><?php echo $per; ?>%</span>
				                            	 </div>


				                            	<div class="chart-new-link1"> 
					                            	 
						                                <h5>Facilities Received National Certification For OT </h5>
						                               
					                                 
					                            </div>

 
								 

				                                <script type="text/javascript">
											     	 google.charts.load("current", {packages:["corechart"]});
											      google.charts.setOnLoadCallback(drawChart);
											      function drawChart() {
                                                    var hello = <?php echo $dataGet; ?>;
                                                    var hello1 = <?php echo $total; ?>;
											        
											        var data = google.visualization.arrayToDataTable([
											          ['Facilities Received National Certification For OT', 'Percentage'],
											          ['Received', hello],
											          ['Total ', hello1],
											          
											        ]);

											        var options = {
											          pieHole: 0.7,
											          tooltip: {text: 'value'},
											          legend: 'none',
											          
											          pieSliceText: 'none',
											          pieStartAngle: 270,
											          slices: {
											            0: { color: '<?php echo $classCode; ?>' },
											            1: { color: '#d3d3d3'},
											            
											          },
											          backgroundColor: { fill:'transparent' },

											          
		 
											          chartArea: {
													    left: 5,
													    top: 10,
													    right:0,
													    
	        											width: 150,  height:150,
	        											backgroundColor: {
														        stroke: '#fff',
														        strokeWidth: 1
														    }
														}
											        };

											        var chart = new google.visualization.PieChart(document.getElementById('pacman8'));
											        chart.draw(data, options);
											      }
											    </script>
				                            </div>
				                        </div>
				                    </div>



 

				                    </div>




				    </div>
				  </div>
				</div>
			</div>
		  
			<!-- charts box started -->	 





<div class="">





	<!-- progress bar started -->
            <div class="row">
                <div class="col-sm-12 col-xs-12">
                  <div class="x_panel bg-proce-bar-tag">
                    <div class="x_title">
                      <h2>LaQshya Program Indicators- Status </h2>
                      <ul class="nav navbar-right panel_toolbox">
                        <li>
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                        </li>
                      </ul>
                        
                      <div class="clearfix"></div>
                    </div>
                    <div class="x_content">  
                    	<div id="monthly_indicator_loader" class="loader-s" style="display: none;"></div>
                    	<!-- ministry,state,district started -->
                        <div id="otherIndicator" class="col-md-12">
                            <div class="bar-list-process">
                            <div class="row">
                                    <div class="col-md-6">

                                       <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Facility has assessed Labour Room and OT using NQAS checklist and reported Baseline Quality Scores</p></h3>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="progress-outer">
                                            <div class="progress" id="val_a">
                                                <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                                <div class="progress-value"><span>0</span>%</div>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Facility has set Quality Team at facility level and Quality Circles in Labour Room & Maternity Ots</p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_b">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Facility has oriented the Labour room and Maternity OT staff on LR protocols, RMC & QI</p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_c">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Percentage of deliveries are attended by a birth companion</p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_d">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"> <i class="fa fa-circle-o" aria-hidden="true"></i><p> Percentage deliveries are conducted using safe birth checklist in Labour Room</p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_e">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Percentage of deliveries are conducted using Safe Surgery checklist in Maternity OT</p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer" id="val_f">
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Percentage of deliveries for which Partograph is generated using real-time information in at least</p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_g">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Percentage breastfeeding within 1 hour</p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_h">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Neonatal asphyxia rate in Inborn Babies</p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_i">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Neonatal sepsis rate in-born babies</p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_j">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p>Surgical Site infection Rate in Maternity OT</p>
                                    </h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_k">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Antenatal corticosteroid administration rate in case in preterm labour </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_l">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Pre-eclampsia, eclampsia & PIH related mortality</p> </h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_m">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> APH/PPH related mortality </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_n">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Facility Labour Room is reorganized as labour room standardization guidelines </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_o">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Facility Labour room has staffing as per defined norms </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_p">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Percentage of Women, administered Oxytocin, immediately after birth </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_q">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> OSCE Score </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_r">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Facility conducts referral audit on Monthly basis </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_s">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Facility conducts Maternal death, Neonatal death and near-miss on monthly basis</p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_t">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Facility report zero stock outs in Labour Room & Maternity OT</p>
                                    </h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_u">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Still Birth Rate    </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_v">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Percentage of beneficiaries who were either satisfied or highly satisfied   </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_w">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> functional Obs ICU/Hybrid ICU/HDU?  </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_x">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Microbiological Surveillance in OT & LR </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_y">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Labour Room Quality Score Improvement from Baseline </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_z">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <h3 class="progress-title"><i class="fa fa-circle-o" aria-hidden="true"></i><p> Maternity OT Quality Score Improvement from Baseline    </p></h3>
                                </div>
                                <div class="col-md-6">
                                    <div class="progress-outer">
                                        <div class="progress" id="val_za">
                                            <div class="progress-bar progress-bar-striped progress-bar-info" style="width:0%;"></div>
                                            <div class="progress-value"><span>0</span>%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>
                        <!-- ministry,state,district ended -->


                    </div>
                    </div>
                </div>
            </div>
			<!-- prgress bar ended -->



			
		<div class="row">
			<div class="col-md-12 col-sm-12 col-xs-12">
			  <div class="x_panel">
			    <div class="x_title">
			      <h2>LaQshya In Aspirational District</h2>
			        <ul class="nav navbar-right panel_toolbox">
			        <li>
			        	<a class="collapse-link">
			        		<i class="fa fa-chevron-up"></i>
			        	</a>
			        </li>
			      </ul>
			    </div>
                <?php 
                $query="SELECT field_1,field_2,field_3
                 FROM dashboard_data_laqshya 
                 WHERE type_data='laqshya_aspd'";
                $queryRes=mysqli_query($connection, $query);
                if(mysqli_num_rows($queryRes)>0){
                  $resultLaqshyaAspd = mysqli_fetch_assoc($queryRes);
                }
                ?>
			    <div class="x_content servi-list-1 " >
			    	<div class="row" >
			    			<div class="col-md-4">
			                        <div class="analytics-sparkle-line analytics-content2 reso-mg-b-30">
			 
			                            <div class="analytics-content" >
			                            	<a title="Check Details" href="#">
				                                <h2 id="AsFacilitiesBox"><?php echo isset($resultLaqshyaAspd['field_1'])?$resultLaqshyaAspd['field_1']:0; ?></h2>
				                                <h5>Facilities In Aspirational District</h5>
				                                
				                                
				                                 
			                                </a>
			                            </div>
			                        </div>
			                    </div>


			                    <div class="col-md-4">
			                        <div class="analytics-sparkle-line analytics-content2 reso-mg-b-30">
			 
			                            <div class="analytics-content" >
			                            	<a title="Check Details" href="#">
				                                
				                                <h2 id="AsLrBaseLineBox"><?php echo isset($resultLaqshyaAspd['field_2'])?$resultLaqshyaAspd['field_2']:0; ?></h2><h5>Facilities Baselne Assesment For LR</h5>
				                                
				                                 
			                                </a>
			                            </div>
			                        </div>
			                    </div>


			                    <div class="col-md-4">
			                        <div class="analytics-sparkle-line analytics-content2 reso-mg-b-30">
			 
			                            <div class="analytics-content" >
			                            	<a title="Check Details" href="#">
			                            		<h2 id="AsOtbaseLineBox"><?php echo isset($resultLaqshyaAspd['field_3'])?$resultLaqshyaAspd['field_3']:0; ?></h2>
				                                <h5>Facilities Baselne Assesment For OT</h5>
				                                
				                                 
			                                </a>
			                            </div>
			                        </div>
			                    </div>

 



			                    </div>




			    </div>
			  </div>
			</div>
		</div>




		<div class="row">
			<div class="col-md-12 col-sm-12 col-xs-12">
			  <div class="x_panel">
			    <div class="x_title">
			      <h2>National Certification Status in Aspirational District</h2>
			        <ul class="nav navbar-right panel_toolbox">
			        <li>
			        	<a class="collapse-link">
			        		<i class="fa fa-chevron-up"></i>
			        	</a>
			        </li>
			      </ul>
			    </div>
                <?php 
                $query="SELECT field_1,field_2,field_3,field_4
                 FROM dashboard_data_laqshya 
                 WHERE type_data='laqshya_aspd_nt_cert'";
                $queryRes=mysqli_query($connection, $query);
                if(mysqli_num_rows($queryRes)>0){
                  $resultLaqshyaAspdNTCert = mysqli_fetch_assoc($queryRes);
                }
                ?>
			    <div class="x_content servi-list-1" >
			    	<div class="row" >
			    			<div class="col-md-4">
			                        <div class="analytics-sparkle-line analytics-content2 reso-mg-b-30">
			 
			                            <div class="analytics-content" >
			                            	<a title="Check Details" href="<?php echo $basepath; ?>/user/facilitydata?aspirational=yes&types=lr&level=national&stage=applied">
			                            		<h2 id="AsAppliedLRBox"><?php echo isset($resultLaqshyaAspdNTCert['field_1'])?$resultLaqshyaAspdNTCert['field_1']:0; ?></h2>
				                                <h5>Facilities Applied For LR Certification</h5>
				                                
				                                
				                                 
			                                </a>
			                            </div>
			                        </div>
			                    </div>


			                    <div class="col-md-4">
			                        <div class="analytics-sparkle-line analytics-content2 reso-mg-b-30">
			 
			                            <div class="analytics-content" >
			                            	<a title="Check Details" href="<?php echo $basepath; ?>/user/facilitydata?aspirational=yes&types=ot&level=national&stage=applied">
			                            		 <h2 id="AsAppliedOTBox"><?php echo isset($resultLaqshyaAspdNTCert['field_2'])?$resultLaqshyaAspdNTCert['field_2']:0; ?></h2>
				                                <h5>Facilities Applied For OT Certification</h5>
				                              
				                                 
			                                </a>
			                            </div>
			                        </div>
			                    </div>


			                    <div class="col-md-4">
			                        <div class="analytics-sparkle-line analytics-content2 reso-mg-b-30">
			 
			                            <div class="analytics-content" >
			                            	<a title="Check Details" href="#">
			                            		<h2 id="AsCertifiedLRBox"><?php echo isset($resultLaqshyaAspdNTCert['field_3'])?$resultLaqshyaAspdNTCert['field_3']:0; ?></h2>
				                                <h5>Facilities Received LR Certification</h5>
				                                
			                                </a>
			                            </div>
			                        </div>
			                    </div>



			                    <div class="col-md-4">
			                        <div class="analytics-sparkle-line analytics-content2 reso-mg-b-30">
			 
			                            <div class="analytics-content" >
			                            	<a title="Check Details" href="#">
			                            		<h2 id="AsCertifiedOTBox"><?php echo isset($resultLaqshyaAspdNTCert['field_4'])?$resultLaqshyaAspdNTCert['field_4']:0; ?></h2>
				                                <h5>Facilities Received OT Certification</h5>
				                                
				                                 
			                                </a>
			                            </div>
			                        </div>
			                    </div>


 



			                    </div>




			    </div>
			  </div>
			</div>
		</div>
 	



		<div class="row">
			<div class="col-md-12 col-sm-12 col-xs-12">
			  <div class="x_panel">
			    <div class="x_title">
			      <h2>State Certification Status in Aspirational District</h2>
			        <ul class="nav navbar-right panel_toolbox">
			        <li>
			        	<a class="collapse-link">
			        		<i class="fa fa-chevron-up"></i>
			        	</a>
			        </li>
			      </ul>
			    </div>
                <?php 
                $query="SELECT field_1,field_2,field_3,field_4
                 FROM dashboard_data_laqshya 
                 WHERE type_data='laqshya_aspd_st_cert'";
                $queryRes=mysqli_query($connection, $query);
                if(mysqli_num_rows($queryRes)>0){
                  $resultLaqshyaAspdSTCert = mysqli_fetch_assoc($queryRes);
                }
                ?>
			    <div class="x_content servi-list-1" >
			    	<div class="row" >
			    			<div class="col-md-4">
			                        <div class="analytics-sparkle-line analytics-content2 reso-mg-b-30">
			 
			                            <div class="analytics-content" >
			                            	<a title="Check Details" href="<?php echo $basepath; ?>/user/facilitydata?aspirational=yes&types=lr&level=state&stage=applied">
				                                
				                                 <h2 id="AsStateappliedLRBox"><?php echo isset($resultLaqshyaAspdNTCert['field_1'])?$resultLaqshyaAspdNTCert['field_1']:0; ?></h2><h5>Facilities Applied For LR Certification</h5>
				                                
				                               
				                                 
			                                </a>
			                            </div>
			                        </div>
			                    </div>


			                    <div class="col-md-4">
			                        <div class="analytics-sparkle-line analytics-content2 reso-mg-b-30">
			 
			                            <div class="analytics-content" >
			                            	<a title="Check Details" href="#">
				                                
				                                 <h2 id="AsStateappliedOTBox"><?php echo isset($resultLaqshyaAspdNTCert['field_2'])?$resultLaqshyaAspdNTCert['field_2']:0; ?></h2><h5>Facilities Applied For OT Certification</h5>
				                              
				                                 
			                                </a>
			                            </div>
			                        </div>
			                    </div>

			                    <div class="col-md-4">
			                        <div class="analytics-sparkle-line analytics-content2 reso-mg-b-30">
			 
			                            <div class="analytics-content" >
			                            	<a title="Check Details" href="<?php echo $basepath; ?>/user/facilitydata?aspirational=yes&types=lr&level=state&stage=received">
				                                <h2 id="AsStatecertifiedLRBox"><?php echo isset($resultLaqshyaAspdNTCert['field_3'])?$resultLaqshyaAspdNTCert['field_3']:0; ?></h2>
				                                <h5>Facilities Received LR Certification</h5>
				                                
			                                </a>
			                            </div>
			                        </div>
			                    </div>



			                    <div class="col-md-4">
			                        <div class="analytics-sparkle-line analytics-content2 reso-mg-b-30">
			 
			                            <div class="analytics-content" >
			                            	<a title="Check Details" href="#">
				                                <h2 id="AsStatecertifiedOTBox"><?php echo isset($resultLaqshyaAspdNTCert['field_4'])?$resultLaqshyaAspdNTCert['field_4']:0; ?></h2>
				                                <h5>Facilities Received OT Certification</h5>
				                                
				                                 
			                                </a>
			                            </div>
			                        </div>
			                    </div>


 



			                    </div>




			    </div>
			  </div>
			</div>
		</div>



			
<div class="row">
			<div class="col-md-6 col-sm-12 col-xs-12">
			  <div class="x_panel short-panel1">
			    <div class="x_title">
			      <h2>Maternal Death Cause</h2>
			      <ul class="nav navbar-right panel_toolbox">
			        <li>
			        	<a class="collapse-link">
			        		<i class="fa fa-chevron-up"></i>
			        	</a>
			        </li>
			      </ul>
			      <div class="clearfix"></div>
			    </div>
			    <div class="x_content" >  
        			<div class="col-md-12">
        				<div id="piechart_MatDeath" ></div>
        				<div id="piechart_MatDeath_loader" class="loader-s" style="display: none;"></div>
        				<div id="piechart_MatDeath_msg" class="msg-center" style="display: none;"></div>
	        		</div>
	    		</div>
	    	</div>
	    	</div>
			<div class="col-md-6 col-sm-12 col-xs-12">
			  <div class="x_panel short-panel1">
			     <div class="x_title">
			      <h2>Neonatal Death Cause</h2>
			      <ul class="nav navbar-right panel_toolbox">
			        <li>
			        	<a class="collapse-link">
			        		<i class="fa fa-chevron-up"></i>
			        	</a>
			        </li>
			      </ul>
			      <div class="clearfix"></div>
			    </div>
			    <div class="x_content" >  
        			<div class="col-md-12">
        				<div id="piechart_NeonDeath"></div>
                        <div id="piechart_NeonDeath_loader" class="loader-s" style="display: none;"></div>
                        <div id="piechart_NeonDeath_msg" class="msg-center" style="display: none;"></div>
	        		</div>
	    		</div>
	    	</div>
	    	</div>
			<div class="col-md-6 col-sm-12 col-xs-12">
			  <div class="x_panel short-panel1">
			    <div class="x_title">
			      <h2>Still Birth</h2>
			      <ul class="nav navbar-right panel_toolbox">
			        <li>
			        	<a class="collapse-link">
			        		<i class="fa fa-chevron-up"></i>
			        	</a>
			        </li>
			      </ul>
			      <div class="clearfix"></div>
			    </div>
			    <div class="x_content">  
        			<div class="col-md-12">
        				<div id="piechart_StillBirth"></div>
                        <div id="piechart_StillBirth_loader" class="loader-s" style="display: none;"></div>
                        <div id="piechart_StillBirth_msg" class="msg-center" style="display: none;"></div>
	        		</div>
	    		</div>
	    	</div>
	    	</div>
			<div class="col-md-6 col-sm-12 col-xs-12">
			  <div class="x_panel short-panel1">
			     <div class="x_title">
			      <h2>Normal Vs C-Section Deliveries</h2>
			      <ul class="nav navbar-right panel_toolbox">
			        <li>
			        	<a class="collapse-link">
			        		<i class="fa fa-chevron-up"></i>
			        	</a>
			        </li>
			      </ul>
			      <div class="clearfix"></div>
			    </div>

			    <div class="x_content" >  
        			<div class="col-md-12">
        				<div id="piechart_Deliveries"></div>
                        <div id="piechart_Deliveries_loader" class="loader-s" style="display: none;"></div>
                        <div id="piechart_Deliveries_msg" class="msg-center" style="display: none;"></div>
	        		</div>
	    		</div>
	    	</div>
	    	</div>
	        <div class="col-md-12 col-sm-12 col-xs-12">
	          <div class="x_panel">
	            <div class="x_title">
	              <h2>Annexture monthly</h2>
	              <ul class="nav navbar-right panel_toolbox">
	                <li>
	                  <a class="collapse-link">
	                    <i class="fa fa-chevron-up"></i>
	                  </a>
	                </li>
	              </ul>              
	              <div class="clearfix"></div>
	            </div>
	            <div class="x_content">  
	                <div class="col-md-12">
	                  <div id="chart_anexture" style="width: 95%; height: 100%;"></div>
                        <div id="chart_anexture_loader" class="loader-s" style="display: none;"></div>
                        <div id="chart_anexture_msg" class="msg-center" style="display: none;"></div>
	                </div>
	            </div>
	          </div>
	          </div>
			
			<!-- charts box ended -->

			</div> 
			</div>
		</div>        
    </div>
</div>
  </div>
</div> 	
<span id="jstip"></span>
   
<script type="text/javascript">
	function piechart_MatDeath_fun(searchDate=''){
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
        <?php 
        $query="SELECT field_1,field_2,field_3,field_4,field_5,field_6
         FROM dashboard_data_laqshya 
         WHERE type_data='piechart_MatDeath'";
        $queryRes=mysqli_query($connection, $query);
        $resultMatDeath = mysqli_fetch_assoc($queryRes);
        ?>      
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Category', 'Value'],
          ['APH',     <?php echo empty($resultMatDeath['field_1'])?0:$resultMatDeath['field_1']; ?>],
          ['PPH',      <?php echo empty($resultMatDeath['field_2'])?0:$resultMatDeath['field_2']; ?>],
          ['Sepsis',  <?php echo empty($resultMatDeath['field_3'])?0:$resultMatDeath['field_3']; ?>],
          ['Obstructed labour', <?php echo empty($resultMatDeath['field_4'])?0:$resultMatDeath['field_4']; ?>],
          ['Eclampsia',    <?php echo empty($resultMatDeath['field_5'])?0:$resultMatDeath['field_5']; ?>],
          ['Others',    <?php echo empty($resultMatDeath['field_6'])?0:$resultMatDeath['field_6']; ?>]
        ]);
        var options = {
          title: 'Maternal Death Cause',          
          is3D: true,
          'width':500,
         'height':300,
         chartArea:{left:0,top:5,width:"100%",height:"100%"},
         legend: {position: 'right'}
        };
        var chart = new google.visualization.PieChart(document.getElementById('piechart_MatDeath'));
        chart.draw(data, options);
      }


	
	}
	function piechart_NeonDeath_fun(searchDate=''){
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
        <?php 
        $query="SELECT field_1,field_2,field_3,field_4,field_5,field_6
         FROM dashboard_data_laqshya 
         WHERE type_data='piechart_NeonDeath'";
        $queryRes=mysqli_query($connection, $query);
        $resultMatDeath = mysqli_fetch_assoc($queryRes);
        ?>      
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Category', 'Value'],
          ['Prematurity',     <?php echo empty($resultMatDeath['field_1'])?0:$resultMatDeath['field_1']; ?>],
          ['Sepsis',      <?php echo empty($resultMatDeath['field_2'])?0:$resultMatDeath['field_2']; ?>],
          ['Asphyxia',  <?php echo empty($resultMatDeath['field_3'])?0:$resultMatDeath['field_3']; ?>],
          ['Others', <?php echo empty($resultMatDeath['field_4'])?0:$resultMatDeath['field_4']; ?>]
        ]);
        var options = {
          title: 'Neonatal Death Cause',          
          is3D: true,
          'width':500,
         'height':300,
         chartArea:{left:0,top:5,width:"100%",height:"100%"},
         legend: {position: 'right'}
        };
        var chart = new google.visualization.PieChart(document.getElementById('piechart_NeonDeath'));
        chart.draw(data, options);
      }		
	}
	function piechart_StillBirth_fun(searchDate=''){
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
        <?php 
        $query="SELECT field_1,field_2,field_3,field_4,field_5,field_6
         FROM dashboard_data_laqshya 
         WHERE type_data='piechart_StillBirth'";
        $queryRes=mysqli_query($connection, $query);
        $resultMatDeath = mysqli_fetch_assoc($queryRes);
        ?>      
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Category', 'Value'],
          ['Still Births',     <?php echo empty($resultMatDeath['field_1'])?0:$resultMatDeath['field_1']; ?>],
          ['Macerated Still Births',      <?php echo empty($resultMatDeath['field_2'])?0:$resultMatDeath['field_2']; ?>]
        ]);
        var options = {
          title: 'Still Birth',          
          is3D: true,
          'width':500,
         'height':300,
         chartArea:{left:0,top:5,width:"100%",height:"100%"},
         legend: {position: 'right'}
        };
        var chart = new google.visualization.PieChart(document.getElementById('piechart_StillBirth'));
        chart.draw(data, options);
      }		
	}
	function piechart_Deliveries_fun(searchDate=''){
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
        <?php 
        $query="SELECT field_1,field_2,field_3,field_4,field_5,field_6
         FROM dashboard_data_laqshya 
         WHERE type_data='piechart_Deliveries'";
        $queryRes=mysqli_query($connection, $query);
        $resultMatDeath = mysqli_fetch_assoc($queryRes);
        ?>
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Category', 'Value'],
          ['Normal Vaginal Deliveries',     <?php echo empty($resultMatDeath['field_1'])?0:$resultMatDeath['field_1']; ?>],
          ['Assisted Vaginal Deliveries',      <?php echo empty($resultMatDeath['field_2'])?0:$resultMatDeath['field_2']; ?>],
          ['C-Sections',      <?php echo empty($resultMatDeath['field_3'])?0:$resultMatDeath['field_3']; ?>],
        ]);
        var options = {
          title: 'Normal Vs C-Section Deliveries',          
          is3D: true,
          'width':500,
         'height':300,
         chartArea:{left:0,top:5,width:"100%",height:"100%"},
         legend: {position: 'right'}
        };
        var chart = new google.visualization.PieChart(document.getElementById('piechart_Deliveries'));
        chart.draw(data, options);
      }
	}
  function chart_anexture_fun(searchDate=''){
      google.charts.load('current', {'packages':['line']});
      google.charts.setOnLoadCallback(drawChart);
        <?php 
        $query="SELECT field_1,field_2,field_3,field_4,field_5,field_6
         FROM dashboard_data_laqshya 
         WHERE type_data='chart_anexture'";
        $queryRes=mysqli_query($connection, $query);
        $resultAnexture = mysqli_fetch_assoc($queryRes);
        $resultAnextureData=array($resultAnexture['field_1'],$resultAnexture['field_2'],$resultAnexture['field_3'],$resultAnexture['field_4'],$resultAnexture['field_5'],$resultAnexture['field_6']);
        ?>
      function drawChart() {
      	var chart_anexture_text=[["Category","Anexure"]
      	<?php
      	foreach ($resultAnextureData as $key => $value) {
      		if(!empty($value)){
      			$valueArr=explode('_',$value);
      			echo ',["'.$valueArr[0].'",'.$valueArr[1].']';
      		}
      	}?>];
        var data = google.visualization.arrayToDataTable(chart_anexture_text);
         var options = {
          title: '',
          curveType: 'none',
          legend: { position: 'bottom' },
          width:600,
          chartArea: {width:"100%",height:"70%",top:20},
          
        };chart = new google.visualization.LineChart(document.getElementById('chart_anexture'));
        chart.draw(data, options);         

      }
  	}
    function monthly_indicator_fun(){
    <?php 
    $query="SELECT *
     FROM dashboard_data_laqshya 
     WHERE type_data='indicator_sts'";
    $queryRes=mysqli_query($connection, $query);
    if(mysqli_num_rows($queryRes)>0){
      $resultMonthly = mysqli_fetch_assoc($queryRes);
      $resultMonthlyData=array(
      	'val_a'=>$resultMonthly['field_1'],
      	'val_b'=>$resultMonthly['field_2'],
      	'val_c'=>$resultMonthly['field_3'],
      	'val_d'=>$resultMonthly['field_4'],
      	'val_e'=>$resultMonthly['field_5'],
      	'val_f'=>$resultMonthly['field_6'],
      	'val_g'=>$resultMonthly['field_7'],
      	'val_h'=>$resultMonthly['field_8'],
      	'val_i'=>$resultMonthly['field_9'],
      	'val_j'=>$resultMonthly['field_10'],
      	'val_k'=>$resultMonthly['field_11'],
      	'val_l'=>$resultMonthly['field_12'],
      	'val_m'=>$resultMonthly['field_13'],
      	'val_n'=>$resultMonthly['field_14'],
      	'val_o'=>$resultMonthly['field_15'],
      	'val_p'=>$resultMonthly['field_16'],
      	'val_q'=>$resultMonthly['field_17'],
      	'val_r'=>$resultMonthly['field_18'],
      	'val_s'=>$resultMonthly['field_19'],
      	'val_t'=>$resultMonthly['field_20'],
      	'val_u'=>$resultMonthly['field_21'],
      	'val_v'=>$resultMonthly['field_22'],
      	'val_w'=>$resultMonthly['field_23'],
      	'val_x'=>$resultMonthly['field_24'],
      	'val_y'=>$resultMonthly['field_25'],
      	'val_z'=>$resultMonthly['field_26'],
      	'val_za'=>$resultMonthly['field_27']
      );
    } else { 
    	$resultMonthlyData=array();   	
    }
    if(!empty($resultMonthlyData) && count($resultMonthlyData)>0){
    	foreach ($resultMonthlyData as $key => $value) { 
    		$valArr=explode('_', $value);
    	?>
        $('#<?php echo $key; ?> .progress-bar').attr('style', 'width:<?php echo $valArr[0]; ?>%');
        $('#<?php echo $key; ?> .progress-value span').html(<?php echo $valArr[0]; ?>);
        $('#<?php echo $key; ?> .progress-bar').removeClass('success inprocess faild');
        $('#<?php echo $key; ?> .progress-bar').addClass('<?php echo $valArr[1]; ?>');    	
    	<?php }
    }
    ?>
    $('.progress-value > span').each(function(){
        $(this).prop('Counter',0).animate({
            Counter: $(this).text()
        },{
            duration: 1500,
            easing: 'swing',
            step: function (now){
                $(this).text(Math.ceil(now));
            }
        });
    });
      
  }

	$('document').ready(function(){
		piechart_MatDeath_fun();
		piechart_NeonDeath_fun();
		piechart_StillBirth_fun();
		piechart_Deliveries_fun();
		chart_anexture_fun();
		monthly_indicator_fun();
	});

</script>                                


<script type="text/javascript">
	

$(document).ready(function(){
	$('.count').each(function () {
	    $(this).prop('Counter',0).animate({
	        Counter: $(this).text()
	    }, {
	        duration: 4000,
	        easing: 'swing',
	        step: function (now) {
	            $(this).text(Math.ceil(now));
	        }
	    });
	});
});



</script>
 



</div>
<div class="clear"></div>
<footer>
            <div class="container">
                <div class="row" style="display: flex; align-items: center;">


                    <div class="col-md-12 col-sm-8 col-sm-12 col-xs-12 visitor-number">
                        Copyright &copy; 2018. LA<span style="color: #af2222;">Q</span>SHYA. All Rights Reserved.
                    </div>
                </div>
            </div>
        </footer>
 

  <!-- color changes -->
            <div class="color-theme">
                <a href="javascript:;"  class="theme-collapse-btn"><i class="fa fa-angle-left"></i></a>
                
                <ul>
                    <li><a class="black-bg" href="javascript:;" title="Black Theme" id="color1"><img src="<?php echo $basepath; ?>/assets/images/black-theme.png" alt="Black Theme"></a></li>
                
                    <li><a class="white-bg" href="javascript:;" title="Default Theme" id="color2"><img src="<?php echo $basepath; ?>/assets/images/default-theme.png" alt="Default Theme"></a></li>
                          
                    <li><a class="red-bg" href="javascript:;" title="Red Theme" id="color3"><img src="<?php echo $basepath; ?>/assets/images/red-bg.png" alt="Red Theme"></a></li>

                    <li><a class="grey-bg" href="javascript:;" title="Grey Theme" id="color4"><img src="<?php echo $basepath; ?>/assets/images/grey-theme.png" alt="Grey Theme"></a></li>
                </ul>

                  <h4> Color Theme</h4>

            </div>

            

<!-- date Picker -->
  <script src="<?php echo $basepath; ?>/assets/js/bootstrap.min.js"></script>
  <script src="<?php echo $basepath; ?>/assets/js/jquery.form.min.js"></script>
  <script src="<?php echo $basepath; ?>/assets/js/sweetalert.min.js"></script>
  <script src="<?php echo $basepath; ?>/assets/js/moment.min.js"></script>

<script src="<?php echo $basepath; ?>/assets/js/bootstrap-select.min.js"></script>
<script src="<?php echo $basepath; ?>/assets/js/bootstrap-datetimepicker.min.js"></script>



    <!-- FastClick -->
    <script src="<?php echo $basepath; ?>/assets/vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="<?php echo $basepath; ?>/assets/vendors/nprogress/nprogress.js"></script>
    <!-- Chart.js -->
    <script src="<?php echo $basepath; ?>/assets/vendors/Chart.js/dist/Chart.min.js"></script>
    <!-- gauge.js -->
    <script src="<?php echo $basepath; ?>/assets/vendors/gauge.js/dist/gauge.min.js"></script>
    <!-- bootstrap-progressbar -->
    <script src="<?php echo $basepath; ?>/assets/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
    <!-- iCheck -->
    <script src="<?php echo $basepath; ?>/assets/vendors/iCheck/icheck.min.js"></script>
    <!-- Skycons -->
    <script src="<?php echo $basepath; ?>/assets/vendors/skycons/skycons.js"></script>
    <!-- Flot -->
    <script src="<?php echo $basepath; ?>/assets/vendors/Flot/jquery.flot.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/Flot/jquery.flot.pie.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/Flot/jquery.flot.time.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/Flot/jquery.flot.stack.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/Flot/jquery.flot.resize.js"></script>
    <!-- Flot plugins -->
    <script src="<?php echo $basepath; ?>/assets/vendors/flot.orderbars/js/jquery.flot.orderBars.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/flot-spline/js/jquery.flot.spline.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/flot.curvedlines/curvedLines.js"></script>
    <!-- DateJS -->
    <!-- <script src="assets/vendors/DateJS/build/date.js"></script> -->
    <!-- JQVMap -->
    <script src="<?php echo $basepath; ?>/assets/vendors/jqvmap/dist/jquery.vmap.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/jqvmap/dist/maps/jquery.vmap.world.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/jqvmap/examples/js/jquery.vmap.sampledata.js"></script>
    <!-- bootstrap-daterangepicker -->
    <script src="<?php echo $basepath; ?>/assets/vendors/moment/min/moment.min.js"></script>
    <!--<script src="<?php echo $basepath; ?>/assets/vendors/bootstrap-daterangepicker/daterangepicker.js"></script>-->

       <!-- Datatables -->
    <script src="<?php echo $basepath; ?>/assets/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/jszip/dist/jszip.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/pdfmake/build/pdfmake.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
    <script src="<?php echo $basepath; ?>/assets/vendors/pdfmake/build/vfs_fonts.js"></script>
 

    <!-- Custom Theme Scripts -->
    <script src="<?php echo $basepath; ?>/assets/js/custom.min.js"></script>

    <script src="<?php echo $basepath; ?>/assets/js/custom.js"></script>

    <script src="<?php echo $basepath; ?>/assets/js/custom-file-input.js"></script>

<!--<script src="assets/js/map-scripts/india-min.js"></script>-->
    



 


<script>
function goBack() {
  window.history.back();
}
</script>
</body>
</html>



CREATE TABLE `dashboard_data_laqshya` (
  `id` int(11) NOT NULL,
  `type_data` varchar(25) NOT NULL,
  `field_1` varchar(25) DEFAULT NULL,
  `field_2` varchar(25) DEFAULT NULL,
  `field_3` varchar(25) DEFAULT NULL,
  `field_4` varchar(25) DEFAULT NULL,
  `field_5` varchar(25) DEFAULT NULL,
  `field_6` varchar(25) DEFAULT NULL,
  `field_7` varchar(25) DEFAULT NULL,
  `field_8` varchar(25) DEFAULT NULL,
  `field_9` varchar(25) DEFAULT NULL,
  `field_10` varchar(25) DEFAULT NULL,
  `field_11` varchar(25) DEFAULT NULL,
  `field_12` varchar(25) DEFAULT NULL,
  `field_13` varchar(25) DEFAULT NULL,
  `field_14` varchar(25) DEFAULT NULL,
  `field_15` varchar(25) DEFAULT NULL,
  `field_16` varchar(25) DEFAULT NULL,
  `field_17` varchar(25) DEFAULT NULL,
  `field_18` varchar(25) DEFAULT NULL,
  `field_19` varchar(25) DEFAULT NULL,
  `field_20` varchar(25) DEFAULT NULL,
  `field_21` varchar(25) DEFAULT NULL,
  `field_22` varchar(25) DEFAULT NULL,
  `field_23` varchar(25) DEFAULT NULL,
  `field_24` varchar(25) DEFAULT NULL,
  `field_25` varchar(25) DEFAULT NULL,
  `field_26` varchar(25) DEFAULT NULL,
  `field_27` varchar(25) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `dashboard_data_laqshya`
--

INSERT INTO `dashboard_data_laqshya` (`id`, `type_data`, `field_1`, `field_2`, `field_3`, `field_4`, `field_5`, `field_6`, `field_7`, `field_8`, `field_9`, `field_10`, `field_11`, `field_12`, `field_13`, `field_14`, `field_15`, `field_16`, `field_17`, `field_18`, `field_19`, `field_20`, `field_21`, `field_22`, `field_23`, `field_24`, `field_25`, `field_26`, `field_27`) VALUES
(1, 'boxtop', '2235', '179', '527', '451', '542', '128', '408', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(2, 'mapInd', 'Andhra Prad', '69', 'injs1', '57', '57', '1', 'NA', '3', '3', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(3, 'mapInd', 'Arunachal P', '6', 'injs2', '6', '6', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(4, 'mapInd', 'Assam', '128', 'injs3', '110', '110', '4', '4', '18', '18', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(5, 'mapInd', 'Bihar', '426', 'injs4', '426', '426', '2', '1', '3', '3', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(6, 'mapInd', 'Chhattisgar', '38', 'injs5', '38', '38', '6', '3', '9', '7', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(7, 'mapInd', 'Goa', '5', 'injs6', '5', '5', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(8, 'mapInd', 'Gujarat', '153', 'injs7', '148', '148', '12', '13', '45', '45', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(9, 'mapInd', 'Haryana', '48', 'injs8', '48', '48', '6', 'NA', '9', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(10, 'mapInd', 'Himachal Pr', '20', 'injs9', '18', '18', '2', '1', '2', '2', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(11, 'mapInd', 'Jammu & Kas', '23', 'injs10', '21', '21', 'NA', 'NA', '1', '1', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(12, 'mapInd', 'Jharkhand', '74', 'injs11', '40', '40', '1', '1', '4', '4', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(13, 'mapInd', 'Karnataka', '123', 'injs12', '123', '123', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(14, 'mapInd', 'Kerala', '41', 'injs13', '41', '41', '2', '2', '3', '3', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(15, 'mapInd', 'Madhya Prad', '25', 'injs14', '25', '25', '5', '5', '14', '15', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(16, 'mapInd', 'Maharashtra', '106', 'injs15', '123', '123', 'NA', 'NA', '22', '20', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(17, 'mapInd', 'Manipur', '6', 'injs16', '6', '6', 'NA', 'NA', '1', '1', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(18, 'mapInd', 'Meghlaya', '4', 'injs17', '4', '4', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(19, 'mapInd', 'Mizoram', '9', 'injs18', '9', '9', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(20, 'mapInd', 'Nagaland', '4', 'injs19', '4', '4', 'NA', 'NA', '1', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(21, 'mapInd', 'Odisha', '98', 'injs20', '72', '72', 'NA', 'NA', '6', '6', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(22, 'mapInd', 'Punjab', '25', 'injs21', '25', '25', '1', '1', '4', '1', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(23, 'mapInd', 'Rajasthan', '72', 'injs22', '72', '72', '1', 'NA', '11', '8', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(24, 'mapInd', 'Sikkim', '1', 'injs23', '1', '1', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(25, 'mapInd', 'Tamilnadu', '188', 'injs24', '188', '188', '4', '4', '4', '4', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(26, 'mapInd', 'Telangana', '76', 'injs25', '40', '40', '2', '2', '7', '7', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(27, 'mapInd', 'Tripura', '12', 'injs26', '12', '12', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(28, 'mapInd', 'Uttar Prade', '277', 'injs27', '277', '277', '2', '1', '6', '6', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(29, 'mapInd', 'Uttarakhand', '16', 'injs28', '16', '16', '1', 'NA', '1', '1', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(30, 'mapInd', 'West Bengal', '110', 'injs29', '100', '100', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(31, 'mapInd', 'Andaman and', '6', 'injs30', '1', '1', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(32, 'mapInd', 'Chandigarh', '3', 'injs31', '3', '3', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(33, 'mapInd', 'Dadra & Nag', '2', 'injs32', '2', '2', '2', 'NA', '2', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(34, 'mapInd', 'Daman and D', '2', 'injs33', '2', '2', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(35, 'mapInd', 'Lakshadweep', '1', 'injs34', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(36, 'mapInd', 'Delhi', '18', 'injs35', '18', '18', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(37, 'mapInd', 'Puducherry', '3', 'injs36', '3', '3', 'NA', 'NA', '3', '3', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(38, 'top5', 'Delhi', 'Arunachal Pradesh', 'Gujarat', 'Jharkhand', 'Maharashtra', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(39, 'mapBox', '2235', '2084', '2084', '135', '123', '38', '26', '99', '86', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(40, 'mapBox_asp', '417', '415', '415', '32', '27', '17', '9', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(41, 'laqshya_sts', '2235', '2235', '0', '0', '99', '86', '135', '123', '38', '26', '', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(42, 'indicator_sts', '0_faild', '0.1_faild', '0.1_faild', '0.1_faild', '0.1_faild', '0.05_faild', '0.1_faild', '0.1_faild', '0_faild', '0.1_faild', '0_faild', '0.1_faild', '0.1_faild', '0.1_faild', '0.05_faild', '0.05_faild', '0.05_faild', '0_faild', '0.1_faild', '0.1_faild', '0_faild', '0.1_faild', '0.1_faild', '0.05_faild', '0.1_faild', '0.1_faild', '0.1_faild'),
(43, 'piechart_MatDeath', '1', '0', '0', '0', '4', '3', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(44, 'piechart_NeonDeath', '13', '7', '4', '8', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(45, 'piechart_StillBirth', '16', '11', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(46, 'piechart_Deliveries', '725', '45', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(47, 'chart_anexture', 'Jan 2019_10', 'Feb 2019_15', 'March 2019_25', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(48, 'chart_anexture', 'Jan 2019_10', 'Feb 2019_15', 'March 2019_25', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(49, 'chart_anexture', 'Jan 2019_10', 'Feb 2019_15', 'March 2019_25', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(50, 'laqshya_aspd', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(51, 'laqshya_aspd_nt_cert', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(52, 'laqshya_aspd_st_cert', 'NA', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(53, 'summary', '2235', '2235', '2084', '2235', '38', 'NA', 'NA', 'NA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);

--
-- Indexes for dumped tables
--

--
-- Indexes for table `dashboard_data_laqshya`
--
ALTER TABLE `dashboard_data_laqshya`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `dashboard_data_laqshya`
--
ALTER TABLE `dashboard_data_laqshya`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=54;
